var Wf=Object.defineProperty;var Yf=(t,e,s)=>e in t?Wf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Ne=(t,e,s)=>(Yf(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();function Xa(t,e){const s=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)s[i[n]]=!0;return e?n=>!!s[n.toLowerCase()]:n=>!!s[n]}function Cs(t){if(le(t)){const e={};for(let s=0;s<t.length;s++){const i=t[s],n=We(i)?Zf(i):Cs(i);if(n)for(const r in n)e[r]=n[r]}return e}else{if(We(t))return t;if(Ue(t))return t}}const $f=/;(?![^(]*\))/g,qf=/:([^]+)/,Kf=/\/\*.*?\*\//gs;function Zf(t){const e={};return t.replace(Kf,"").split($f).forEach(s=>{if(s){const i=s.split(qf);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Lr(t){let e="";if(We(t))e=t;else if(le(t))for(let s=0;s<t.length;s++){const i=Lr(t[s]);i&&(e+=i+" ")}else if(Ue(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Jf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qf=Xa(Jf);function nu(t){return!!t||t===""}const Pe={},_i=[],Dt=()=>{},ep=()=>!1,tp=/^on[^a-z]/,Nr=t=>tp.test(t),Va=t=>t.startsWith("onUpdate:"),tt=Object.assign,Wa=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},sp=Object.prototype.hasOwnProperty,ge=(t,e)=>sp.call(t,e),le=Array.isArray,Zi=t=>kr(t)==="[object Map]",ip=t=>kr(t)==="[object Set]",ce=t=>typeof t=="function",We=t=>typeof t=="string",Ya=t=>typeof t=="symbol",Ue=t=>t!==null&&typeof t=="object",ru=t=>Ue(t)&&ce(t.then)&&ce(t.catch),np=Object.prototype.toString,kr=t=>np.call(t),rp=t=>kr(t).slice(8,-1),op=t=>kr(t)==="[object Object]",$a=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,or=Xa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ur=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ap=/-(\w)/g,Pi=Ur(t=>t.replace(ap,(e,s)=>s?s.toUpperCase():"")),lp=/\B([A-Z])/g,Bi=Ur(t=>t.replace(lp,"-$1").toLowerCase()),ou=Ur(t=>t.charAt(0).toUpperCase()+t.slice(1)),ao=Ur(t=>t?`on${ou(t)}`:""),en=(t,e)=>!Object.is(t,e),lo=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},_r=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},au=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let zl;const hp=()=>zl||(zl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let jt;class cp{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=jt,!e&&jt&&(this.index=(jt.scopes||(jt.scopes=[])).push(this)-1)}run(e){if(this.active){const s=jt;try{return jt=this,e()}finally{jt=s}}}on(){jt=this}off(){jt=this.parent}stop(e){if(this.active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}}}function up(t,e=jt){e&&e.active&&e.effects.push(t)}const qa=t=>{const e=new Set(t);return e.w=0,e.n=0,e},lu=t=>(t.w&Is)>0,hu=t=>(t.n&Is)>0,dp=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Is},fp=t=>{const{deps:e}=t;if(e.length){let s=0;for(let i=0;i<e.length;i++){const n=e[i];lu(n)&&!hu(n)?n.delete(t):e[s++]=n,n.w&=~Is,n.n&=~Is}e.length=s}},Qo=new WeakMap;let Yi=0,Is=1;const ea=30;let Rt;const Qs=Symbol(""),ta=Symbol("");class Ka{constructor(e,s=null,i){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,up(this,i)}run(){if(!this.active)return this.fn();let e=Rt,s=Ts;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Rt,Rt=this,Ts=!0,Is=1<<++Yi,Yi<=ea?dp(this):Hl(this),this.fn()}finally{Yi<=ea&&fp(this),Is=1<<--Yi,Rt=this.parent,Ts=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(Hl(this),this.onStop&&this.onStop(),this.active=!1)}}function Hl(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}let Ts=!0;const cu=[];function Di(){cu.push(Ts),Ts=!1}function Fi(){const t=cu.pop();Ts=t===void 0?!0:t}function dt(t,e,s){if(Ts&&Rt){let i=Qo.get(t);i||Qo.set(t,i=new Map);let n=i.get(s);n||i.set(s,n=qa()),uu(n)}}function uu(t,e){let s=!1;Yi<=ea?hu(t)||(t.n|=Is,s=!lu(t)):s=!t.has(Rt),s&&(t.add(Rt),Rt.deps.push(t))}function us(t,e,s,i,n,r){const o=Qo.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(s==="length"&&le(t)){const l=au(i);o.forEach((h,c)=>{(c==="length"||c>=l)&&a.push(h)})}else switch(s!==void 0&&a.push(o.get(s)),e){case"add":le(t)?$a(s)&&a.push(o.get("length")):(a.push(o.get(Qs)),Zi(t)&&a.push(o.get(ta)));break;case"delete":le(t)||(a.push(o.get(Qs)),Zi(t)&&a.push(o.get(ta)));break;case"set":Zi(t)&&a.push(o.get(Qs));break}if(a.length===1)a[0]&&sa(a[0]);else{const l=[];for(const h of a)h&&l.push(...h);sa(qa(l))}}function sa(t,e){const s=le(t)?t:[...t];for(const i of s)i.computed&&jl(i);for(const i of s)i.computed||jl(i)}function jl(t,e){(t!==Rt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const pp=Xa("__proto__,__v_isRef,__isVue"),du=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ya)),mp=Za(),gp=Za(!1,!0),yp=Za(!0),Xl=xp();function xp(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const i=we(this);for(let r=0,o=this.length;r<o;r++)dt(i,"get",r+"");const n=i[e](...s);return n===-1||n===!1?i[e](...s.map(we)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){Di();const i=we(this)[e].apply(this,s);return Fi(),i}}),t}function Za(t=!1,e=!1){return function(i,n,r){if(n==="__v_isReactive")return!t;if(n==="__v_isReadonly")return t;if(n==="__v_isShallow")return e;if(n==="__v_raw"&&r===(t?e?Fp:yu:e?gu:mu).get(i))return i;const o=le(i);if(!t&&o&&ge(Xl,n))return Reflect.get(Xl,n,r);const a=Reflect.get(i,n,r);return(Ya(n)?du.has(n):pp(n))||(t||dt(i,"get",n),e)?a:et(a)?o&&$a(n)?a:a.value:Ue(a)?t?xu(a):el(a):a}}const vp=fu(),_p=fu(!0);function fu(t=!1){return function(s,i,n,r){let o=s[i];if(Ri(o)&&et(o)&&!et(n))return!1;if(!t&&(!br(n)&&!Ri(n)&&(o=we(o),n=we(n)),!le(s)&&et(o)&&!et(n)))return o.value=n,!0;const a=le(s)&&$a(i)?Number(i)<s.length:ge(s,i),l=Reflect.set(s,i,n,r);return s===we(r)&&(a?en(n,o)&&us(s,"set",i,n):us(s,"add",i,n)),l}}function bp(t,e){const s=ge(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&s&&us(t,"delete",e,void 0),i}function wp(t,e){const s=Reflect.has(t,e);return(!Ya(e)||!du.has(e))&&dt(t,"has",e),s}function Ep(t){return dt(t,"iterate",le(t)?"length":Qs),Reflect.ownKeys(t)}const pu={get:mp,set:vp,deleteProperty:bp,has:wp,ownKeys:Ep},Tp={get:yp,set(t,e){return!0},deleteProperty(t,e){return!0}},Sp=tt({},pu,{get:gp,set:_p}),Ja=t=>t,Gr=t=>Reflect.getPrototypeOf(t);function Cn(t,e,s=!1,i=!1){t=t.__v_raw;const n=we(t),r=we(e);s||(e!==r&&dt(n,"get",e),dt(n,"get",r));const{has:o}=Gr(n),a=i?Ja:s?sl:tn;if(o.call(n,e))return a(t.get(e));if(o.call(n,r))return a(t.get(r));t!==n&&t.get(e)}function In(t,e=!1){const s=this.__v_raw,i=we(s),n=we(t);return e||(t!==n&&dt(i,"has",t),dt(i,"has",n)),t===n?s.has(t):s.has(t)||s.has(n)}function Pn(t,e=!1){return t=t.__v_raw,!e&&dt(we(t),"iterate",Qs),Reflect.get(t,"size",t)}function Vl(t){t=we(t);const e=we(this);return Gr(e).has.call(e,t)||(e.add(t),us(e,"add",t,t)),this}function Wl(t,e){e=we(e);const s=we(this),{has:i,get:n}=Gr(s);let r=i.call(s,t);r||(t=we(t),r=i.call(s,t));const o=n.call(s,t);return s.set(t,e),r?en(e,o)&&us(s,"set",t,e):us(s,"add",t,e),this}function Yl(t){const e=we(this),{has:s,get:i}=Gr(e);let n=s.call(e,t);n||(t=we(t),n=s.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return n&&us(e,"delete",t,void 0),r}function $l(){const t=we(this),e=t.size!==0,s=t.clear();return e&&us(t,"clear",void 0,void 0),s}function Rn(t,e){return function(i,n){const r=this,o=r.__v_raw,a=we(o),l=e?Ja:t?sl:tn;return!t&&dt(a,"iterate",Qs),o.forEach((h,c)=>i.call(n,l(h),l(c),r))}}function Mn(t,e,s){return function(...i){const n=this.__v_raw,r=we(n),o=Zi(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,h=n[t](...i),c=s?Ja:e?sl:tn;return!e&&dt(r,"iterate",l?ta:Qs),{next(){const{value:u,done:d}=h.next();return d?{value:u,done:d}:{value:a?[c(u[0]),c(u[1])]:c(u),done:d}},[Symbol.iterator](){return this}}}}function ms(t){return function(...e){return t==="delete"?!1:this}}function Ap(){const t={get(r){return Cn(this,r)},get size(){return Pn(this)},has:In,add:Vl,set:Wl,delete:Yl,clear:$l,forEach:Rn(!1,!1)},e={get(r){return Cn(this,r,!1,!0)},get size(){return Pn(this)},has:In,add:Vl,set:Wl,delete:Yl,clear:$l,forEach:Rn(!1,!0)},s={get(r){return Cn(this,r,!0)},get size(){return Pn(this,!0)},has(r){return In.call(this,r,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:Rn(!0,!1)},i={get(r){return Cn(this,r,!0,!0)},get size(){return Pn(this,!0)},has(r){return In.call(this,r,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:Rn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Mn(r,!1,!1),s[r]=Mn(r,!0,!1),e[r]=Mn(r,!1,!0),i[r]=Mn(r,!0,!0)}),[t,s,e,i]}const[Cp,Ip,Pp,Rp]=Ap();function Qa(t,e){const s=e?t?Rp:Pp:t?Ip:Cp;return(i,n,r)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(ge(s,n)&&n in i?s:i,n,r)}const Mp={get:Qa(!1,!1)},Bp={get:Qa(!1,!0)},Dp={get:Qa(!0,!1)},mu=new WeakMap,gu=new WeakMap,yu=new WeakMap,Fp=new WeakMap;function Op(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lp(t){return t.__v_skip||!Object.isExtensible(t)?0:Op(rp(t))}function el(t){return Ri(t)?t:tl(t,!1,pu,Mp,mu)}function Np(t){return tl(t,!1,Sp,Bp,gu)}function xu(t){return tl(t,!0,Tp,Dp,yu)}function tl(t,e,s,i,n){if(!Ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=n.get(t);if(r)return r;const o=Lp(t);if(o===0)return t;const a=new Proxy(t,o===2?i:s);return n.set(t,a),a}function bi(t){return Ri(t)?bi(t.__v_raw):!!(t&&t.__v_isReactive)}function Ri(t){return!!(t&&t.__v_isReadonly)}function br(t){return!!(t&&t.__v_isShallow)}function vu(t){return bi(t)||Ri(t)}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function _u(t){return _r(t,"__v_skip",!0),t}const tn=t=>Ue(t)?el(t):t,sl=t=>Ue(t)?xu(t):t;function bu(t){Ts&&Rt&&(t=we(t),uu(t.dep||(t.dep=qa())))}function wu(t,e){t=we(t),t.dep&&sa(t.dep)}function et(t){return!!(t&&t.__v_isRef===!0)}function ze(t){return kp(t,!1)}function kp(t,e){return et(t)?t:new Up(t,e)}class Up{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:we(e),this._value=s?e:tn(e)}get value(){return bu(this),this._value}set value(e){const s=this.__v_isShallow||br(e)||Ri(e);e=s?e:we(e),en(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:tn(e),wu(this))}}function sn(t){return et(t)?t.value:t}const Gp={get:(t,e,s)=>sn(Reflect.get(t,e,s)),set:(t,e,s,i)=>{const n=t[e];return et(n)&&!et(s)?(n.value=s,!0):Reflect.set(t,e,s,i)}};function Eu(t){return bi(t)?t:new Proxy(t,Gp)}var Tu;class zp{constructor(e,s,i,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Tu]=!1,this._dirty=!0,this.effect=new Ka(e,()=>{this._dirty||(this._dirty=!0,wu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=we(this);return bu(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Tu="__v_isReadonly";function Hp(t,e,s=!1){let i,n;const r=ce(t);return r?(i=t,n=Dt):(i=t.get,n=t.set),new zp(i,n,r||!n,s)}function Ss(t,e,s,i){let n;try{n=i?t(...i):t()}catch(r){zr(r,e,s)}return n}function vt(t,e,s,i){if(ce(t)){const r=Ss(t,e,s,i);return r&&ru(r)&&r.catch(o=>{zr(o,e,s)}),r}const n=[];for(let r=0;r<t.length;r++)n.push(vt(t[r],e,s,i));return n}function zr(t,e,s,i=!0){const n=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=s;for(;r;){const h=r.ec;if(h){for(let c=0;c<h.length;c++)if(h[c](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){Ss(l,null,10,[t,o,a]);return}}jp(t,s,n,i)}function jp(t,e,s,i=!0){console.error(t)}let nn=!1,ia=!1;const Qe=[];let Wt=0;const wi=[];let is=null,qs=0;const Su=Promise.resolve();let il=null;function Au(t){const e=il||Su;return t?e.then(this?t.bind(this):t):e}function Xp(t){let e=Wt+1,s=Qe.length;for(;e<s;){const i=e+s>>>1;rn(Qe[i])<t?e=i+1:s=i}return e}function nl(t){(!Qe.length||!Qe.includes(t,nn&&t.allowRecurse?Wt+1:Wt))&&(t.id==null?Qe.push(t):Qe.splice(Xp(t.id),0,t),Cu())}function Cu(){!nn&&!ia&&(ia=!0,il=Su.then(Pu))}function Vp(t){const e=Qe.indexOf(t);e>Wt&&Qe.splice(e,1)}function Wp(t){le(t)?wi.push(...t):(!is||!is.includes(t,t.allowRecurse?qs+1:qs))&&wi.push(t),Cu()}function ql(t,e=nn?Wt+1:0){for(;e<Qe.length;e++){const s=Qe[e];s&&s.pre&&(Qe.splice(e,1),e--,s())}}function Iu(t){if(wi.length){const e=[...new Set(wi)];if(wi.length=0,is){is.push(...e);return}for(is=e,is.sort((s,i)=>rn(s)-rn(i)),qs=0;qs<is.length;qs++)is[qs]();is=null,qs=0}}const rn=t=>t.id==null?1/0:t.id,Yp=(t,e)=>{const s=rn(t)-rn(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function Pu(t){ia=!1,nn=!0,Qe.sort(Yp);const e=Dt;try{for(Wt=0;Wt<Qe.length;Wt++){const s=Qe[Wt];s&&s.active!==!1&&Ss(s,null,14)}}finally{Wt=0,Qe.length=0,Iu(),nn=!1,il=null,(Qe.length||wi.length)&&Pu()}}function $p(t,e,...s){if(t.isUnmounted)return;const i=t.vnode.props||Pe;let n=s;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:d}=i[c]||Pe;d&&(n=s.map(f=>We(f)?f.trim():f)),u&&(n=s.map(au))}let a,l=i[a=ao(e)]||i[a=ao(Pi(e))];!l&&r&&(l=i[a=ao(Bi(e))]),l&&vt(l,t,6,n);const h=i[a+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,vt(h,t,6,n)}}function Ru(t,e,s=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const r=t.emits;let o={},a=!1;if(!ce(t)){const l=h=>{const c=Ru(h,e,!0);c&&(a=!0,tt(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ue(t)&&i.set(t,null),null):(le(r)?r.forEach(l=>o[l]=null):tt(o,r),Ue(t)&&i.set(t,o),o)}function Hr(t,e){return!t||!Nr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ge(t,e[0].toLowerCase()+e.slice(1))||ge(t,Bi(e))||ge(t,e))}let Mt=null,Mu=null;function wr(t){const e=Mt;return Mt=t,Mu=t&&t.type.__scopeId||null,e}function na(t,e=Mt,s){if(!e||t._n)return t;const i=(...n)=>{i._d&&nh(-1);const r=wr(e);let o;try{o=t(...n)}finally{wr(r),i._d&&nh(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function ho(t){const{type:e,vnode:s,proxy:i,withProxy:n,props:r,propsOptions:[o],slots:a,attrs:l,emit:h,render:c,renderCache:u,data:d,setupState:f,ctx:p,inheritAttrs:m}=t;let y,x;const b=wr(t);try{if(s.shapeFlag&4){const _=n||i;y=Xt(c.call(_,_,u,r,f,d,p)),x=l}else{const _=e;y=Xt(_.length>1?_(r,{attrs:l,slots:a,emit:h}):_(r,null)),x=e.props?l:qp(l)}}catch(_){Qi.length=0,zr(_,t,1),y=ot(Ft)}let g=y;if(x&&m!==!1){const _=Object.keys(x),{shapeFlag:T}=g;_.length&&T&7&&(o&&_.some(Va)&&(x=Kp(x,o)),g=Ps(g,x))}return s.dirs&&(g=Ps(g),g.dirs=g.dirs?g.dirs.concat(s.dirs):s.dirs),s.transition&&(g.transition=s.transition),y=g,wr(b),y}const qp=t=>{let e;for(const s in t)(s==="class"||s==="style"||Nr(s))&&((e||(e={}))[s]=t[s]);return e},Kp=(t,e)=>{const s={};for(const i in t)(!Va(i)||!(i.slice(9)in e))&&(s[i]=t[i]);return s};function Zp(t,e,s){const{props:i,children:n,component:r}=t,{props:o,children:a,patchFlag:l}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?Kl(i,o,h):!!o;if(l&8){const c=e.dynamicProps;for(let u=0;u<c.length;u++){const d=c[u];if(o[d]!==i[d]&&!Hr(h,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Kl(i,o,h):!0:!!o;return!1}function Kl(t,e,s){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(e[r]!==t[r]&&!Hr(s,r))return!0}return!1}function Jp({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const Qp=t=>t.__isSuspense;function em(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):Wp(t)}function rl(t,e){if($e){let s=$e.provides;const i=$e.parent&&$e.parent.provides;i===s&&(s=$e.provides=Object.create(i)),s[t]=e}}function ar(t,e,s=!1){const i=$e||Mt;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&t in n)return n[t];if(arguments.length>1)return s&&ce(e)?e.call(i.proxy):e}}const Bn={};function lr(t,e,s){return Bu(t,e,s)}function Bu(t,e,{immediate:s,deep:i,flush:n,onTrack:r,onTrigger:o}=Pe){const a=$e;let l,h=!1,c=!1;if(et(t)?(l=()=>t.value,h=br(t)):bi(t)?(l=()=>t,i=!0):le(t)?(c=!0,h=t.some(g=>bi(g)||br(g)),l=()=>t.map(g=>{if(et(g))return g.value;if(bi(g))return gi(g);if(ce(g))return Ss(g,a,2)})):ce(t)?e?l=()=>Ss(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return u&&u(),vt(t,a,3,[d])}:l=Dt,e&&i){const g=l;l=()=>gi(g())}let u,d=g=>{u=x.onStop=()=>{Ss(g,a,4)}},f;if(an)if(d=Dt,e?s&&vt(e,a,3,[l(),c?[]:void 0,d]):l(),n==="sync"){const g=$m();f=g.__watcherHandles||(g.__watcherHandles=[])}else return Dt;let p=c?new Array(t.length).fill(Bn):Bn;const m=()=>{if(!!x.active)if(e){const g=x.run();(i||h||(c?g.some((_,T)=>en(_,p[T])):en(g,p)))&&(u&&u(),vt(e,a,3,[g,p===Bn?void 0:c&&p[0]===Bn?[]:p,d]),p=g)}else x.run()};m.allowRecurse=!!e;let y;n==="sync"?y=m:n==="post"?y=()=>at(m,a&&a.suspense):(m.pre=!0,a&&(m.id=a.uid),y=()=>nl(m));const x=new Ka(l,y);e?s?m():p=x.run():n==="post"?at(x.run.bind(x),a&&a.suspense):x.run();const b=()=>{x.stop(),a&&a.scope&&Wa(a.scope.effects,x)};return f&&f.push(b),b}function tm(t,e,s){const i=this.proxy,n=We(t)?t.includes(".")?Du(i,t):()=>i[t]:t.bind(i,i);let r;ce(e)?r=e:(r=e.handler,s=e);const o=$e;Mi(this);const a=Bu(n,r.bind(i),s);return o?Mi(o):ti(),a}function Du(t,e){const s=e.split(".");return()=>{let i=t;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function gi(t,e){if(!Ue(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),et(t))gi(t.value,e);else if(le(t))for(let s=0;s<t.length;s++)gi(t[s],e);else if(ip(t)||Zi(t))t.forEach(s=>{gi(s,e)});else if(op(t))for(const s in t)gi(t[s],e);return t}function sm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return li(()=>{t.isMounted=!0}),Vr(()=>{t.isUnmounting=!0}),t}const pt=[Function,Array],im={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pt,onEnter:pt,onAfterEnter:pt,onEnterCancelled:pt,onBeforeLeave:pt,onLeave:pt,onAfterLeave:pt,onLeaveCancelled:pt,onBeforeAppear:pt,onAppear:pt,onAfterAppear:pt,onAppearCancelled:pt},setup(t,{slots:e}){const s=zm(),i=sm();let n;return()=>{const r=e.default&&Ou(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const m of r)if(m.type!==Ft){o=m;break}}const a=we(t),{mode:l}=a;if(i.isLeaving)return co(o);const h=Zl(o);if(!h)return co(o);const c=ra(h,a,i,s);oa(h,c);const u=s.subTree,d=u&&Zl(u);let f=!1;const{getTransitionKey:p}=h.type;if(p){const m=p();n===void 0?n=m:m!==n&&(n=m,f=!0)}if(d&&d.type!==Ft&&(!Ks(h,d)||f)){const m=ra(d,a,i,s);if(oa(d,m),l==="out-in")return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,s.update.active!==!1&&s.update()},co(o);l==="in-out"&&h.type!==Ft&&(m.delayLeave=(y,x,b)=>{const g=Fu(i,d);g[String(d.key)]=d,y._leaveCb=()=>{x(),y._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=b})}return o}}},nm=im;function Fu(t,e){const{leavingVNodes:s}=t;let i=s.get(e.type);return i||(i=Object.create(null),s.set(e.type,i)),i}function ra(t,e,s,i){const{appear:n,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:h,onEnterCancelled:c,onBeforeLeave:u,onLeave:d,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:x,onAppearCancelled:b}=e,g=String(t.key),_=Fu(s,t),T=(E,G)=>{E&&vt(E,i,9,G)},k=(E,G)=>{const C=G[1];T(E,G),le(E)?E.every(A=>A.length<=1)&&C():E.length<=1&&C()},I={mode:r,persisted:o,beforeEnter(E){let G=a;if(!s.isMounted)if(n)G=m||a;else return;E._leaveCb&&E._leaveCb(!0);const C=_[g];C&&Ks(t,C)&&C.el._leaveCb&&C.el._leaveCb(),T(G,[E])},enter(E){let G=l,C=h,A=c;if(!s.isMounted)if(n)G=y||l,C=x||h,A=b||c;else return;let O=!1;const B=E._enterCb=P=>{O||(O=!0,P?T(A,[E]):T(C,[E]),I.delayedLeave&&I.delayedLeave(),E._enterCb=void 0)};G?k(G,[E,B]):B()},leave(E,G){const C=String(t.key);if(E._enterCb&&E._enterCb(!0),s.isUnmounting)return G();T(u,[E]);let A=!1;const O=E._leaveCb=B=>{A||(A=!0,G(),B?T(p,[E]):T(f,[E]),E._leaveCb=void 0,_[C]===t&&delete _[C])};_[C]=t,d?k(d,[E,O]):O()},clone(E){return ra(E,e,s,i)}};return I}function co(t){if(jr(t))return t=Ps(t),t.children=null,t}function Zl(t){return jr(t)?t.children?t.children[0]:void 0:t}function oa(t,e){t.shapeFlag&6&&t.component?oa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ou(t,e=!1,s){let i=[],n=0;for(let r=0;r<t.length;r++){let o=t[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===It?(o.patchFlag&128&&n++,i=i.concat(Ou(o.children,e,a))):(e||o.type!==Ft)&&i.push(a!=null?Ps(o,{key:a}):o)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function ol(t){return ce(t)?{setup:t,name:t.name}:t}const hr=t=>!!t.type.__asyncLoader,jr=t=>t.type.__isKeepAlive;function rm(t,e){Lu(t,"a",e)}function om(t,e){Lu(t,"da",e)}function Lu(t,e,s=$e){const i=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Xr(e,i,s),s){let n=s.parent;for(;n&&n.parent;)jr(n.parent.vnode)&&am(i,e,s,n),n=n.parent}}function am(t,e,s,i){const n=Xr(e,t,i,!0);ku(()=>{Wa(i[e],n)},s)}function Xr(t,e,s=$e,i=!1){if(s){const n=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(s.isUnmounted)return;Di(),Mi(s);const a=vt(e,s,t,o);return ti(),Fi(),a});return i?n.unshift(r):n.push(r),r}}const ds=t=>(e,s=$e)=>(!an||t==="sp")&&Xr(t,(...i)=>e(...i),s),lm=ds("bm"),li=ds("m"),Nu=ds("bu"),al=ds("u"),Vr=ds("bum"),ku=ds("um"),hm=ds("sp"),cm=ds("rtg"),um=ds("rtc");function dm(t,e=$e){Xr("ec",t,e)}function Os(t,e,s,i){const n=t.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Di(),vt(l,s,8,[t.el,a,t,e]),Fi())}}const fm=Symbol();function pm(t,e,s,i){let n;const r=s&&s[i];if(le(t)||We(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,r&&r[o])}else if(Ue(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,r&&r[a]));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const h=o[a];n[a]=e(t[h],h,a,r&&r[a])}}else n=[];return s&&(s[i]=n),n}const aa=t=>t?qu(t)?dl(t)||t.proxy:aa(t.parent):null,Ji=tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>aa(t.parent),$root:t=>aa(t.root),$emit:t=>t.emit,$options:t=>ll(t),$forceUpdate:t=>t.f||(t.f=()=>nl(t.update)),$nextTick:t=>t.n||(t.n=Au.bind(t.proxy)),$watch:t=>tm.bind(t)}),uo=(t,e)=>t!==Pe&&!t.__isScriptSetup&&ge(t,e),mm={get({_:t},e){const{ctx:s,setupState:i,data:n,props:r,accessCache:o,type:a,appContext:l}=t;let h;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return s[e];case 3:return r[e]}else{if(uo(i,e))return o[e]=1,i[e];if(n!==Pe&&ge(n,e))return o[e]=2,n[e];if((h=t.propsOptions[0])&&ge(h,e))return o[e]=3,r[e];if(s!==Pe&&ge(s,e))return o[e]=4,s[e];la&&(o[e]=0)}}const c=Ji[e];let u,d;if(c)return e==="$attrs"&&dt(t,"get",e),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(s!==Pe&&ge(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,ge(d,e))return d[e]},set({_:t},e,s){const{data:i,setupState:n,ctx:r}=t;return uo(n,e)?(n[e]=s,!0):i!==Pe&&ge(i,e)?(i[e]=s,!0):ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:i,appContext:n,propsOptions:r}},o){let a;return!!s[o]||t!==Pe&&ge(t,o)||uo(e,o)||(a=r[0])&&ge(a,o)||ge(i,o)||ge(Ji,o)||ge(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ge(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};let la=!0;function gm(t){const e=ll(t),s=t.proxy,i=t.ctx;la=!1,e.beforeCreate&&Jl(e.beforeCreate,t,"bc");const{data:n,computed:r,methods:o,watch:a,provide:l,inject:h,created:c,beforeMount:u,mounted:d,beforeUpdate:f,updated:p,activated:m,deactivated:y,beforeDestroy:x,beforeUnmount:b,destroyed:g,unmounted:_,render:T,renderTracked:k,renderTriggered:I,errorCaptured:E,serverPrefetch:G,expose:C,inheritAttrs:A,components:O,directives:B,filters:P}=e;if(h&&ym(h,i,null,t.appContext.config.unwrapInjectedRef),o)for(const L in o){const Z=o[L];ce(Z)&&(i[L]=Z.bind(s))}if(n){const L=n.call(s,s);Ue(L)&&(t.data=el(L))}if(la=!0,r)for(const L in r){const Z=r[L],ue=ce(Z)?Z.bind(s,s):ce(Z.get)?Z.get.bind(s,s):Dt,F=!ce(Z)&&ce(Z.set)?Z.set.bind(s):Dt,J=Zu({get:ue,set:F});Object.defineProperty(i,L,{enumerable:!0,configurable:!0,get:()=>J.value,set:re=>J.value=re})}if(a)for(const L in a)Uu(a[L],i,s,L);if(l){const L=ce(l)?l.call(s):l;Reflect.ownKeys(L).forEach(Z=>{rl(Z,L[Z])})}c&&Jl(c,t,"c");function Q(L,Z){le(Z)?Z.forEach(ue=>L(ue.bind(s))):Z&&L(Z.bind(s))}if(Q(lm,u),Q(li,d),Q(Nu,f),Q(al,p),Q(rm,m),Q(om,y),Q(dm,E),Q(um,k),Q(cm,I),Q(Vr,b),Q(ku,_),Q(hm,G),le(C))if(C.length){const L=t.exposed||(t.exposed={});C.forEach(Z=>{Object.defineProperty(L,Z,{get:()=>s[Z],set:ue=>s[Z]=ue})})}else t.exposed||(t.exposed={});T&&t.render===Dt&&(t.render=T),A!=null&&(t.inheritAttrs=A),O&&(t.components=O),B&&(t.directives=B)}function ym(t,e,s=Dt,i=!1){le(t)&&(t=ha(t));for(const n in t){const r=t[n];let o;Ue(r)?"default"in r?o=ar(r.from||n,r.default,!0):o=ar(r.from||n):o=ar(r),et(o)&&i?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[n]=o}}function Jl(t,e,s){vt(le(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,s)}function Uu(t,e,s,i){const n=i.includes(".")?Du(s,i):()=>s[i];if(We(t)){const r=e[t];ce(r)&&lr(n,r)}else if(ce(t))lr(n,t.bind(s));else if(Ue(t))if(le(t))t.forEach(r=>Uu(r,e,s,i));else{const r=ce(t.handler)?t.handler.bind(s):e[t.handler];ce(r)&&lr(n,r,t)}}function ll(t){const e=t.type,{mixins:s,extends:i}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!n.length&&!s&&!i?l=e:(l={},n.length&&n.forEach(h=>Er(l,h,o,!0)),Er(l,e,o)),Ue(e)&&r.set(e,l),l}function Er(t,e,s,i=!1){const{mixins:n,extends:r}=e;r&&Er(t,r,s,!0),n&&n.forEach(o=>Er(t,o,s,!0));for(const o in e)if(!(i&&o==="expose")){const a=xm[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const xm={data:Ql,props:Hs,emits:Hs,methods:Hs,computed:Hs,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:Hs,directives:Hs,watch:_m,provide:Ql,inject:vm};function Ql(t,e){return e?t?function(){return tt(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function vm(t,e){return Hs(ha(t),ha(e))}function ha(t){if(le(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function st(t,e){return t?[...new Set([].concat(t,e))]:e}function Hs(t,e){return t?tt(tt(Object.create(null),t),e):e}function _m(t,e){if(!t)return e;if(!e)return t;const s=tt(Object.create(null),t);for(const i in e)s[i]=st(t[i],e[i]);return s}function bm(t,e,s,i=!1){const n={},r={};_r(r,Yr,1),t.propsDefaults=Object.create(null),Gu(t,e,n,r);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=i?n:Np(n):t.type.props?t.props=n:t.props=r,t.attrs=r}function wm(t,e,s,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=t,a=we(n),[l]=t.propsOptions;let h=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let u=0;u<c.length;u++){let d=c[u];if(Hr(t.emitsOptions,d))continue;const f=e[d];if(l)if(ge(r,d))f!==r[d]&&(r[d]=f,h=!0);else{const p=Pi(d);n[p]=ca(l,a,p,f,t,!1)}else f!==r[d]&&(r[d]=f,h=!0)}}}else{Gu(t,e,n,r)&&(h=!0);let c;for(const u in a)(!e||!ge(e,u)&&((c=Bi(u))===u||!ge(e,c)))&&(l?s&&(s[u]!==void 0||s[c]!==void 0)&&(n[u]=ca(l,a,u,void 0,t,!0)):delete n[u]);if(r!==a)for(const u in r)(!e||!ge(e,u)&&!0)&&(delete r[u],h=!0)}h&&us(t,"set","$attrs")}function Gu(t,e,s,i){const[n,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(or(l))continue;const h=e[l];let c;n&&ge(n,c=Pi(l))?!r||!r.includes(c)?s[c]=h:(a||(a={}))[c]=h:Hr(t.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,o=!0)}if(r){const l=we(s),h=a||Pe;for(let c=0;c<r.length;c++){const u=r[c];s[u]=ca(n,l,u,h[u],t,!ge(h,u))}}return o}function ca(t,e,s,i,n,r){const o=t[s];if(o!=null){const a=ge(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&ce(l)){const{propsDefaults:h}=n;s in h?i=h[s]:(Mi(n),i=h[s]=l.call(null,e),ti())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Bi(s))&&(i=!0))}return i}function zu(t,e,s=!1){const i=e.propsCache,n=i.get(t);if(n)return n;const r=t.props,o={},a=[];let l=!1;if(!ce(t)){const c=u=>{l=!0;const[d,f]=zu(u,e,!0);tt(o,d),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!r&&!l)return Ue(t)&&i.set(t,_i),_i;if(le(r))for(let c=0;c<r.length;c++){const u=Pi(r[c]);eh(u)&&(o[u]=Pe)}else if(r)for(const c in r){const u=Pi(c);if(eh(u)){const d=r[c],f=o[u]=le(d)||ce(d)?{type:d}:Object.assign({},d);if(f){const p=ih(Boolean,f.type),m=ih(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||ge(f,"default"))&&a.push(u)}}}const h=[o,a];return Ue(t)&&i.set(t,h),h}function eh(t){return t[0]!=="$"}function th(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function sh(t,e){return th(t)===th(e)}function ih(t,e){return le(e)?e.findIndex(s=>sh(s,t)):ce(e)&&sh(e,t)?0:-1}const Hu=t=>t[0]==="_"||t==="$stable",hl=t=>le(t)?t.map(Xt):[Xt(t)],Em=(t,e,s)=>{if(e._n)return e;const i=na((...n)=>hl(e(...n)),s);return i._c=!1,i},ju=(t,e,s)=>{const i=t._ctx;for(const n in t){if(Hu(n))continue;const r=t[n];if(ce(r))e[n]=Em(n,r,i);else if(r!=null){const o=hl(r);e[n]=()=>o}}},Xu=(t,e)=>{const s=hl(e);t.slots.default=()=>s},Tm=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=we(e),_r(e,"_",s)):ju(e,t.slots={})}else t.slots={},e&&Xu(t,e);_r(t.slots,Yr,1)},Sm=(t,e,s)=>{const{vnode:i,slots:n}=t;let r=!0,o=Pe;if(i.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:(tt(n,e),!s&&a===1&&delete n._):(r=!e.$stable,ju(e,n)),o=e}else e&&(Xu(t,e),o={default:1});if(r)for(const a in n)!Hu(a)&&!(a in o)&&delete n[a]};function Vu(){return{app:null,config:{isNativeTag:ep,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Am=0;function Cm(t,e){return function(i,n=null){ce(i)||(i=Object.assign({},i)),n!=null&&!Ue(n)&&(n=null);const r=Vu(),o=new Set;let a=!1;const l=r.app={_uid:Am++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:qm,get config(){return r.config},set config(h){},use(h,...c){return o.has(h)||(h&&ce(h.install)?(o.add(h),h.install(l,...c)):ce(h)&&(o.add(h),h(l,...c))),l},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),l},component(h,c){return c?(r.components[h]=c,l):r.components[h]},directive(h,c){return c?(r.directives[h]=c,l):r.directives[h]},mount(h,c,u){if(!a){const d=ot(i,n);return d.appContext=r,c&&e?e(d,h):t(d,h,u),a=!0,l._container=h,h.__vue_app__=l,dl(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(h,c){return r.provides[h]=c,l}};return l}}function ua(t,e,s,i,n=!1){if(le(t)){t.forEach((d,f)=>ua(d,e&&(le(e)?e[f]:e),s,i,n));return}if(hr(i)&&!n)return;const r=i.shapeFlag&4?dl(i.component)||i.component.proxy:i.el,o=n?null:r,{i:a,r:l}=t,h=e&&e.r,c=a.refs===Pe?a.refs={}:a.refs,u=a.setupState;if(h!=null&&h!==l&&(We(h)?(c[h]=null,ge(u,h)&&(u[h]=null)):et(h)&&(h.value=null)),ce(l))Ss(l,a,12,[o,c]);else{const d=We(l),f=et(l);if(d||f){const p=()=>{if(t.f){const m=d?ge(u,l)?u[l]:c[l]:l.value;n?le(m)&&Wa(m,r):le(m)?m.includes(r)||m.push(r):d?(c[l]=[r],ge(u,l)&&(u[l]=c[l])):(l.value=[r],t.k&&(c[t.k]=l.value))}else d?(c[l]=o,ge(u,l)&&(u[l]=o)):f&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,at(p,s)):p()}}}const at=em;function Im(t){return Pm(t)}function Pm(t,e){const s=hp();s.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:a,createComment:l,setText:h,setElementText:c,parentNode:u,nextSibling:d,setScopeId:f=Dt,insertStaticContent:p}=t,m=(v,w,S,M=null,D=null,H=null,W=!1,z=null,V=!!w.dynamicChildren)=>{if(v===w)return;v&&!Ks(v,w)&&(M=Ce(v),re(v,D,H,!0),v=null),w.patchFlag===-2&&(V=!1,w.dynamicChildren=null);const{type:N,ref:te,shapeFlag:$}=w;switch(N){case Wr:y(v,w,S,M);break;case Ft:x(v,w,S,M);break;case fo:v==null&&b(w,S,M,W);break;case It:O(v,w,S,M,D,H,W,z,V);break;default:$&1?T(v,w,S,M,D,H,W,z,V):$&6?B(v,w,S,M,D,H,W,z,V):($&64||$&128)&&N.process(v,w,S,M,D,H,W,z,V,Me)}te!=null&&D&&ua(te,v&&v.ref,H,w||v,!w)},y=(v,w,S,M)=>{if(v==null)i(w.el=a(w.children),S,M);else{const D=w.el=v.el;w.children!==v.children&&h(D,w.children)}},x=(v,w,S,M)=>{v==null?i(w.el=l(w.children||""),S,M):w.el=v.el},b=(v,w,S,M)=>{[v.el,v.anchor]=p(v.children,w,S,M,v.el,v.anchor)},g=({el:v,anchor:w},S,M)=>{let D;for(;v&&v!==w;)D=d(v),i(v,S,M),v=D;i(w,S,M)},_=({el:v,anchor:w})=>{let S;for(;v&&v!==w;)S=d(v),n(v),v=S;n(w)},T=(v,w,S,M,D,H,W,z,V)=>{W=W||w.type==="svg",v==null?k(w,S,M,D,H,W,z,V):G(v,w,D,H,W,z,V)},k=(v,w,S,M,D,H,W,z)=>{let V,N;const{type:te,props:$,shapeFlag:se,transition:ae,dirs:he}=v;if(V=v.el=o(v.type,H,$&&$.is,$),se&8?c(V,v.children):se&16&&E(v.children,V,null,M,D,H&&te!=="foreignObject",W,z),he&&Os(v,null,M,"created"),$){for(const Te in $)Te!=="value"&&!or(Te)&&r(V,Te,null,$[Te],H,v.children,M,D,ve);"value"in $&&r(V,"value",null,$.value),(N=$.onVnodeBeforeMount)&&Gt(N,M,v)}I(V,v,v.scopeId,W,M),he&&Os(v,null,M,"beforeMount");const Se=(!D||D&&!D.pendingBranch)&&ae&&!ae.persisted;Se&&ae.beforeEnter(V),i(V,w,S),((N=$&&$.onVnodeMounted)||Se||he)&&at(()=>{N&&Gt(N,M,v),Se&&ae.enter(V),he&&Os(v,null,M,"mounted")},D)},I=(v,w,S,M,D)=>{if(S&&f(v,S),M)for(let H=0;H<M.length;H++)f(v,M[H]);if(D){let H=D.subTree;if(w===H){const W=D.vnode;I(v,W,W.scopeId,W.slotScopeIds,D.parent)}}},E=(v,w,S,M,D,H,W,z,V=0)=>{for(let N=V;N<v.length;N++){const te=v[N]=z?vs(v[N]):Xt(v[N]);m(null,te,w,S,M,D,H,W,z)}},G=(v,w,S,M,D,H,W)=>{const z=w.el=v.el;let{patchFlag:V,dynamicChildren:N,dirs:te}=w;V|=v.patchFlag&16;const $=v.props||Pe,se=w.props||Pe;let ae;S&&Ls(S,!1),(ae=se.onVnodeBeforeUpdate)&&Gt(ae,S,w,v),te&&Os(w,v,S,"beforeUpdate"),S&&Ls(S,!0);const he=D&&w.type!=="foreignObject";if(N?C(v.dynamicChildren,N,z,S,M,he,H):W||Z(v,w,z,null,S,M,he,H,!1),V>0){if(V&16)A(z,w,$,se,S,M,D);else if(V&2&&$.class!==se.class&&r(z,"class",null,se.class,D),V&4&&r(z,"style",$.style,se.style,D),V&8){const Se=w.dynamicProps;for(let Te=0;Te<Se.length;Te++){const je=Se[Te],bt=$[je],ci=se[je];(ci!==bt||je==="value")&&r(z,je,bt,ci,D,v.children,S,M,ve)}}V&1&&v.children!==w.children&&c(z,w.children)}else!W&&N==null&&A(z,w,$,se,S,M,D);((ae=se.onVnodeUpdated)||te)&&at(()=>{ae&&Gt(ae,S,w,v),te&&Os(w,v,S,"updated")},M)},C=(v,w,S,M,D,H,W)=>{for(let z=0;z<w.length;z++){const V=v[z],N=w[z],te=V.el&&(V.type===It||!Ks(V,N)||V.shapeFlag&70)?u(V.el):S;m(V,N,te,null,M,D,H,W,!0)}},A=(v,w,S,M,D,H,W)=>{if(S!==M){if(S!==Pe)for(const z in S)!or(z)&&!(z in M)&&r(v,z,S[z],null,W,w.children,D,H,ve);for(const z in M){if(or(z))continue;const V=M[z],N=S[z];V!==N&&z!=="value"&&r(v,z,N,V,W,w.children,D,H,ve)}"value"in M&&r(v,"value",S.value,M.value)}},O=(v,w,S,M,D,H,W,z,V)=>{const N=w.el=v?v.el:a(""),te=w.anchor=v?v.anchor:a("");let{patchFlag:$,dynamicChildren:se,slotScopeIds:ae}=w;ae&&(z=z?z.concat(ae):ae),v==null?(i(N,S,M),i(te,S,M),E(w.children,S,te,D,H,W,z,V)):$>0&&$&64&&se&&v.dynamicChildren?(C(v.dynamicChildren,se,S,D,H,W,z),(w.key!=null||D&&w===D.subTree)&&Wu(v,w,!0)):Z(v,w,S,te,D,H,W,z,V)},B=(v,w,S,M,D,H,W,z,V)=>{w.slotScopeIds=z,v==null?w.shapeFlag&512?D.ctx.activate(w,S,M,W,V):P(w,S,M,D,H,W,V):oe(v,w,V)},P=(v,w,S,M,D,H,W)=>{const z=v.component=Gm(v,M,D);if(jr(v)&&(z.ctx.renderer=Me),Hm(z),z.asyncDep){if(D&&D.registerDep(z,Q),!v.el){const V=z.subTree=ot(Ft);x(null,V,w,S)}return}Q(z,v,w,S,D,H,W)},oe=(v,w,S)=>{const M=w.component=v.component;if(Zp(v,w,S))if(M.asyncDep&&!M.asyncResolved){L(M,w,S);return}else M.next=w,Vp(M.update),M.update();else w.el=v.el,M.vnode=w},Q=(v,w,S,M,D,H,W)=>{const z=()=>{if(v.isMounted){let{next:te,bu:$,u:se,parent:ae,vnode:he}=v,Se=te,Te;Ls(v,!1),te?(te.el=he.el,L(v,te,W)):te=he,$&&lo($),(Te=te.props&&te.props.onVnodeBeforeUpdate)&&Gt(Te,ae,te,he),Ls(v,!0);const je=ho(v),bt=v.subTree;v.subTree=je,m(bt,je,u(bt.el),Ce(bt),v,D,H),te.el=je.el,Se===null&&Jp(v,je.el),se&&at(se,D),(Te=te.props&&te.props.onVnodeUpdated)&&at(()=>Gt(Te,ae,te,he),D)}else{let te;const{el:$,props:se}=w,{bm:ae,m:he,parent:Se}=v,Te=hr(w);if(Ls(v,!1),ae&&lo(ae),!Te&&(te=se&&se.onVnodeBeforeMount)&&Gt(te,Se,w),Ls(v,!0),$&&Ee){const je=()=>{v.subTree=ho(v),Ee($,v.subTree,v,D,null)};Te?w.type.__asyncLoader().then(()=>!v.isUnmounted&&je()):je()}else{const je=v.subTree=ho(v);m(null,je,S,M,v,D,H),w.el=je.el}if(he&&at(he,D),!Te&&(te=se&&se.onVnodeMounted)){const je=w;at(()=>Gt(te,Se,je),D)}(w.shapeFlag&256||Se&&hr(Se.vnode)&&Se.vnode.shapeFlag&256)&&v.a&&at(v.a,D),v.isMounted=!0,w=S=M=null}},V=v.effect=new Ka(z,()=>nl(N),v.scope),N=v.update=()=>V.run();N.id=v.uid,Ls(v,!0),N()},L=(v,w,S)=>{w.component=v;const M=v.vnode.props;v.vnode=w,v.next=null,wm(v,w.props,M,S),Sm(v,w.children,S),Di(),ql(),Fi()},Z=(v,w,S,M,D,H,W,z,V=!1)=>{const N=v&&v.children,te=v?v.shapeFlag:0,$=w.children,{patchFlag:se,shapeFlag:ae}=w;if(se>0){if(se&128){F(N,$,S,M,D,H,W,z,V);return}else if(se&256){ue(N,$,S,M,D,H,W,z,V);return}}ae&8?(te&16&&ve(N,D,H),$!==N&&c(S,$)):te&16?ae&16?F(N,$,S,M,D,H,W,z,V):ve(N,D,H,!0):(te&8&&c(S,""),ae&16&&E($,S,M,D,H,W,z,V))},ue=(v,w,S,M,D,H,W,z,V)=>{v=v||_i,w=w||_i;const N=v.length,te=w.length,$=Math.min(N,te);let se;for(se=0;se<$;se++){const ae=w[se]=V?vs(w[se]):Xt(w[se]);m(v[se],ae,S,null,D,H,W,z,V)}N>te?ve(v,D,H,!0,!1,$):E(w,S,M,D,H,W,z,V,$)},F=(v,w,S,M,D,H,W,z,V)=>{let N=0;const te=w.length;let $=v.length-1,se=te-1;for(;N<=$&&N<=se;){const ae=v[N],he=w[N]=V?vs(w[N]):Xt(w[N]);if(Ks(ae,he))m(ae,he,S,null,D,H,W,z,V);else break;N++}for(;N<=$&&N<=se;){const ae=v[$],he=w[se]=V?vs(w[se]):Xt(w[se]);if(Ks(ae,he))m(ae,he,S,null,D,H,W,z,V);else break;$--,se--}if(N>$){if(N<=se){const ae=se+1,he=ae<te?w[ae].el:M;for(;N<=se;)m(null,w[N]=V?vs(w[N]):Xt(w[N]),S,he,D,H,W,z,V),N++}}else if(N>se)for(;N<=$;)re(v[N],D,H,!0),N++;else{const ae=N,he=N,Se=new Map;for(N=he;N<=se;N++){const ht=w[N]=V?vs(w[N]):Xt(w[N]);ht.key!=null&&Se.set(ht.key,N)}let Te,je=0;const bt=se-he+1;let ci=!1,kl=0;const Ni=new Array(bt);for(N=0;N<bt;N++)Ni[N]=0;for(N=ae;N<=$;N++){const ht=v[N];if(je>=bt){re(ht,D,H,!0);continue}let Ut;if(ht.key!=null)Ut=Se.get(ht.key);else for(Te=he;Te<=se;Te++)if(Ni[Te-he]===0&&Ks(ht,w[Te])){Ut=Te;break}Ut===void 0?re(ht,D,H,!0):(Ni[Ut-he]=N+1,Ut>=kl?kl=Ut:ci=!0,m(ht,w[Ut],S,null,D,H,W,z,V),je++)}const Ul=ci?Rm(Ni):_i;for(Te=Ul.length-1,N=bt-1;N>=0;N--){const ht=he+N,Ut=w[ht],Gl=ht+1<te?w[ht+1].el:M;Ni[N]===0?m(null,Ut,S,Gl,D,H,W,z,V):ci&&(Te<0||N!==Ul[Te]?J(Ut,S,Gl,2):Te--)}}},J=(v,w,S,M,D=null)=>{const{el:H,type:W,transition:z,children:V,shapeFlag:N}=v;if(N&6){J(v.component.subTree,w,S,M);return}if(N&128){v.suspense.move(w,S,M);return}if(N&64){W.move(v,w,S,Me);return}if(W===It){i(H,w,S);for(let $=0;$<V.length;$++)J(V[$],w,S,M);i(v.anchor,w,S);return}if(W===fo){g(v,w,S);return}if(M!==2&&N&1&&z)if(M===0)z.beforeEnter(H),i(H,w,S),at(()=>z.enter(H),D);else{const{leave:$,delayLeave:se,afterLeave:ae}=z,he=()=>i(H,w,S),Se=()=>{$(H,()=>{he(),ae&&ae()})};se?se(H,he,Se):Se()}else i(H,w,S)},re=(v,w,S,M=!1,D=!1)=>{const{type:H,props:W,ref:z,children:V,dynamicChildren:N,shapeFlag:te,patchFlag:$,dirs:se}=v;if(z!=null&&ua(z,null,S,v,!0),te&256){w.ctx.deactivate(v);return}const ae=te&1&&se,he=!hr(v);let Se;if(he&&(Se=W&&W.onVnodeBeforeUnmount)&&Gt(Se,w,v),te&6)Le(v.component,S,M);else{if(te&128){v.suspense.unmount(S,M);return}ae&&Os(v,null,w,"beforeUnmount"),te&64?v.type.remove(v,w,S,D,Me,M):N&&(H!==It||$>0&&$&64)?ve(N,w,S,!1,!0):(H===It&&$&384||!D&&te&16)&&ve(V,w,S),M&&me(v)}(he&&(Se=W&&W.onVnodeUnmounted)||ae)&&at(()=>{Se&&Gt(Se,w,v),ae&&Os(v,null,w,"unmounted")},S)},me=v=>{const{type:w,el:S,anchor:M,transition:D}=v;if(w===It){be(S,M);return}if(w===fo){_(v);return}const H=()=>{n(S),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(v.shapeFlag&1&&D&&!D.persisted){const{leave:W,delayLeave:z}=D,V=()=>W(S,H);z?z(v.el,H,V):V()}else H()},be=(v,w)=>{let S;for(;v!==w;)S=d(v),n(v),v=S;n(w)},Le=(v,w,S)=>{const{bum:M,scope:D,update:H,subTree:W,um:z}=v;M&&lo(M),D.stop(),H&&(H.active=!1,re(W,v,w,S)),z&&at(z,w),at(()=>{v.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},ve=(v,w,S,M=!1,D=!1,H=0)=>{for(let W=H;W<v.length;W++)re(v[W],w,S,M,D)},Ce=v=>v.shapeFlag&6?Ce(v.component.subTree):v.shapeFlag&128?v.suspense.next():d(v.anchor||v.el),Ge=(v,w,S)=>{v==null?w._vnode&&re(w._vnode,null,null,!0):m(w._vnode||null,v,w,null,null,null,S),ql(),Iu(),w._vnode=v},Me={p:m,um:re,m:J,r:me,mt:P,mc:E,pc:Z,pbc:C,n:Ce,o:t};let Be,Ee;return e&&([Be,Ee]=e(Me)),{render:Ge,hydrate:Be,createApp:Cm(Ge,Be)}}function Ls({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function Wu(t,e,s=!1){const i=t.children,n=e.children;if(le(i)&&le(n))for(let r=0;r<i.length;r++){const o=i[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=vs(n[r]),a.el=o.el),s||Wu(o,a)),a.type===Wr&&(a.el=o.el)}}function Rm(t){const e=t.slice(),s=[0];let i,n,r,o,a;const l=t.length;for(i=0;i<l;i++){const h=t[i];if(h!==0){if(n=s[s.length-1],t[n]<h){e[i]=n,s.push(i);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,t[s[a]]<h?r=a+1:o=a;h<t[s[r]]&&(r>0&&(e[i]=s[r-1]),s[r]=i)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}const Mm=t=>t.__isTeleport,It=Symbol(void 0),Wr=Symbol(void 0),Ft=Symbol(void 0),fo=Symbol(void 0),Qi=[];let Bt=null;function ei(t=!1){Qi.push(Bt=t?null:[])}function Bm(){Qi.pop(),Bt=Qi[Qi.length-1]||null}let on=1;function nh(t){on+=t}function Yu(t){return t.dynamicChildren=on>0?Bt||_i:null,Bm(),on>0&&Bt&&Bt.push(t),t}function Tr(t,e,s,i,n,r){return Yu(Ei(t,e,s,i,n,r,!0))}function cl(t,e,s,i,n){return Yu(ot(t,e,s,i,n,!0))}function da(t){return t?t.__v_isVNode===!0:!1}function Ks(t,e){return t.type===e.type&&t.key===e.key}const Yr="__vInternal",$u=({key:t})=>t!=null?t:null,cr=({ref:t,ref_key:e,ref_for:s})=>t!=null?We(t)||et(t)||ce(t)?{i:Mt,r:t,k:e,f:!!s}:t:null;function Ei(t,e=null,s=null,i=0,n=null,r=t===It?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$u(e),ref:e&&cr(e),scopeId:Mu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Mt};return a?(ul(l,s),r&128&&t.normalize(l)):s&&(l.shapeFlag|=We(s)?8:16),on>0&&!o&&Bt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Bt.push(l),l}const ot=Dm;function Dm(t,e=null,s=null,i=0,n=null,r=!1){if((!t||t===fm)&&(t=Ft),da(t)){const a=Ps(t,e,!0);return s&&ul(a,s),on>0&&!r&&Bt&&(a.shapeFlag&6?Bt[Bt.indexOf(t)]=a:Bt.push(a)),a.patchFlag|=-2,a}if(Wm(t)&&(t=t.__vccOpts),e){e=Fm(e);let{class:a,style:l}=e;a&&!We(a)&&(e.class=Lr(a)),Ue(l)&&(vu(l)&&!le(l)&&(l=tt({},l)),e.style=Cs(l))}const o=We(t)?1:Qp(t)?128:Mm(t)?64:Ue(t)?4:ce(t)?2:0;return Ei(t,e,s,i,n,o,r,!0)}function Fm(t){return t?vu(t)||Yr in t?tt({},t):t:null}function Ps(t,e,s=!1){const{props:i,ref:n,patchFlag:r,children:o}=t,a=e?Nm(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&$u(a),ref:e&&e.ref?s&&n?le(n)?n.concat(cr(e)):[n,cr(e)]:cr(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==It?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ps(t.ssContent),ssFallback:t.ssFallback&&Ps(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Om(t=" ",e=0){return ot(Wr,null,t,e)}function Lm(t="",e=!1){return e?(ei(),cl(Ft,null,t)):ot(Ft,null,t)}function Xt(t){return t==null||typeof t=="boolean"?ot(Ft):le(t)?ot(It,null,t.slice()):typeof t=="object"?vs(t):ot(Wr,null,String(t))}function vs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ps(t)}function ul(t,e){let s=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(le(e))s=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),ul(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!(Yr in e)?e._ctx=Mt:n===3&&Mt&&(Mt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:Mt},s=32):(e=String(e),i&64?(s=16,e=[Om(e)]):s=8);t.children=e,t.shapeFlag|=s}function Nm(...t){const e={};for(let s=0;s<t.length;s++){const i=t[s];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Lr([e.class,i.class]));else if(n==="style")e.style=Cs([e.style,i.style]);else if(Nr(n)){const r=e[n],o=i[n];o&&r!==o&&!(le(r)&&r.includes(o))&&(e[n]=r?[].concat(r,o):o)}else n!==""&&(e[n]=i[n])}return e}function Gt(t,e,s,i=null){vt(t,e,7,[s,i])}const km=Vu();let Um=0;function Gm(t,e,s){const i=t.type,n=(e?e.appContext:t.appContext)||km,r={uid:Um++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new cp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zu(i,n),emitsOptions:Ru(i,n),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:i.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=$p.bind(null,r),t.ce&&t.ce(r),r}let $e=null;const zm=()=>$e||Mt,Mi=t=>{$e=t,t.scope.on()},ti=()=>{$e&&$e.scope.off(),$e=null};function qu(t){return t.vnode.shapeFlag&4}let an=!1;function Hm(t,e=!1){an=e;const{props:s,children:i}=t.vnode,n=qu(t);bm(t,s,n,e),Tm(t,i);const r=n?jm(t,e):void 0;return an=!1,r}function jm(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=_u(new Proxy(t.ctx,mm));const{setup:i}=s;if(i){const n=t.setupContext=i.length>1?Vm(t):null;Mi(t),Di();const r=Ss(i,t,0,[t.props,n]);if(Fi(),ti(),ru(r)){if(r.then(ti,ti),e)return r.then(o=>{rh(t,o,e)}).catch(o=>{zr(o,t,0)});t.asyncDep=r}else rh(t,r,e)}else Ku(t,e)}function rh(t,e,s){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ue(e)&&(t.setupState=Eu(e)),Ku(t,s)}let oh;function Ku(t,e,s){const i=t.type;if(!t.render){if(!e&&oh&&!i.render){const n=i.template||ll(t).template;if(n){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,h=tt(tt({isCustomElement:r,delimiters:a},o),l);i.render=oh(n,h)}}t.render=i.render||Dt}Mi(t),Di(),gm(t),Fi(),ti()}function Xm(t){return new Proxy(t.attrs,{get(e,s){return dt(t,"get","$attrs"),e[s]}})}function Vm(t){const e=i=>{t.exposed=i||{}};let s;return{get attrs(){return s||(s=Xm(t))},slots:t.slots,emit:t.emit,expose:e}}function dl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Eu(_u(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ji)return Ji[s](t)},has(e,s){return s in e||s in Ji}}))}function Wm(t){return ce(t)&&"__vccOpts"in t}const Zu=(t,e)=>Hp(t,e,an);function Pt(t,e,s){const i=arguments.length;return i===2?Ue(e)&&!le(e)?da(e)?ot(t,null,[e]):ot(t,e):ot(t,null,e):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&da(s)&&(s=[s]),ot(t,e,s))}const Ym=Symbol(""),$m=()=>ar(Ym),qm="3.2.45",Km="http://www.w3.org/2000/svg",Zs=typeof document<"u"?document:null,ah=Zs&&Zs.createElement("template"),Zm={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,i)=>{const n=e?Zs.createElementNS(Km,t):Zs.createElement(t,s?{is:s}:void 0);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>Zs.createTextNode(t),createComment:t=>Zs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,i,n,r){const o=s?s.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{ah.innerHTML=i?`<svg>${t}</svg>`:t;const a=ah.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function Jm(t,e,s){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function Qm(t,e,s){const i=t.style,n=We(s);if(s&&!n){for(const r in s)fa(i,r,s[r]);if(e&&!We(e))for(const r in e)s[r]==null&&fa(i,r,"")}else{const r=i.display;n?e!==s&&(i.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const lh=/\s*!important$/;function fa(t,e,s){if(le(s))s.forEach(i=>fa(t,e,i));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const i=eg(t,e);lh.test(s)?t.setProperty(Bi(i),s.replace(lh,""),"important"):t[i]=s}}const hh=["Webkit","Moz","ms"],po={};function eg(t,e){const s=po[e];if(s)return s;let i=Pi(e);if(i!=="filter"&&i in t)return po[e]=i;i=ou(i);for(let n=0;n<hh.length;n++){const r=hh[n]+i;if(r in t)return po[e]=r}return e}const ch="http://www.w3.org/1999/xlink";function tg(t,e,s,i,n){if(i&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(ch,e.slice(6,e.length)):t.setAttributeNS(ch,e,s);else{const r=Qf(e);s==null||r&&!nu(s)?t.removeAttribute(e):t.setAttribute(e,r?"":s)}}function sg(t,e,s,i,n,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,n,r),t[e]=s==null?"":s;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const l=s==null?"":s;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),s==null&&t.removeAttribute(e);return}let a=!1;if(s===""||s==null){const l=typeof t[e];l==="boolean"?s=nu(s):s==null&&l==="string"?(s="",a=!0):l==="number"&&(s=0,a=!0)}try{t[e]=s}catch{}a&&t.removeAttribute(e)}function ig(t,e,s,i){t.addEventListener(e,s,i)}function ng(t,e,s,i){t.removeEventListener(e,s,i)}function rg(t,e,s,i,n=null){const r=t._vei||(t._vei={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=og(e);if(i){const h=r[e]=hg(i,n);ig(t,a,h,l)}else o&&(ng(t,a,o,l),r[e]=void 0)}}const uh=/(?:Once|Passive|Capture)$/;function og(t){let e;if(uh.test(t)){e={};let i;for(;i=t.match(uh);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Bi(t.slice(2)),e]}let mo=0;const ag=Promise.resolve(),lg=()=>mo||(ag.then(()=>mo=0),mo=Date.now());function hg(t,e){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;vt(cg(i,s.value),e,5,[i])};return s.value=t,s.attached=lg(),s}function cg(t,e){if(le(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const dh=/^on[a-z]/,ug=(t,e,s,i,n=!1,r,o,a,l)=>{e==="class"?Jm(t,i,n):e==="style"?Qm(t,s,i):Nr(e)?Va(e)||rg(t,e,s,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):dg(t,e,i,n))?sg(t,e,i,r,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),tg(t,e,i,n))};function dg(t,e,s,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&dh.test(e)&&ce(s)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||dh.test(e)&&We(s)?!1:e in t}const fg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};nm.props;const pg=tt({patchProp:ug},Zm);let fh;function mg(){return fh||(fh=Im(pg))}const gg=(...t)=>{const e=mg().createApp(...t),{mount:s}=e;return e.mount=i=>{const n=yg(i);if(!n)return;const r=e._component;!ce(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function yg(t){return We(t)?document.querySelector(t):t}var hi=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(hi||{}),pa=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(pa||{}),ne=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ne||{}),Yt=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Yt||{}),X=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(X||{}),Ti=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Ti||{}),ie=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ie||{}),ma=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(ma||{}),rs=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(rs||{}),As=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(As||{}),Kt=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Kt||{}),kt=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(kt||{}),js=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(js||{}),fl=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(fl||{}),xt=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(xt||{}),Ve=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ve||{}),Xe=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Xe||{}),$t=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))($t||{});const xg={createCanvas:(t,e)=>{const s=document.createElement("canvas");return s.width=t,s.height=e,s},getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e)};var go=/iPhone/i,ph=/iPod/i,mh=/iPad/i,gh=/\biOS-universal(?:.+)Mac\b/i,yo=/\bAndroid(?:.+)Mobile\b/i,yh=/Android/i,ui=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Dn=/Silk/i,Jt=/Windows Phone/i,xh=/\bWindows(?:.+)ARM\b/i,vh=/BlackBerry/i,_h=/BB10/i,bh=/Opera Mini/i,wh=/\b(CriOS|Chrome)(?:.+)Mobile/i,Eh=/Mobile(?:.+)Firefox\b/i,Th=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function vg(t){return function(e){return e.test(t)}}function _g(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var s=e.userAgent,i=s.split("[FBAN");typeof i[1]<"u"&&(s=i[0]),i=s.split("Twitter"),typeof i[1]<"u"&&(s=i[0]);var n=vg(s),r={apple:{phone:n(go)&&!n(Jt),ipod:n(ph),tablet:!n(go)&&(n(mh)||Th(e))&&!n(Jt),universal:n(gh),device:(n(go)||n(ph)||n(mh)||n(gh)||Th(e))&&!n(Jt)},amazon:{phone:n(ui),tablet:!n(ui)&&n(Dn),device:n(ui)||n(Dn)},android:{phone:!n(Jt)&&n(ui)||!n(Jt)&&n(yo),tablet:!n(Jt)&&!n(ui)&&!n(yo)&&(n(Dn)||n(yh)),device:!n(Jt)&&(n(ui)||n(Dn)||n(yo)||n(yh))||n(/\bokhttp\b/i)},windows:{phone:n(Jt),tablet:n(xh),device:n(Jt)||n(xh)},other:{blackberry:n(vh),blackberry10:n(_h),opera:n(bh),firefox:n(Eh),chrome:n(wh),device:n(vh)||n(_h)||n(bh)||n(Eh)||n(wh)},any:!1,phone:!1,tablet:!1};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}const os=_g(globalThis.navigator);function bg(){return!os.apple.device}function wg(t){let e=!0;if(os.tablet||os.phone){if(os.apple.device){const s=navigator.userAgent.match(/OS (\d+)_(\d+)?/);s&&parseInt(s[1],10)<11&&(e=!1)}if(os.android.device){const s=navigator.userAgent.match(/Android\s([0-9.]*)/);s&&parseInt(s[1],10)<7&&(e=!1)}}return e?t:4}const j={ADAPTER:xg,MIPMAP_TEXTURES:Kt.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Xe.NONE,SPRITE_MAX_TEXTURES:wg(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1,hello:!1},GC_MODE:fl.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:As.CLAMP,SCALE_MODE:rs.LINEAR,PRECISION_VERTEX:xt.HIGH,PRECISION_FRAGMENT:os.apple.device?xt.HIGH:xt.MEDIUM,CAN_UPLOAD_SAME_BUFFER:bg(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};j.PREFER_ENV=hi.WEBGL2;j.STRICT_TEXTURE_CACHE=!1;var Y=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Y||{});const Sh=t=>{if((typeof t=="function"||typeof t=="object"&&t.extension)&&(t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}),typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ee={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Sh).forEach(e=>{e.type.forEach(s=>{var i,n;return(n=(i=this._removeHandlers)[s])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(Sh).forEach(e=>{e.type.forEach(s=>{const i=this._addHandlers,n=this._queue;i[s]?i[s](e):(n[s]=n[s]||[],n[s].push(e))})}),this},handle(t,e,s){const i=this._addHandlers,n=this._removeHandlers;i[t]=e,n[t]=s;const r=this._queue;return r[t]&&(r[t].forEach(o=>e(o)),delete r[t]),this},handleByMap(t,e){return this.handle(t,s=>{e[s.name]=s.ref},s=>{delete e[s.name]})},handleByList(t,e){return this.handle(t,s=>{e.includes(s.ref)||(e.push(s.ref),e.sort((i,n)=>{var r,o;return((r=n.priority)!=null?r:-1)-((o=i.priority)!=null?o:-1)}))},s=>{const i=e.indexOf(s.ref);i!==-1&&e.splice(i,1)})}},Sr=Math.PI*2,Eg=180/Math.PI,Tg=Math.PI/180;var qe=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(qe||{});class xe{constructor(e=0,s=0){this.x=0,this.y=0,this.x=e,this.y=s}clone(){return new xe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,s=e){return this.x=e,this.y=s,this}}const Fn=[new xe,new xe,new xe,new xe];class fe{constructor(e=0,s=0,i=0,n=0){this.x=Number(e),this.y=Number(s),this.width=Number(i),this.height=Number(n),this.type=qe.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new fe(0,0,0,0)}clone(){return new fe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,s){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&s>=this.y&&s<this.y+this.height}intersects(e,s){if(!s){const E=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=E)return!1;const C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}const i=this.left,n=this.right,r=this.top,o=this.bottom;if(n<=i||o<=r)return!1;const a=Fn[0].set(e.left,e.top),l=Fn[1].set(e.left,e.bottom),h=Fn[2].set(e.right,e.top),c=Fn[3].set(e.right,e.bottom);if(h.x<=a.x||l.y<=a.y)return!1;const u=Math.sign(s.a*s.d-s.b*s.c);if(u===0||(s.apply(a,a),s.apply(l,l),s.apply(h,h),s.apply(c,c),Math.max(a.x,l.x,h.x,c.x)<=i||Math.min(a.x,l.x,h.x,c.x)>=n||Math.max(a.y,l.y,h.y,c.y)<=r||Math.min(a.y,l.y,h.y,c.y)>=o))return!1;const d=u*(l.y-a.y),f=u*(a.x-l.x),p=d*i+f*r,m=d*n+f*r,y=d*i+f*o,x=d*n+f*o;if(Math.max(p,m,y,x)<=d*a.x+f*a.y||Math.min(p,m,y,x)>=d*c.x+f*c.y)return!1;const b=u*(a.y-h.y),g=u*(h.x-a.x),_=b*i+g*r,T=b*n+g*r,k=b*i+g*o,I=b*n+g*o;return!(Math.max(_,T,k,I)<=b*a.x+g*a.y||Math.min(_,T,k,I)>=b*c.x+g*c.y)}pad(e=0,s=e){return this.x-=e,this.y-=s,this.width+=e*2,this.height+=s*2,this}fit(e){const s=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),r=Math.min(this.y+this.height,e.y+e.height);return this.x=s,this.width=Math.max(i-s,0),this.y=n,this.height=Math.max(r-n,0),this}ceil(e=1,s=.001){const i=Math.ceil((this.x+this.width-s)*e)/e,n=Math.ceil((this.y+this.height-s)*e)/e;return this.x=Math.floor((this.x+s)*e)/e,this.y=Math.floor((this.y+s)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const s=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),r=Math.max(this.y+this.height,e.y+e.height);return this.x=s,this.width=i-s,this.y=n,this.height=r-n,this}}class pl{constructor(e=0,s=0,i=0){this.x=e,this.y=s,this.radius=i,this.type=qe.CIRC}clone(){return new pl(this.x,this.y,this.radius)}contains(e,s){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,r=this.y-s;return n*=n,r*=r,n+r<=i}getBounds(){return new fe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}class ml{constructor(e=0,s=0,i=0,n=0){this.x=e,this.y=s,this.width=i,this.height=n,this.type=qe.ELIP}clone(){return new ml(this.x,this.y,this.width,this.height)}contains(e,s){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(s-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new fe(this.x-this.width,this.y-this.height,this.width,this.height)}}class Si{constructor(...e){let s=Array.isArray(e[0])?e[0]:e;if(typeof s[0]!="number"){const i=[];for(let n=0,r=s.length;n<r;n++)i.push(s[n].x,s[n].y);s=i}this.points=s,this.type=qe.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),s=new Si(e);return s.closeStroke=this.closeStroke,s}contains(e,s){let i=!1;const n=this.points.length/2;for(let r=0,o=n-1;r<n;o=r++){const a=this.points[r*2],l=this.points[r*2+1],h=this.points[o*2],c=this.points[o*2+1];l>s!=c>s&&e<(h-a)*((s-l)/(c-l))+a&&(i=!i)}return i}}class gl{constructor(e=0,s=0,i=0,n=0,r=20){this.x=e,this.y=s,this.width=i,this.height=n,this.radius=r,this.type=qe.RREC}clone(){return new gl(this.x,this.y,this.width,this.height,this.radius)}contains(e,s){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&s>=this.y&&s<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(s>=this.y+i&&s<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),r=s-(this.y+i);const o=i*i;if(n*n+r*r<=o||(n=e-(this.x+this.width-i),n*n+r*r<=o)||(r=s-(this.y+this.height-i),n*n+r*r<=o)||(n=e-(this.x+i),n*n+r*r<=o))return!0}return!1}}class bs{constructor(e,s,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=s}clone(e=this.cb,s=this.scope){return new bs(e,s,this._x,this._y)}set(e=0,s=e){return(this._x!==e||this._y!==s)&&(this._x=e,this._y=s,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}class ke{constructor(e=1,s=0,i=0,n=1,r=0,o=0){this.array=null,this.a=e,this.b=s,this.c=i,this.d=n,this.tx=r,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,s,i,n,r,o){return this.a=e,this.b=s,this.c=i,this.d=n,this.tx=r,this.ty=o,this}toArray(e,s){this.array||(this.array=new Float32Array(9));const i=s||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,s){s=s||new xe;const i=e.x,n=e.y;return s.x=this.a*i+this.c*n+this.tx,s.y=this.b*i+this.d*n+this.ty,s}applyInverse(e,s){s=s||new xe;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,r=e.y;return s.x=this.d*i*n+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,s.y=this.a*i*r+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,s}translate(e,s){return this.tx+=e,this.ty+=s,this}scale(e,s){return this.a*=e,this.d*=s,this.c*=e,this.b*=s,this.tx*=e,this.ty*=s,this}rotate(e){const s=Math.cos(e),i=Math.sin(e),n=this.a,r=this.c,o=this.tx;return this.a=n*s-this.b*i,this.b=n*i+this.b*s,this.c=r*s-this.d*i,this.d=r*i+this.d*s,this.tx=o*s-this.ty*i,this.ty=o*i+this.ty*s,this}append(e){const s=this.a,i=this.b,n=this.c,r=this.d;return this.a=e.a*s+e.b*n,this.b=e.a*i+e.b*r,this.c=e.c*s+e.d*n,this.d=e.c*i+e.d*r,this.tx=e.tx*s+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*r+this.ty,this}setTransform(e,s,i,n,r,o,a,l,h){return this.a=Math.cos(a+h)*r,this.b=Math.sin(a+h)*r,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(i*this.a+n*this.c),this.ty=s-(i*this.b+n*this.d),this}prepend(e){const s=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=s*e.a+this.ty*e.c+e.tx,this.ty=s*e.b+this.ty*e.d+e.ty,this}decompose(e){const s=this.a,i=this.b,n=this.c,r=this.d,o=e.pivot,a=-Math.atan2(-n,r),l=Math.atan2(i,s),h=Math.abs(a+l);return h<1e-5||Math.abs(Sr-h)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(s*s+i*i),e.scale.y=Math.sqrt(n*n+r*r),e.position.x=this.tx+(o.x*s+o.y*n),e.position.y=this.ty+(o.x*i+o.y*r),e}invert(){const e=this.a,s=this.b,i=this.c,n=this.d,r=this.tx,o=e*n-s*i;return this.a=n/o,this.b=-s/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-n*r)/o,this.ty=-(e*this.ty-s*r)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ke;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new ke}static get TEMP_MATRIX(){return new ke}}const Xs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Vs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ws=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ys=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ga=[],Ju=[],On=Math.sign;function Sg(){for(let t=0;t<16;t++){const e=[];ga.push(e);for(let s=0;s<16;s++){const i=On(Xs[t]*Xs[s]+Ws[t]*Vs[s]),n=On(Vs[t]*Xs[s]+Ys[t]*Vs[s]),r=On(Xs[t]*Ws[s]+Ws[t]*Ys[s]),o=On(Vs[t]*Ws[s]+Ys[t]*Ys[s]);for(let a=0;a<16;a++)if(Xs[a]===i&&Vs[a]===n&&Ws[a]===r&&Ys[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new ke;e.set(Xs[t],Vs[t],Ws[t],Ys[t],0,0),Ju.push(e)}}Sg();const De={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Xs[t],uY:t=>Vs[t],vX:t=>Ws[t],vY:t=>Ys[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>ga[t][e],sub:(t,e)=>ga[t][De.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?De.S:De.N:Math.abs(e)*2<=Math.abs(t)?t>0?De.E:De.W:e>0?t>0?De.SE:De.SW:t>0?De.NE:De.NW,matrixAppendRotationInv:(t,e,s=0,i=0)=>{const n=Ju[De.inv(e)];n.tx=s,n.ty=i,t.append(n)}},Qu=class{constructor(){this.worldTransform=new ke,this.localTransform=new ke,this.position=new bs(this.onChange,this,0,0),this.scale=new bs(this.onChange,this,1,1),this.pivot=new bs(this.onChange,this,0,0),this.skew=new bs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const s=t.worldTransform,i=this.worldTransform;i.a=e.a*s.a+e.b*s.c,i.b=e.a*s.b+e.b*s.d,i.c=e.c*s.a+e.d*s.c,i.d=e.c*s.b+e.d*s.d,i.tx=e.tx*s.a+e.ty*s.c+s.tx,i.ty=e.tx*s.b+e.ty*s.d+s.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let yl=Qu;yl.IDENTITY=new Qu;class Ot{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,s,i,n,r,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:c}=this;this._aliasCount++;for(let u=0,d=c.length;u<d;u++)c[u][h](e,s,i,n,r,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const s=this.items.indexOf(e);return s!==-1&&(this.ensureNonAliasedItems(),this.items.splice(s,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ot.prototype,{dispatch:{value:Ot.prototype.emit},run:{value:Ot.prototype.emit}});j.TARGET_FPMS=.06;var ii=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ii||{});class xo{constructor(e,s=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=s,this.priority=i,this.once=n}match(e,s=null){return this.fn===e&&this.context===s}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const s=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),s}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const s=this.next;return this.next=e?null:s,this.previous=null,s}}class Re{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new xo(null,null,1/0),this.deltaMS=1/j.TARGET_FPMS,this.elapsedMS=1/j.TARGET_FPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,s,i=ii.NORMAL){return this._addListener(new xo(e,s,i))}addOnce(e,s,i=ii.NORMAL){return this._addListener(new xo(e,s,i,!0))}_addListener(e){let s=this._head.next,i=this._head;if(!s)e.connect(i);else{for(;s;){if(e.priority>s.priority){e.connect(i);break}i=s,s=s.next}e.previous||e.connect(i)}return this._startIfPossible(),this}remove(e,s){let i=this._head.next;for(;i;)i.match(e,s)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,s=this._head;for(;s=s.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let s;if(e>this.lastTime){if(s=this.elapsedMS=e-this.lastTime,s>this._maxElapsedMS&&(s=this._maxElapsedMS),s*=this.speed,this._minElapsedMS){const r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=s,this.deltaTime=this.deltaMS*j.TARGET_FPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const s=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,s)/1e3,j.TARGET_FPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const s=Math.max(this.minFPS,e);this._minElapsedMS=1/(s/1e3)}}static get shared(){if(!Re._shared){const e=Re._shared=new Re;e.autoStart=!0,e._protected=!0}return Re._shared}static get system(){if(!Re._system){const e=Re._system=new Re;e.autoStart=!0,e._protected=!0}return Re._system}}class ed{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(s){this._ticker&&this._ticker.remove(this.render,this),this._ticker=s,s&&s.add(this.render,this,ii.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Re.shared:new Re,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}ed.extension=Y.Application;ee.add(ed);var vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},td={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,s="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(s=!1));function n(l,h,c){this.fn=l,this.context=h,this.once=c||!1}function r(l,h,c,u,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new n(c,u||l,d),p=s?s+h:h;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,h){--l._eventsCount===0?l._events=new i:delete l._events[h]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],c,u;if(this._eventsCount===0)return h;for(u in c=this._events)e.call(c,u)&&h.push(s?u.slice(1):u);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(c)):h},a.prototype.listeners=function(h){var c=s?s+h:h,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var d=0,f=u.length,p=new Array(f);d<f;d++)p[d]=u[d].fn;return p},a.prototype.listenerCount=function(h){var c=s?s+h:h,u=this._events[c];return u?u.fn?1:u.length:0},a.prototype.emit=function(h,c,u,d,f,p){var m=s?s+h:h;if(!this._events[m])return!1;var y=this._events[m],x=arguments.length,b,g;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,u),!0;case 4:return y.fn.call(y.context,c,u,d),!0;case 5:return y.fn.call(y.context,c,u,d,f),!0;case 6:return y.fn.call(y.context,c,u,d,f,p),!0}for(g=1,b=new Array(x-1);g<x;g++)b[g-1]=arguments[g];y.fn.apply(y.context,b)}else{var _=y.length,T;for(g=0;g<_;g++)switch(y[g].once&&this.removeListener(h,y[g].fn,void 0,!0),x){case 1:y[g].fn.call(y[g].context);break;case 2:y[g].fn.call(y[g].context,c);break;case 3:y[g].fn.call(y[g].context,c,u);break;case 4:y[g].fn.call(y[g].context,c,u,d);break;default:if(!b)for(T=1,b=new Array(x-1);T<x;T++)b[T-1]=arguments[T];y[g].fn.apply(y[g].context,b)}}return!0},a.prototype.on=function(h,c,u){return r(this,h,c,u,!1)},a.prototype.once=function(h,c,u){return r(this,h,c,u,!0)},a.prototype.removeListener=function(h,c,u,d){var f=s?s+h:h;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!u||p.context===u)&&o(this,f);else{for(var m=0,y=[],x=p.length;m<x;m++)(p[m].fn!==c||d&&!p[m].once||u&&p[m].context!==u)&&y.push(p[m]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(h){var c;return h?(c=s?s+h:h,this._events[c]&&o(this,c)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=s,a.EventEmitter=a,t.exports=a})(td);const bn=td.exports;var xl={exports:{}};xl.exports=$r;xl.exports.default=$r;function $r(t,e,s){s=s||2;var i=e&&e.length,n=i?e[0]*s:t.length,r=sd(t,0,n,s,!0),o=[];if(!r||r.next===r.prev)return o;var a,l,h,c,u,d,f;if(i&&(r=Rg(t,e,r,s)),t.length>80*s){a=h=t[0],l=c=t[1];for(var p=s;p<n;p+=s)u=t[p],d=t[p+1],u<a&&(a=u),d<l&&(l=d),u>h&&(h=u),d>c&&(c=d);f=Math.max(h-a,c-l),f=f!==0?32767/f:0}return ln(r,o,s,a,l,f,0),o}function sd(t,e,s,i,n){var r,o;if(n===va(t,e,s,i)>0)for(r=e;r<s;r+=i)o=Ah(r,t[r],t[r+1],o);else for(r=s-i;r>=e;r-=i)o=Ah(r,t[r],t[r+1],o);return o&&qr(o,o.next)&&(cn(o),o=o.next),o}function ni(t,e){if(!t)return t;e||(e=t);var s=t,i;do if(i=!1,!s.steiner&&(qr(s,s.next)||Fe(s.prev,s,s.next)===0)){if(cn(s),s=e=s.prev,s===s.next)break;i=!0}else s=s.next;while(i||s!==e);return e}function ln(t,e,s,i,n,r,o){if(!!t){!o&&r&&Og(t,i,n,r);for(var a=t,l,h;t.prev!==t.next;){if(l=t.prev,h=t.next,r?Cg(t,i,n,r):Ag(t)){e.push(l.i/s|0),e.push(t.i/s|0),e.push(h.i/s|0),cn(t),t=h.next,a=h.next;continue}if(t=h,t===a){o?o===1?(t=Ig(ni(t),e,s),ln(t,e,s,i,n,r,2)):o===2&&Pg(t,e,s,i,n,r):ln(ni(t),e,s,i,n,r,1);break}}}}function Ag(t){var e=t.prev,s=t,i=t.next;if(Fe(e,s,i)>=0)return!1;for(var n=e.x,r=s.x,o=i.x,a=e.y,l=s.y,h=i.y,c=n<r?n<o?n:o:r<o?r:o,u=a<l?a<h?a:h:l<h?l:h,d=n>r?n>o?n:o:r>o?r:o,f=a>l?a>h?a:h:l>h?l:h,p=i.next;p!==e;){if(p.x>=c&&p.x<=d&&p.y>=u&&p.y<=f&&yi(n,a,r,l,o,h,p.x,p.y)&&Fe(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Cg(t,e,s,i){var n=t.prev,r=t,o=t.next;if(Fe(n,r,o)>=0)return!1;for(var a=n.x,l=r.x,h=o.x,c=n.y,u=r.y,d=o.y,f=a<l?a<h?a:h:l<h?l:h,p=c<u?c<d?c:d:u<d?u:d,m=a>l?a>h?a:h:l>h?l:h,y=c>u?c>d?c:d:u>d?u:d,x=ya(f,p,e,s,i),b=ya(m,y,e,s,i),g=t.prevZ,_=t.nextZ;g&&g.z>=x&&_&&_.z<=b;){if(g.x>=f&&g.x<=m&&g.y>=p&&g.y<=y&&g!==n&&g!==o&&yi(a,c,l,u,h,d,g.x,g.y)&&Fe(g.prev,g,g.next)>=0||(g=g.prevZ,_.x>=f&&_.x<=m&&_.y>=p&&_.y<=y&&_!==n&&_!==o&&yi(a,c,l,u,h,d,_.x,_.y)&&Fe(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;g&&g.z>=x;){if(g.x>=f&&g.x<=m&&g.y>=p&&g.y<=y&&g!==n&&g!==o&&yi(a,c,l,u,h,d,g.x,g.y)&&Fe(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;_&&_.z<=b;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=y&&_!==n&&_!==o&&yi(a,c,l,u,h,d,_.x,_.y)&&Fe(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function Ig(t,e,s){var i=t;do{var n=i.prev,r=i.next.next;!qr(n,r)&&id(n,i,i.next,r)&&hn(n,r)&&hn(r,n)&&(e.push(n.i/s|0),e.push(i.i/s|0),e.push(r.i/s|0),cn(i),cn(i.next),i=t=r),i=i.next}while(i!==t);return ni(i)}function Pg(t,e,s,i,n,r){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&kg(o,a)){var l=nd(o,a);o=ni(o,o.next),l=ni(l,l.next),ln(o,e,s,i,n,r,0),ln(l,e,s,i,n,r,0);return}a=a.next}o=o.next}while(o!==t)}function Rg(t,e,s,i){var n=[],r,o,a,l,h;for(r=0,o=e.length;r<o;r++)a=e[r]*i,l=r<o-1?e[r+1]*i:t.length,h=sd(t,a,l,i,!1),h===h.next&&(h.steiner=!0),n.push(Ng(h));for(n.sort(Mg),r=0;r<n.length;r++)s=Bg(n[r],s);return s}function Mg(t,e){return t.x-e.x}function Bg(t,e){var s=Dg(t,e);if(!s)return e;var i=nd(s,t);return ni(i,i.next),ni(s,s.next)}function Dg(t,e){var s=e,i=t.x,n=t.y,r=-1/0,o;do{if(n<=s.y&&n>=s.next.y&&s.next.y!==s.y){var a=s.x+(n-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(a<=i&&a>r&&(r=a,o=s.x<s.next.x?s:s.next,a===i))return o}s=s.next}while(s!==e);if(!o)return null;var l=o,h=o.x,c=o.y,u=1/0,d;s=o;do i>=s.x&&s.x>=h&&i!==s.x&&yi(n<c?i:r,n,h,c,n<c?r:i,n,s.x,s.y)&&(d=Math.abs(n-s.y)/(i-s.x),hn(s,t)&&(d<u||d===u&&(s.x>o.x||s.x===o.x&&Fg(o,s)))&&(o=s,u=d)),s=s.next;while(s!==l);return o}function Fg(t,e){return Fe(t.prev,t,e.prev)<0&&Fe(e.next,t,t.next)<0}function Og(t,e,s,i){var n=t;do n.z===0&&(n.z=ya(n.x,n.y,e,s,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,Lg(n)}function Lg(t){var e,s,i,n,r,o,a,l,h=1;do{for(s=t,t=null,r=null,o=0;s;){for(o++,i=s,a=0,e=0;e<h&&(a++,i=i.nextZ,!!i);e++);for(l=h;a>0||l>0&&i;)a!==0&&(l===0||!i||s.z<=i.z)?(n=s,s=s.nextZ,a--):(n=i,i=i.nextZ,l--),r?r.nextZ=n:t=n,n.prevZ=r,r=n;s=i}r.nextZ=null,h*=2}while(o>1);return t}function ya(t,e,s,i,n){return t=(t-s)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ng(t){var e=t,s=t;do(e.x<s.x||e.x===s.x&&e.y<s.y)&&(s=e),e=e.next;while(e!==t);return s}function yi(t,e,s,i,n,r,o,a){return(n-o)*(e-a)>=(t-o)*(r-a)&&(t-o)*(i-a)>=(s-o)*(e-a)&&(s-o)*(r-a)>=(n-o)*(i-a)}function kg(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Ug(t,e)&&(hn(t,e)&&hn(e,t)&&Gg(t,e)&&(Fe(t.prev,t,e.prev)||Fe(t,e.prev,e))||qr(t,e)&&Fe(t.prev,t,t.next)>0&&Fe(e.prev,e,e.next)>0)}function Fe(t,e,s){return(e.y-t.y)*(s.x-e.x)-(e.x-t.x)*(s.y-e.y)}function qr(t,e){return t.x===e.x&&t.y===e.y}function id(t,e,s,i){var n=Nn(Fe(t,e,s)),r=Nn(Fe(t,e,i)),o=Nn(Fe(s,i,t)),a=Nn(Fe(s,i,e));return!!(n!==r&&o!==a||n===0&&Ln(t,s,e)||r===0&&Ln(t,i,e)||o===0&&Ln(s,t,i)||a===0&&Ln(s,e,i))}function Ln(t,e,s){return e.x<=Math.max(t.x,s.x)&&e.x>=Math.min(t.x,s.x)&&e.y<=Math.max(t.y,s.y)&&e.y>=Math.min(t.y,s.y)}function Nn(t){return t>0?1:t<0?-1:0}function Ug(t,e){var s=t;do{if(s.i!==t.i&&s.next.i!==t.i&&s.i!==e.i&&s.next.i!==e.i&&id(s,s.next,t,e))return!0;s=s.next}while(s!==t);return!1}function hn(t,e){return Fe(t.prev,t,t.next)<0?Fe(t,e,t.next)>=0&&Fe(t,t.prev,e)>=0:Fe(t,e,t.prev)<0||Fe(t,t.next,e)<0}function Gg(t,e){var s=t,i=!1,n=(t.x+e.x)/2,r=(t.y+e.y)/2;do s.y>r!=s.next.y>r&&s.next.y!==s.y&&n<(s.next.x-s.x)*(r-s.y)/(s.next.y-s.y)+s.x&&(i=!i),s=s.next;while(s!==t);return i}function nd(t,e){var s=new xa(t.i,t.x,t.y),i=new xa(e.i,e.x,e.y),n=t.next,r=e.prev;return t.next=e,e.prev=t,s.next=n,n.prev=s,i.next=s,s.prev=i,r.next=i,i.prev=r,i}function Ah(t,e,s,i){var n=new xa(t,e,s);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function cn(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function xa(t,e,s){this.i=t,this.x=e,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}$r.deviation=function(t,e,s,i){var n=e&&e.length,r=n?e[0]*s:t.length,o=Math.abs(va(t,0,r,s));if(n)for(var a=0,l=e.length;a<l;a++){var h=e[a]*s,c=a<l-1?e[a+1]*s:t.length;o-=Math.abs(va(t,h,c,s))}var u=0;for(a=0;a<i.length;a+=3){var d=i[a]*s,f=i[a+1]*s,p=i[a+2]*s;u+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return o===0&&u===0?0:Math.abs((u-o)/o)};function va(t,e,s,i){for(var n=0,r=e,o=s-i;r<s;r+=i)n+=(t[o]-t[r])*(t[r+1]+t[o+1]),o=r;return n}$r.flatten=function(t){for(var e=t[0][0].length,s={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var r=0;r<t[n].length;r++)for(var o=0;o<e;o++)s.vertices.push(t[n][r][o]);n>0&&(i+=t[n-1].length,s.holes.push(i))}return s};var _a={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(s){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,r=typeof vo=="object"&&vo;(r.global===r||r.window===r||r.self===r)&&(s=r);var o,a=2147483647,l=36,h=1,c=26,u=38,d=700,f=72,p=128,m="-",y=/^xn--/,x=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-h,T=Math.floor,k=String.fromCharCode,I;function E(F){throw RangeError(g[F])}function G(F,J){for(var re=F.length,me=[];re--;)me[re]=J(F[re]);return me}function C(F,J){var re=F.split("@"),me="";re.length>1&&(me=re[0]+"@",F=re[1]),F=F.replace(b,".");var be=F.split("."),Le=G(be,J).join(".");return me+Le}function A(F){for(var J=[],re=0,me=F.length,be,Le;re<me;)be=F.charCodeAt(re++),be>=55296&&be<=56319&&re<me?(Le=F.charCodeAt(re++),(Le&64512)==56320?J.push(((be&1023)<<10)+(Le&1023)+65536):(J.push(be),re--)):J.push(be);return J}function O(F){return G(F,function(J){var re="";return J>65535&&(J-=65536,re+=k(J>>>10&1023|55296),J=56320|J&1023),re+=k(J),re}).join("")}function B(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:l}function P(F,J){return F+22+75*(F<26)-((J!=0)<<5)}function oe(F,J,re){var me=0;for(F=re?T(F/d):F>>1,F+=T(F/J);F>_*c>>1;me+=l)F=T(F/_);return T(me+(_+1)*F/(F+u))}function Q(F){var J=[],re=F.length,me,be=0,Le=p,ve=f,Ce,Ge,Me,Be,Ee,v,w,S,M;for(Ce=F.lastIndexOf(m),Ce<0&&(Ce=0),Ge=0;Ge<Ce;++Ge)F.charCodeAt(Ge)>=128&&E("not-basic"),J.push(F.charCodeAt(Ge));for(Me=Ce>0?Ce+1:0;Me<re;){for(Be=be,Ee=1,v=l;Me>=re&&E("invalid-input"),w=B(F.charCodeAt(Me++)),(w>=l||w>T((a-be)/Ee))&&E("overflow"),be+=w*Ee,S=v<=ve?h:v>=ve+c?c:v-ve,!(w<S);v+=l)M=l-S,Ee>T(a/M)&&E("overflow"),Ee*=M;me=J.length+1,ve=oe(be-Be,me,Be==0),T(be/me)>a-Le&&E("overflow"),Le+=T(be/me),be%=me,J.splice(be++,0,Le)}return O(J)}function L(F){var J,re,me,be,Le,ve,Ce,Ge,Me,Be,Ee,v=[],w,S,M,D;for(F=A(F),w=F.length,J=p,re=0,Le=f,ve=0;ve<w;++ve)Ee=F[ve],Ee<128&&v.push(k(Ee));for(me=be=v.length,be&&v.push(m);me<w;){for(Ce=a,ve=0;ve<w;++ve)Ee=F[ve],Ee>=J&&Ee<Ce&&(Ce=Ee);for(S=me+1,Ce-J>T((a-re)/S)&&E("overflow"),re+=(Ce-J)*S,J=Ce,ve=0;ve<w;++ve)if(Ee=F[ve],Ee<J&&++re>a&&E("overflow"),Ee==J){for(Ge=re,Me=l;Be=Me<=Le?h:Me>=Le+c?c:Me-Le,!(Ge<Be);Me+=l)D=Ge-Be,M=l-Be,v.push(k(P(Be+D%M,0))),Ge=T(D/M);v.push(k(P(Ge,0))),Le=oe(re,S,me==be),re=0,++me}++re,++J}return v.join("")}function Z(F){return C(F,function(J){return y.test(J)?Q(J.slice(4).toLowerCase()):J})}function ue(F){return C(F,function(J){return x.test(J)?"xn--"+L(J):J})}if(o={version:"1.3.2",ucs2:{decode:A,encode:O},decode:Q,encode:L,toASCII:ue,toUnicode:Z},i&&n)if(t.exports==i)n.exports=o;else for(I in o)o.hasOwnProperty(I)&&(i[I]=o[I]);else s.punycode=o})(vo)})(_a,_a.exports);var zg={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},un={};function Hg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var jg=function(t,e,s,i){e=e||"&",s=s||"=";var n={};if(typeof t!="string"||t.length===0)return n;var r=/\+/g;t=t.split(e);var o=1e3;i&&typeof i.maxKeys=="number"&&(o=i.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var h=t[l].replace(r,"%20"),c=h.indexOf(s),u,d,f,p;c>=0?(u=h.substr(0,c),d=h.substr(c+1)):(u=h,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),Hg(n,f)?Array.isArray(n[f])?n[f].push(p):n[f]=[n[f],p]:n[f]=p}return n},ki=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Xg=function(t,e,s,i){return e=e||"&",s=s||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(n){var r=encodeURIComponent(ki(n))+s;return Array.isArray(t[n])?t[n].map(function(o){return r+encodeURIComponent(ki(o))}).join(e):r+encodeURIComponent(ki(t[n]))}).join(e):i?encodeURIComponent(ki(i))+s+encodeURIComponent(ki(t)):""};un.decode=un.parse=jg;un.encode=un.stringify=Xg;var Vg=_a.exports,Vt=zg,Wg=Kr,Yg=n0,$g=i0;function Lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var qg=/^([a-z0-9.+-]+:)/i,Kg=/:[0-9]*$/,Zg=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Jg=["<",">",'"',"`"," ","\r",`
`,"	"],Qg=["{","}","|","\\","^","`"].concat(Jg),ba=["'"].concat(Qg),Ch=["%","/","?",";","#"].concat(ba),Ih=["/","?","#"],e0=255,Ph=/^[+a-z0-9A-Z_-]{0,63}$/,t0=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,s0={javascript:!0,"javascript:":!0},wa={javascript:!0,"javascript:":!0},Ai={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ea=un;function Kr(t,e,s){if(t&&Vt.isObject(t)&&t instanceof Lt)return t;var i=new Lt;return i.parse(t,e,s),i}Lt.prototype.parse=function(t,e,s){if(!Vt.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",r=t.split(n),o=/\\/g;r[0]=r[0].replace(o,"/"),t=r.join(n);var a=t;if(a=a.trim(),!s&&t.split("#").length===1){var l=Zg.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Ea.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=qg.exec(a);if(h){h=h[0];var c=h.toLowerCase();this.protocol=c,a=a.substr(h.length)}if(s||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var u=a.substr(0,2)==="//";u&&!(h&&wa[h])&&(a=a.substr(2),this.slashes=!0)}if(!wa[h]&&(u||h&&!Ai[h])){for(var d=-1,f=0;f<Ih.length;f++){var p=a.indexOf(Ih[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,y;d===-1?y=a.lastIndexOf("@"):y=a.lastIndexOf("@",d),y!==-1&&(m=a.slice(0,y),a=a.slice(y+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<Ch.length;f++){var p=a.indexOf(Ch[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var b=this.hostname.split(/\./),f=0,g=b.length;f<g;f++){var _=b[f];if(!!_&&!_.match(Ph)){for(var T="",k=0,I=_.length;k<I;k++)_.charCodeAt(k)>127?T+="x":T+=_[k];if(!T.match(Ph)){var E=b.slice(0,f),G=b.slice(f+1),C=_.match(t0);C&&(E.push(C[1]),G.unshift(C[2])),G.length&&(a="/"+G.join(".")+a),this.hostname=E.join(".");break}}}this.hostname.length>e0?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=Vg.toASCII(this.hostname));var A=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+A,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!s0[c])for(var f=0,g=ba.length;f<g;f++){var B=ba[f];if(a.indexOf(B)!==-1){var P=encodeURIComponent(B);P===B&&(P=escape(B)),a=a.split(B).join(P)}}var oe=a.indexOf("#");oe!==-1&&(this.hash=a.substr(oe),a=a.slice(0,oe));var Q=a.indexOf("?");if(Q!==-1?(this.search=a.substr(Q),this.query=a.substr(Q+1),e&&(this.query=Ea.parse(this.query)),a=a.slice(0,Q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ai[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var A=this.pathname||"",L=this.search||"";this.path=A+L}return this.href=this.format(),this};function i0(t){return Vt.isString(t)&&(t=Kr(t)),t instanceof Lt?t.format():Lt.prototype.format.call(t)}Lt.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",s=this.pathname||"",i=this.hash||"",n=!1,r="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&Vt.isObject(this.query)&&Object.keys(this.query).length&&(r=Ea.stringify(this.query));var o=this.search||r&&"?"+r||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ai[e])&&n!==!1?(n="//"+(n||""),s&&s.charAt(0)!=="/"&&(s="/"+s)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),s=s.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+n+s+o+i};function n0(t,e){return Kr(t,!1,!0).resolve(e)}Lt.prototype.resolve=function(t){return this.resolveObject(Kr(t,!1,!0)).format()};Lt.prototype.resolveObject=function(t){if(Vt.isString(t)){var e=new Lt;e.parse(t,!1,!0),t=e}for(var s=new Lt,i=Object.keys(this),n=0;n<i.length;n++){var r=i[n];s[r]=this[r]}if(s.hash=t.hash,t.href==="")return s.href=s.format(),s;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(s[l]=t[l])}return Ai[s.protocol]&&s.hostname&&!s.pathname&&(s.path=s.pathname="/"),s.href=s.format(),s}if(t.protocol&&t.protocol!==s.protocol){if(!Ai[t.protocol]){for(var h=Object.keys(t),c=0;c<h.length;c++){var u=h[c];s[u]=t[u]}return s.href=s.format(),s}if(s.protocol=t.protocol,!t.host&&!wa[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),s.pathname=g.join("/")}else s.pathname=t.pathname;if(s.search=t.search,s.query=t.query,s.host=t.host||"",s.auth=t.auth,s.hostname=t.hostname||t.host,s.port=t.port,s.pathname||s.search){var d=s.pathname||"",f=s.search||"";s.path=d+f}return s.slashes=s.slashes||t.slashes,s.href=s.format(),s}var p=s.pathname&&s.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",y=m||p||s.host&&t.pathname,x=y,b=s.pathname&&s.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],_=s.protocol&&!Ai[s.protocol];if(_&&(s.hostname="",s.port=null,s.host&&(b[0]===""?b[0]=s.host:b.unshift(s.host)),s.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),y=y&&(g[0]===""||b[0]==="")),m)s.host=t.host||t.host===""?t.host:s.host,s.hostname=t.hostname||t.hostname===""?t.hostname:s.hostname,s.search=t.search,s.query=t.query,b=g;else if(g.length)b||(b=[]),b.pop(),b=b.concat(g),s.search=t.search,s.query=t.query;else if(!Vt.isNullOrUndefined(t.search)){if(_){s.hostname=s.host=b.shift();var T=s.host&&s.host.indexOf("@")>0?s.host.split("@"):!1;T&&(s.auth=T.shift(),s.host=s.hostname=T.shift())}return s.search=t.search,s.query=t.query,(!Vt.isNull(s.pathname)||!Vt.isNull(s.search))&&(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.href=s.format(),s}if(!b.length)return s.pathname=null,s.search?s.path="/"+s.search:s.path=null,s.href=s.format(),s;for(var k=b.slice(-1)[0],I=(s.host||t.host||b.length>1)&&(k==="."||k==="..")||k==="",E=0,G=b.length;G>=0;G--)k=b[G],k==="."?b.splice(G,1):k===".."?(b.splice(G,1),E++):E&&(b.splice(G,1),E--);if(!y&&!x)for(;E--;E)b.unshift("..");y&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),I&&b.join("/").substr(-1)!=="/"&&b.push("");var C=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(_){s.hostname=s.host=C?"":b.length?b.shift():"";var T=s.host&&s.host.indexOf("@")>0?s.host.split("@"):!1;T&&(s.auth=T.shift(),s.host=s.hostname=T.shift())}return y=y||s.host&&b.length,y&&!C&&b.unshift(""),b.length?s.pathname=b.join("/"):(s.pathname=null,s.path=null),(!Vt.isNull(s.pathname)||!Vt.isNull(s.search))&&(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.auth=t.auth||s.auth,s.slashes=s.slashes||t.slashes,s.href=s.format(),s};Lt.prototype.parseHost=function(){var t=this.host,e=Kg.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const r0={parse:Wg,format:$g,resolve:Yg};function wt(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Rh(t){return t.split("?")[0].split("#")[0]}function o0(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a0(t,e,s){return t.replace(new RegExp(o0(e),"g"),s)}function l0(t,e){let s="",i=0,n=-1,r=0,o;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||r===1))if(n!==a-1&&r===2){if(s.length<2||i!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){const l=s.lastIndexOf("/");if(l!==s.length-1){l===-1?(s="",i=0):(s=s.slice(0,l),i=s.length-1-s.lastIndexOf("/")),n=a,r=0;continue}}else if(s.length===2||s.length===1){s="",i=0,n=a,r=0;continue}}e&&(s.length>0?s+="/..":s="..",i=2)}else s.length>0?s+=`/${t.slice(n+1,a)}`:s=t.slice(n+1,a),i=a-n-1;n=a,r=0}else o===46&&r!==-1?++r:r=-1}return s}const Ke={toPosix(t){return a0(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){wt(t),t=this.toPosix(t);let e="";const s=/^file:\/\/\//.exec(t),i=/^[^/:]+:\/\//.exec(t),n=/^[^/:]+:\//.exec(t);if(s||i||n){const r=(s==null?void 0:s[0])||(i==null?void 0:i[0])||(n==null?void 0:n[0]);e=r,t=t.slice(r.length)}return e},toAbsolute(t,e,s){if(this.isDataUrl(t))return t;const i=Rh(this.toPosix(e!=null?e:j.ADAPTER.getBaseUrl())),n=Rh(this.toPosix(s!=null?s:this.rootname(i)));return wt(t),t=this.toPosix(t),t.startsWith("/")?Ke.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(t=this.toPosix(t),wt(t),t.length===0)return".";let e="";const s=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=l0(t,!1),t.length>0&&i&&(t+="/"),s?`/${t}`:e+t},isAbsolute(t){return wt(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){var s;if(t.length===0)return".";let e;for(let i=0;i<t.length;++i){const n=t[i];if(wt(n),n.length>0)if(e===void 0)e=n;else{const r=(s=t[i-1])!=null?s:"";this.extname(r)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(wt(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const s=e===47;let i=-1,n=!0;const r=this.getProtocol(t),o=t;t=t.slice(r.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!n){i=a;break}}else n=!1;return i===-1?s?"/":this.isUrl(o)?r+t:r:s&&i===1?"//":r+t.slice(0,i)},rootname(t){wt(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const s=t.indexOf("/",e.length);s!==-1?e=t.slice(0,s):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){wt(t),e&&wt(e),t=this.toPosix(t);let s=0,i=-1,n=!0,r;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(r=t.length-1;r>=0;--r){const l=t.charCodeAt(r);if(l===47){if(!n){s=r+1;break}}else a===-1&&(n=!1,a=r+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=r):(o=-1,i=a))}return s===i?i=a:i===-1&&(i=t.length),t.slice(s,i)}for(r=t.length-1;r>=0;--r)if(t.charCodeAt(r)===47){if(!n){s=r+1;break}}else i===-1&&(n=!1,i=r+1);return i===-1?"":t.slice(s,i)},extname(t){wt(t),t=this.toPosix(t);let e=-1,s=0,i=-1,n=!0,r=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!n){s=o+1;break}continue}i===-1&&(n=!1,i=o+1),a===46?e===-1?e=o:r!==1&&(r=1):e!==-1&&(r=-1)}return e===-1||i===-1||r===0||r===1&&e===i-1&&e===s+1?"":t.slice(e,i)},parse(t){wt(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=this.toPosix(t);let s=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let r=-1,o=0,a=-1,l=!0,h=t.length-1,c=0;for(;h>=n;--h){if(s=t.charCodeAt(h),s===47){if(!l){o=h+1;break}continue}a===-1&&(l=!1,a=h+1),s===46?r===-1?r=h:c!==1&&(c=1):r!==-1&&(c=-1)}return r===-1||a===-1||c===0||c===1&&r===a-1&&r===o+1?a!==-1&&(o===0&&i?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&i?(e.name=t.slice(1,r),e.base=t.slice(1,a)):(e.name=t.slice(o,r),e.base=t.slice(o,a)),e.ext=t.slice(r,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};j.RETINA_PREFIX=/@([0-9\.]+)x/;j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;let _o;function h0(){return typeof _o>"u"&&(_o=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!j.ADAPTER.getWebGLRenderingContext())return!1;const s=j.ADAPTER.createCanvas();let i=s.getContext("webgl",e)||s.getContext("experimental-webgl",e);const n=!!(i&&i.getContextAttributes().stencil);if(i){const r=i.getExtension("WEBGL_lose_context");r&&r.loseContext()}return i=null,n}catch{return!1}}()),_o}var c0="#f0f8ff",u0="#faebd7",d0="#00ffff",f0="#7fffd4",p0="#f0ffff",m0="#f5f5dc",g0="#ffe4c4",y0="#000000",x0="#ffebcd",v0="#0000ff",_0="#8a2be2",b0="#a52a2a",w0="#deb887",E0="#5f9ea0",T0="#7fff00",S0="#d2691e",A0="#ff7f50",C0="#6495ed",I0="#fff8dc",P0="#dc143c",R0="#00ffff",M0="#00008b",B0="#008b8b",D0="#b8860b",F0="#a9a9a9",O0="#006400",L0="#a9a9a9",N0="#bdb76b",k0="#8b008b",U0="#556b2f",G0="#ff8c00",z0="#9932cc",H0="#8b0000",j0="#e9967a",X0="#8fbc8f",V0="#483d8b",W0="#2f4f4f",Y0="#2f4f4f",$0="#00ced1",q0="#9400d3",K0="#ff1493",Z0="#00bfff",J0="#696969",Q0="#696969",ey="#1e90ff",ty="#b22222",sy="#fffaf0",iy="#228b22",ny="#ff00ff",ry="#dcdcdc",oy="#f8f8ff",ay="#daa520",ly="#ffd700",hy="#808080",cy="#008000",uy="#adff2f",dy="#808080",fy="#f0fff0",py="#ff69b4",my="#cd5c5c",gy="#4b0082",yy="#fffff0",xy="#f0e68c",vy="#fff0f5",_y="#e6e6fa",by="#7cfc00",wy="#fffacd",Ey="#add8e6",Ty="#f08080",Sy="#e0ffff",Ay="#fafad2",Cy="#d3d3d3",Iy="#90ee90",Py="#d3d3d3",Ry="#ffb6c1",My="#ffa07a",By="#20b2aa",Dy="#87cefa",Fy="#778899",Oy="#778899",Ly="#b0c4de",Ny="#ffffe0",ky="#00ff00",Uy="#32cd32",Gy="#faf0e6",zy="#ff00ff",Hy="#800000",jy="#66cdaa",Xy="#0000cd",Vy="#ba55d3",Wy="#9370db",Yy="#3cb371",$y="#7b68ee",qy="#00fa9a",Ky="#48d1cc",Zy="#c71585",Jy="#191970",Qy="#f5fffa",ex="#ffe4e1",tx="#ffe4b5",sx="#ffdead",ix="#000080",nx="#fdf5e6",rx="#808000",ox="#6b8e23",ax="#ffa500",lx="#ff4500",hx="#da70d6",cx="#eee8aa",ux="#98fb98",dx="#afeeee",fx="#db7093",px="#ffefd5",mx="#ffdab9",gx="#cd853f",yx="#ffc0cb",xx="#dda0dd",vx="#b0e0e6",_x="#800080",bx="#663399",wx="#ff0000",Ex="#bc8f8f",Tx="#4169e1",Sx="#8b4513",Ax="#fa8072",Cx="#f4a460",Ix="#2e8b57",Px="#fff5ee",Rx="#a0522d",Mx="#c0c0c0",Bx="#87ceeb",Dx="#6a5acd",Fx="#708090",Ox="#708090",Lx="#fffafa",Nx="#00ff7f",kx="#4682b4",Ux="#d2b48c",Gx="#008080",zx="#d8bfd8",Hx="#ff6347",jx="#40e0d0",Xx="#ee82ee",Vx="#f5deb3",Wx="#ffffff",Yx="#f5f5f5",$x="#ffff00",qx="#9acd32",Kx={aliceblue:c0,antiquewhite:u0,aqua:d0,aquamarine:f0,azure:p0,beige:m0,bisque:g0,black:y0,blanchedalmond:x0,blue:v0,blueviolet:_0,brown:b0,burlywood:w0,cadetblue:E0,chartreuse:T0,chocolate:S0,coral:A0,cornflowerblue:C0,cornsilk:I0,crimson:P0,cyan:R0,darkblue:M0,darkcyan:B0,darkgoldenrod:D0,darkgray:F0,darkgreen:O0,darkgrey:L0,darkkhaki:N0,darkmagenta:k0,darkolivegreen:U0,darkorange:G0,darkorchid:z0,darkred:H0,darksalmon:j0,darkseagreen:X0,darkslateblue:V0,darkslategray:W0,darkslategrey:Y0,darkturquoise:$0,darkviolet:q0,deeppink:K0,deepskyblue:Z0,dimgray:J0,dimgrey:Q0,dodgerblue:ey,firebrick:ty,floralwhite:sy,forestgreen:iy,fuchsia:ny,gainsboro:ry,ghostwhite:oy,goldenrod:ay,gold:ly,gray:hy,green:cy,greenyellow:uy,grey:dy,honeydew:fy,hotpink:py,indianred:my,indigo:gy,ivory:yy,khaki:xy,lavenderblush:vy,lavender:_y,lawngreen:by,lemonchiffon:wy,lightblue:Ey,lightcoral:Ty,lightcyan:Sy,lightgoldenrodyellow:Ay,lightgray:Cy,lightgreen:Iy,lightgrey:Py,lightpink:Ry,lightsalmon:My,lightseagreen:By,lightskyblue:Dy,lightslategray:Fy,lightslategrey:Oy,lightsteelblue:Ly,lightyellow:Ny,lime:ky,limegreen:Uy,linen:Gy,magenta:zy,maroon:Hy,mediumaquamarine:jy,mediumblue:Xy,mediumorchid:Vy,mediumpurple:Wy,mediumseagreen:Yy,mediumslateblue:$y,mediumspringgreen:qy,mediumturquoise:Ky,mediumvioletred:Zy,midnightblue:Jy,mintcream:Qy,mistyrose:ex,moccasin:tx,navajowhite:sx,navy:ix,oldlace:nx,olive:rx,olivedrab:ox,orange:ax,orangered:lx,orchid:hx,palegoldenrod:cx,palegreen:ux,paleturquoise:dx,palevioletred:fx,papayawhip:px,peachpuff:mx,peru:gx,pink:yx,plum:xx,powderblue:vx,purple:_x,rebeccapurple:bx,red:wx,rosybrown:Ex,royalblue:Tx,saddlebrown:Sx,salmon:Ax,sandybrown:Cx,seagreen:Ix,seashell:Px,sienna:Rx,silver:Mx,skyblue:Bx,slateblue:Dx,slategray:Fx,slategrey:Ox,snow:Lx,springgreen:Nx,steelblue:kx,tan:Ux,teal:Gx,thistle:zx,tomato:Hx,turquoise:jx,violet:Xx,wheat:Vx,white:Wx,whitesmoke:Yx,yellow:$x,yellowgreen:qx};function dn(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function rd(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function vl(t){if(typeof t=="string"&&(t=Kx[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,s,i]=t;t=e+e+s+s+i+i}return parseInt(t,16)}function Zx(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[ne.NORMAL_NPM]=ne.NORMAL,t[ne.ADD_NPM]=ne.ADD,t[ne.SCREEN_NPM]=ne.SCREEN,e[ne.NORMAL]=ne.NORMAL_NPM,e[ne.ADD]=ne.ADD_NPM,e[ne.SCREEN]=ne.SCREEN_NPM;const s=[];return s.push(e),s.push(t),s}const od=Zx();function ad(t,e){return od[e?1:0][t]}function Jx(t,e,s,i){return s=s||new Float32Array(4),i||i===void 0?(s[0]=t[0]*e,s[1]=t[1]*e,s[2]=t[2]*e):(s[0]=t[0],s[1]=t[1],s[2]=t[2]),s[3]=e,s}function _l(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let s=t>>16&255,i=t>>8&255,n=t&255;return s=s*e+.5|0,i=i*e+.5|0,n=n*e+.5|0,(e*255<<24)+(s<<16)+(i<<8)+n}function ld(t,e,s,i){return s=s||new Float32Array(4),s[0]=(t>>16&255)/255,s[1]=(t>>8&255)/255,s[2]=(t&255)/255,(i||i===void 0)&&(s[0]*=e,s[1]*=e,s[2]*=e),s[3]=e,s}function Qx(t,e=null){const s=t*6;if(e=e||new Uint16Array(s),e.length!==s)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${s}`);for(let i=0,n=0;i<s;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function hd(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Ar(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Mh(t){return!(t&t-1)&&!!t}function Bh(t){let e=(t>65535?1:0)<<4;t>>>=e;let s=(t>255?1:0)<<3;return t>>>=s,e|=s,s=(t>15?1:0)<<2,t>>>=s,e|=s,s=(t>3?1:0)<<1,t>>>=s,e|=s,e|t>>1}function Ci(t,e,s){const i=t.length;let n;if(e>=i||s===0)return;s=e+s>i?i-e:s;const r=i-s;for(n=e;n<r;++n)t[n]=t[n+s];t.length=r}function xi(t){return t===0?0:t<0?-1:1}let ev=0;function ri(){return++ev}const Dh={},ts=Object.create(null),Ns=Object.create(null);class Fh{constructor(e,s,i){this.canvas=j.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=i||j.RESOLUTION,this.resize(e,s)}clear(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}resize(e,s){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(s*this.resolution)}destroy(){this.context=null,this.canvas=null}get width(){return this.canvas.width}set width(e){this.canvas.width=Math.round(e)}get height(){return this.canvas.height}set height(e){this.canvas.height=Math.round(e)}}function tv(t){let e=t.width,s=t.height;const i=t.getContext("2d",{willReadFrequently:!0}),r=i.getImageData(0,0,e,s).data,o=r.length,a={top:null,left:null,right:null,bottom:null};let l=null,h,c,u;for(h=0;h<o;h+=4)r[h+3]!==0&&(c=h/4%e,u=~~(h/4/e),a.top===null&&(a.top=u),(a.left===null||c<a.left)&&(a.left=c),(a.right===null||a.right<c)&&(a.right=c+1),(a.bottom===null||a.bottom<u)&&(a.bottom=u));return a.top!==null&&(e=a.right-a.left,s=a.bottom-a.top+1,l=i.getImageData(a.left,a.top,e,s)),{height:s,width:e,data:l}}let kn;function sv(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,kn||(kn=document.createElement("a")),kn.href=t;const s=r0.parse(kn.href),i=!s.port&&e.port===""||s.port===e.port;return s.hostname!==e.hostname||!i||s.protocol!==e.protocol?"anonymous":""}function Rs(t,e=1){const s=j.RETINA_PREFIX.exec(t);return s?parseFloat(s[1]):e}const Ta=[];function cd(t,e){if(!t)return null;let s="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(s=i[1].toLowerCase())}for(let i=Ta.length-1;i>=0;--i){const n=Ta[i];if(n.test&&n.test(t,s))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class fn{constructor(e=0,s=0){this._width=e,this._height=s,this.destroyed=!1,this.internal=!1,this.onResize=new Ot("setRealSize"),this.onUpdate=new Ot("update"),this.onError=new Ot("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,s){(e!==this._width||s!==this._height)&&(this._width=e,this._height=s,this.onResize.emit(e,s))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,s,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,s){return!1}}class wn extends fn{constructor(e,s){const{width:i,height:n}=s||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e}upload(e,s,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===kt.UNPACK);const r=s.realWidth,o=s.realHeight;return i.width===r&&i.height===o?n.texSubImage2D(s.target,0,0,0,r,o,s.format,i.type,this.data):(i.width=r,i.height=o,n.texImage2D(s.target,0,i.internalFormat,r,o,0,s.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const iv={scaleMode:rs.NEAREST,format:X.RGBA,alphaMode:kt.NPM},$i=class extends bn{constructor(t=null,e=null){super(),e=e||{};const{alphaMode:s,mipmap:i,anisotropicLevel:n,scaleMode:r,width:o,height:a,wrapMode:l,format:h,type:c,target:u,resolution:d,resourceOptions:f}=e;t&&!(t instanceof fn)&&(t=cd(t,f),t.internal=!0),this.resolution=d||j.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=i!=null?i:j.MIPMAP_TEXTURES,this.anisotropicLevel=n!=null?n:j.ANISOTROPIC_LEVEL,this._wrapMode=l||j.WRAP_MODE,this._scaleMode=r!=null?r:j.SCALE_MODE,this.format=h||X.RGBA,this.type=c||ie.UNSIGNED_BYTE,this.target=u||Ti.TEXTURE_2D,this.alphaMode=s!=null?s:kt.UNPACK,this.uid=ri(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let s;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,s=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,s=!0),s&&this.dirtyStyleId++,this}setSize(t,e,s){return s=s||this.resolution,this.setRealSize(t*s,e*s,s)}setRealSize(t,e,s){return this.resolution=s||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Mh(this.realWidth)&&Mh(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ns[this.cacheId],delete ts[this.cacheId],this.cacheId=null),this.dispose(),$i.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,s=j.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let n=null;if(i)n=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${ri()}`}n=t._pixiId}let r=Ns[n];if(i&&s&&!r)throw new Error(`The cacheId "${n}" does not exist in BaseTextureCache.`);return r||(r=new $i(t,e),r.cacheId=n,$i.addToCache(r,n)),r}static fromBuffer(t,e,s,i){t=t||new Float32Array(e*s*4);const n=new wn(t,{width:e,height:s}),r=t instanceof Float32Array?ie.FLOAT:ie.UNSIGNED_BYTE;return new $i(n,Object.assign({},iv,i||{width:e,height:s,type:r}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ns[e]&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Ns[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Ns[t];if(e){const s=e.textureCacheIds.indexOf(t);return s>-1&&e.textureCacheIds.splice(s,1),delete Ns[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ns[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let pe=$i;pe._globalBatch=0;class ud extends fn{constructor(e,s){const{width:i,height:n}=s||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let r=0;r<e;r++){const o=new pe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,s){for(let i=0;i<this.length;i++)!e[i]||(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof fn?this.addResourceAt(e[i],i):this.addResourceAt(cd(e[i],s),i))}dispose(){for(let e=0,s=this.length;e<s;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,s){if(!this.items[s])throw new Error(`Index ${s} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[s].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let s=0;s<this.length;s++)this.items[s].parentTextureArray=e,this.items[s].on("update",e.update,e)}unbind(e){super.unbind(e);for(let s=0;s<this.length;s++)this.items[s].parentTextureArray=null,this.items[s].off("update",e.update,e)}load(){if(this._load)return this._load;const s=this.items.map(i=>i.resource).filter(i=>i).map(i=>i.load());return this._load=Promise.all(s).then(()=>{const{realWidth:i,realHeight:n}=this.items[0];return this.resize(i,n),Promise.resolve(this)}),this._load}}class nv extends ud{constructor(e,s){const{width:i,height:n}=s||{};let r,o;Array.isArray(e)?(r=e,o=e.length):o=e,super(o,{width:i,height:n}),r&&this.initFromArray(r,s)}addBaseTextureAt(e,s){if(e.resource)this.addResourceAt(e.resource,s);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ti.TEXTURE_2D_ARRAY}upload(e,s,i){const{length:n,itemDirtyIds:r,items:o}=this,{gl:a}=e;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,s.format,i.type,null);for(let l=0;l<n;l++){const h=o[l];r[l]<h.dirtyId&&(r[l]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,h.resource.width,h.resource.height,1,s.format,i.type,h.resource.source))}return!0}}class Ms extends fn{constructor(e){const s=e,i=s.naturalWidth||s.videoWidth||s.width,n=s.naturalHeight||s.videoHeight||s.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,s,i){i===void 0&&!s.startsWith("data:")?e.crossOrigin=sv(s):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,s,i,n){const r=e.gl,o=s.realWidth,a=s.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1&&n.buffered.length===0)return!1;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===kt.UNPACK),!this.noSubImage&&s.target===r.TEXTURE_2D&&i.width===o&&i.height===a?r.texSubImage2D(r.TEXTURE_2D,0,0,0,s.format,i.type,n):(i.width=o,i.height=a,r.texImage2D(s.target,0,i.internalFormat,s.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,s=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(s,i),super.update()}dispose(){this.source=null}}class rv extends Ms{constructor(e){super(e)}static test(e){const{OffscreenCanvas:s}=globalThis;return s&&e instanceof s?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const qi=class extends ud{constructor(t,e){const{width:s,height:i,autoLoad:n,linkBaseTexture:r}=e||{};if(t&&t.length!==qi.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:s,height:i});for(let o=0;o<qi.SIDES;o++)this.items[o].target=Ti.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=r!==!1,t&&this.initFromArray(t,e),n!==!1&&this.load()}bind(t){super.bind(t),t.target=Ti.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,s){if(s===void 0&&(s=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ti.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,s){const i=this.itemDirtyIds;for(let n=0;n<qi.SIDES;n++){const r=this.items[n];(i[n]<r.dirtyId||s.dirtyId<e.dirtyId)&&(r.valid&&r.resource?(r.resource.upload(t,r,s),i[n]=r.dirtyId):i[n]<-1&&(t.gl.texImage2D(r.target,0,s.internalFormat,e.realWidth,e.realHeight,0,e.format,s.type,null),i[n]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===qi.SIDES}};let dd=qi;dd.SIDES=6;class fd extends Ms{constructor(e,s){var i;if(s=s||{},typeof e=="string"){const n=new Image;Ms.crossOrigin(n,e,s.crossorigin),n.src=e,e=n}super(e),!e.complete&&!!this._width&&!!this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((i=s.createBitmap)!=null?i:j.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof s.alphaMode=="number"?s.alphaMode:null,this.bitmap=null,this._load=null,s.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((s,i)=>{const n=this.source;this.url=n.src;const r=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.resize(n.width,n.height),this._load=null,this.createBitmap?s(this.process()):s(this))};n.complete&&n.src?r():(n.onload=r,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const s=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>s(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===kt.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,s,i){if(typeof this.alphaMode=="number"&&(s.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,s,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,s,i,this.bitmap),!this.preserveBitmap){let n=!0;const r=s._glTextures;for(const o in r){const a=r[o];if(a!==i&&a.dirtyId!==s.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}const ur=class extends Ms{constructor(t,e){e=e||{},super(j.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},ur.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Ms.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{!this._resolve||(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,s=t.height;if(!e||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=e*this.scale,n=s*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/s*e,n=this._overrideHeight||this._overrideWidth/e*s),i=Math.round(i),n=Math.round(n);const r=this.source;r.width=i,r.height=n,r._pixiId=`canvas_${ri()}`,r.getContext("2d").drawImage(t,0,0,e,s,0,0,i,n),this._resolve(),this._resolve=null}}static getSize(t){const e=ur.SVG_SIZE.exec(t),s={};return e&&(s[e[1]]=Math.round(parseFloat(e[3])),s[e[5]]=Math.round(parseFloat(e[7]))),s}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&ur.SVG_XML.test(t)}};let pn=ur;pn.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;pn.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Sa=class extends Ms{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const i=t[0].src||t[0];Ms.crossOrigin(s,i,e.crossorigin);for(let n=0;n<t.length;++n){const r=document.createElement("source");let{src:o,mime:a}=t[n];o=o||t[n];const l=o.split("?").shift().toLowerCase(),h=l.slice(l.lastIndexOf(".")+1);a=a||Sa.MIME_TYPES[h]||`video/${h}`,r.src=o,r.type=a,s.appendChild(r)}t=s}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Re.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Re.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Re.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Re.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Re.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Re.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Sa.TYPES.includes(e)}};let bl=Sa;bl.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];bl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};class vi extends Ms{constructor(e,s){var n;var i=(...r)=>{super(...r)};s=s||{},typeof e=="string"?(i(vi.EMPTY),this.url=e):(i(e),this.url=null),this.crossOrigin=(n=s.crossOrigin)!=null?n:!0,this.alphaMode=typeof s.alphaMode=="number"?s.alphaMode:null,this._load=null,s.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,s)=>{if(this.url===null){e(this);return}try{const i=await j.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const r=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===kt.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=r,this.update(),e(this)}catch(i){if(this.destroyed)return;s(i),this.onError.emit(i)}}),this._load)}upload(e,s,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(s.alphaMode=this.alphaMode),super.upload(e,s,i)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return vi._EMPTY=(e=vi._EMPTY)!=null?e:j.ADAPTER.createCanvas(0,0),vi._EMPTY}}Ta.push(vi,fd,rv,bl,pn,wn,dd,nv);class ov extends wn{upload(e,s,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===kt.UNPACK);const r=s.realWidth,o=s.realHeight;return i.width===r&&i.height===o?n.texSubImage2D(s.target,0,0,0,r,o,s.format,i.type,this.data):(i.width=r,i.height=o,n.texImage2D(s.target,0,i.internalFormat,r,o,0,s.format,i.type,this.data)),!0}}class Aa{constructor(e,s){this.width=Math.round(e||100),this.height=Math.round(s||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ot("disposeFramebuffer"),this.multisample=Xe.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,s){return this.colorTextures[e]=s||new pe(null,{scaleMode:rs.NEAREST,resolution:1,mipmap:Kt.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new pe(new ov(null,{width:this.width,height:this.height}),{scaleMode:rs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Kt.OFF,format:X.DEPTH_COMPONENT,type:ie.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,s){if(e=Math.round(e),s=Math.round(s),!(e===this.width&&s===this.height)){this.width=e,this.height=s,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],r=n.resolution;n.setSize(e/r,s/r)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,s/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class pd extends pe{constructor(e={}){var s;if(typeof e=="number"){const i=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];e={width:i,height:n,scaleMode:r,resolution:o}}e.width=e.width||100,e.height=e.height||100,(s=e.multisample)!=null||(e.multisample=Xe.NONE),super(null,e),this.mipmap=Kt.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Aa(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,s){this.framebuffer.resize(e*this.resolution,s*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class md{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,s,i){const n=s.width,r=s.height;if(i){const o=e.width/2/n,a=e.height/2/r,l=e.x/n+o,h=e.y/r+a;i=De.add(i,De.NW),this.x0=l+o*De.uX(i),this.y0=h+a*De.uY(i),i=De.add(i,2),this.x1=l+o*De.uX(i),this.y1=h+a*De.uY(i),i=De.add(i,2),this.x2=l+o*De.uX(i),this.y2=h+a*De.uY(i),i=De.add(i,2),this.x3=l+o*De.uX(i),this.y3=h+a*De.uY(i)}else this.x0=e.x/n,this.y0=e.y/r,this.x1=(e.x+e.width)/n,this.y1=e.y/r,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/r,this.x3=e.x/n,this.y3=(e.y+e.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}const Oh=new md;function Un(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class U extends bn{constructor(e,s,i,n,r,o){if(super(),this.noFrame=!1,s||(this.noFrame=!0,s=new fe(0,0,1,1)),e instanceof U&&(e=e.baseTexture),this.baseTexture=e,this._frame=s,this.trim=n,this.valid=!1,this._uvs=Oh,this.uvMatrix=null,this.orig=i||s,this._rotate=Number(r||0),r===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new xe(o.x,o.y):new xe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=s:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:s}=this.baseTexture;(s==null?void 0:s.url)&&ts[s.url]&&U.removeFromCache(s.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,U.removeFromCache(this),this.textureCacheIds=null}clone(){var n;const e=this._frame.clone(),s=this._frame===this.orig?e:this.orig.clone(),i=new U(this.baseTexture,!this.noFrame&&e,s,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===Oh&&(this._uvs=new md),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,s={},i=j.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let r=null;if(n)r=e;else if(e instanceof pe){if(!e.cacheId){const a=(s==null?void 0:s.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${ri()}`,pe.addToCache(e,e.cacheId)}r=e.cacheId}else{if(!e._pixiId){const a=(s==null?void 0:s.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ri()}`}r=e._pixiId}let o=ts[r];if(n&&i&&!o)throw new Error(`The cacheId "${r}" does not exist in TextureCache.`);return!o&&!(e instanceof pe)?(s.resolution||(s.resolution=Rs(e)),o=new U(new pe(e,s)),o.baseTexture.cacheId=r,pe.addToCache(o.baseTexture,r),U.addToCache(o,r)):!o&&e instanceof pe&&(o=new U(e),U.addToCache(o,r)),o}static fromURL(e,s){const i=Object.assign({autoLoad:!1},s==null?void 0:s.resourceOptions),n=U.from(e,Object.assign({resourceOptions:i},s),!1),r=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):r.load().then(()=>Promise.resolve(n))}static fromBuffer(e,s,i,n){return new U(pe.fromBuffer(e,s,i,n))}static fromLoader(e,s,i,n){const r=new pe(e,Object.assign({scaleMode:j.SCALE_MODE,resolution:Rs(s)},n)),{resource:o}=r;o instanceof fd&&(o.url=s);const a=new U(r);return i||(i=s),pe.addToCache(a.baseTexture,i),U.addToCache(a,i),i!==s&&(pe.addToCache(a.baseTexture,s),U.addToCache(a,s)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,s){s&&(e.textureCacheIds.includes(s)||e.textureCacheIds.push(s),ts[s]&&console.warn(`Texture added to the cache with an id [${s}] that already had an entry`),ts[s]=e)}static removeFromCache(e){if(typeof e=="string"){const s=ts[e];if(s){const i=s.textureCacheIds.indexOf(e);return i>-1&&s.textureCacheIds.splice(i,1),delete ts[e],s}}else if(e!=null&&e.textureCacheIds){for(let s=0;s<e.textureCacheIds.length;++s)ts[e.textureCacheIds[s]]===e&&delete ts[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:s,y:i,width:n,height:r}=e,o=s+n>this.baseTexture.width,a=i+r>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",h=`X: ${s} + ${n} = ${s+n} > ${this.baseTexture.width}`,c=`Y: ${i} + ${r} = ${i+r} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${l} ${c}`)}this.valid=n&&r&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return U._EMPTY||(U._EMPTY=new U(new pe),Un(U._EMPTY),Un(U._EMPTY.baseTexture)),U._EMPTY}static get WHITE(){if(!U._WHITE){const e=j.ADAPTER.createCanvas(16,16),s=e.getContext("2d");e.width=16,e.height=16,s.fillStyle="white",s.fillRect(0,0,16,16),U._WHITE=new U(pe.from(e)),Un(U._WHITE),Un(U._WHITE.baseTexture)}return U._WHITE}}class Bs extends U{constructor(e,s){super(e,s),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,s,i=!0){const n=this.baseTexture.resolution,r=Math.round(e*n)/n,o=Math.round(s*n)/n;this.valid=r>0&&o>0,this._frame.width=this.orig.width=r,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(r,o),this.updateUvs()}setResolution(e){const{baseTexture:s}=this;s.resolution!==e&&(s.setResolution(e),this.resize(s.width,s.height,!1))}static create(e){return new Bs(new pd(e))}}class gd{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,s,i=Xe.NONE){const n=new pd(Object.assign({width:e,height:s,resolution:1,multisample:i},this.textureOptions));return new Bs(n)}getOptimalTexture(e,s,i=1,n=Xe.NONE){let r;e=Math.ceil(e*i-1e-6),s=Math.ceil(s*i-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||s!==this._pixelsHeight?(e=Ar(e),s=Ar(s),r=((e&65535)<<16|s&65535)>>>0,n>1&&(r+=n*4294967296)):r=n>1?-n:-1,this.texturePool[r]||(this.texturePool[r]=[]);let o=this.texturePool[r].pop();return o||(o=this.createTexture(e,s,n)),o.filterPoolKey=r,o.setResolution(i),o}getFilterTexture(e,s,i){const n=this.getOptimalTexture(e.width,e.height,s||e.resolution,i||Xe.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const s=e.filterPoolKey;e.filterFrame=null,this.texturePool[s].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const s in this.texturePool){const i=this.texturePool[s];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const s in this.texturePool){if(!(Number(s)<0))continue;const i=this.texturePool[s];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[s]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}gd.SCREEN_KEY=-1;class Cr{constructor(e,s=0,i=!1,n=ie.FLOAT,r,o,a){this.buffer=e,this.size=s,this.normalized=i,this.type=n,this.stride=r,this.start=o,this.instance=a}destroy(){this.buffer=null}static from(e,s,i,n,r){return new Cr(e,s,i,n,r)}}let av=0;class He{constructor(e,s=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=s,this.id=av++,this.disposeRunner=new Ot("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?$t.ELEMENT_ARRAY_BUFFER:$t.ARRAY_BUFFER}get index(){return this.type===$t.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new He(e)}}const lv={Float32Array,Uint32Array,Int32Array,Uint8Array};function hv(t,e){let s=0,i=0;const n={};for(let l=0;l<t.length;l++)i+=e[l],s+=t[l].length;const r=new ArrayBuffer(s*4);let o=null,a=0;for(let l=0;l<t.length;l++){const h=e[l],c=t[l],u=hd(c);n[u]||(n[u]=new lv[u](r)),o=n[u];for(let d=0;d<c.length;d++){const f=(d/h|0)*i+a,p=d%h;o[f+p]=c[d]}a+=h}return new Float32Array(r)}const Lh={5126:4,5123:2,5121:1};let cv=0;const uv={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ds{constructor(e=[],s={}){this.buffers=e,this.indexBuffer=null,this.attributes=s,this.glVertexArrayObjects={},this.id=cv++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ot("disposeGeometry"),this.refCount=0}addAttribute(e,s,i=0,n=!1,r,o,a,l=!1){if(!s)throw new Error("You must pass a buffer when creating an attribute");s instanceof He||(s instanceof Array&&(s=new Float32Array(s)),s=new He(s));const h=e.split("|");if(h.length>1){for(let u=0;u<h.length;u++)this.addAttribute(h[u],s,i,n,r);return this}let c=this.buffers.indexOf(s);return c===-1&&(this.buffers.push(s),c=this.buffers.length-1),this.attributes[e]=new Cr(c,i,n,r,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof He||(e instanceof Array&&(e=new Uint16Array(e)),e=new He(e)),e.type=$t.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],s=[],i=new He;let n;for(n in this.attributes){const r=this.attributes[n],o=this.buffers[r.buffer];e.push(o.data),s.push(r.size*Lh[r.type]/4),r.buffer=0}for(i.data=hv(e,s),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const s=this.attributes[e];return this.buffers[s.buffer].data.length/(s.stride/4||s.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ds;for(let s=0;s<this.buffers.length;s++)e.buffers[s]=new He(this.buffers[s].data.slice(0));for(const s in this.attributes){const i=this.attributes[s];e.attributes[s]=new Cr(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=$t.ELEMENT_ARRAY_BUFFER),e}static merge(e){const s=new Ds,i=[],n=[],r=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l]=n[l]||0,n[l]+=o.buffers[l].data.length,r[l]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new uv[hd(o.buffers[a].data)](n[a]),s.buffers[a]=new He(i[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,r[l]),r[l]+=o.buffers[l].data.length}if(s.attributes=o.attributes,o.indexBuffer){s.indexBuffer=s.buffers[o.buffers.indexOf(o.indexBuffer)],s.indexBuffer.type=$t.ELEMENT_ARRAY_BUFFER;let a=0,l=0,h=0,c=0;for(let u=0;u<o.buffers.length;u++)if(o.buffers[u]!==o.indexBuffer){c=u;break}for(const u in o.attributes){const d=o.attributes[u];(d.buffer|0)===c&&(l+=d.size*Lh[d.type]/4)}for(let u=0;u<e.length;u++){const d=e[u].indexBuffer.data;for(let f=0;f<d.length;f++)s.indexBuffer.data[f+h]+=a;a+=e[u].buffers[c].data.length/l,h+=d.length}}return s}}class dv extends Ds{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class yd extends Ds{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new He(this.vertices),this.uvBuffer=new He(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,s){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+s.width/e.width,this.uvs[3]=n,this.uvs[4]=i+s.width/e.width,this.uvs[5]=n+s.height/e.height,this.uvs[6]=i,this.uvs[7]=n+s.height/e.height,i=s.x,n=s.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+s.width,this.vertices[3]=n,this.vertices[4]=i+s.width,this.vertices[5]=n+s.height,this.vertices[6]=i,this.vertices[7]=n+s.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}let fv=0;class Nt{constructor(e,s,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=fv++,this.static=!!s,this.ubo=!!i,e instanceof He?(this.buffer=e,this.buffer.type=$t.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new He(new Float32Array(1)),this.buffer.type=$t.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,s,i){if(!this.ubo)this.uniforms[e]=new Nt(s,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,s,i){return new Nt(e,s,i)}static uboFrom(e,s){return new Nt(e,s!=null?s:!0,!0)}}class pv{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Xe.NONE,this.sourceFrame=new fe,this.destinationFrame=new fe,this.bindingSourceFrame=new fe,this.bindingDestinationFrame=new fe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Gn=[new xe,new xe,new xe,new xe],bo=new ke;class xd{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new gd,this.statePool=[],this.quad=new dv,this.quadUv=new yd,this.tempRect=new fe,this.activeState={},this.globalUniforms=new Nt({outputFrame:new fe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,s){var p,m;const i=this.renderer,n=this.defaultFilterStack,r=this.statePool.pop()||new pv,o=this.renderer.renderTexture;let a=s[0].resolution,l=s[0].multisample,h=s[0].padding,c=s[0].autoFit,u=(p=s[0].legacy)!=null?p:!0;for(let y=1;y<s.length;y++){const x=s[y];a=Math.min(a,x.resolution),l=Math.min(l,x.multisample),h=this.useMaxPadding?Math.max(h,x.padding):h+x.padding,c=c&&x.autoFit,u=u||((m=x.legacy)!=null?m:!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(r),r.resolution=a,r.multisample=l,r.legacy=u,r.target=e,r.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),r.sourceFrame.pad(h);const d=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(bo.copyFrom(i.projection.transform).invert(),d),c?(r.sourceFrame.fit(d),(r.sourceFrame.width<=0||r.sourceFrame.height<=0)&&(r.sourceFrame.width=0,r.sourceFrame.height=0)):r.sourceFrame.intersects(d)||(r.sourceFrame.width=0,r.sourceFrame.height=0),this.roundFrame(r.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,a,l),r.filters=s,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height;const f=this.tempRect;f.x=0,f.y=0,f.width=r.sourceFrame.width,f.height=r.sourceFrame.height,r.renderTexture.filterFrame=r.sourceFrame,r.bindingSourceFrame.copyFrom(o.sourceFrame),r.bindingDestinationFrame.copyFrom(o.destinationFrame),r.transform=i.projection.transform,i.projection.transform=null,o.bind(r.renderTexture,r.sourceFrame,f),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,s=e.pop(),i=s.filters;this.activeState=s;const n=this.globalUniforms.uniforms;n.outputFrame=s.sourceFrame,n.resolution=s.resolution;const r=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(r[0]=s.destinationFrame.width,r[1]=s.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],o[0]=Math.round(r[0]*s.resolution),o[1]=Math.round(r[1]*s.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=s.sourceFrame.width*r[2]-.5*o[2],a[3]=s.sourceFrame.height*r[3]-.5*o[3],s.legacy){const h=n.filterArea;h[0]=s.destinationFrame.width,h[1]=s.destinationFrame.height,h[2]=s.sourceFrame.x,h[3]=s.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,s.renderTexture,l.renderTexture,js.BLEND,s),this.returnFilterTexture(s.renderTexture);else{let h=s.renderTexture,c=this.getOptimalFilterTexture(h.width,h.height,s.resolution);c.filterFrame=h.filterFrame;let u=0;for(u=0;u<i.length-1;++u){u===1&&s.multisample>1&&(c=this.getOptimalFilterTexture(h.width,h.height,s.resolution),c.filterFrame=h.filterFrame),i[u].apply(this,h,c,js.CLEAR,s);const d=h;h=c,c=d}i[u].apply(this,h,l.renderTexture,js.BLEND,s),u>1&&s.multisample>1&&this.returnFilterTexture(s.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(c)}s.clear(),this.statePool.push(s)}bindAndClear(e,s=js.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const r=n.stateId&1||this.forceClear;(s===js.CLEAR||s===js.BLIT&&r)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,s,i,n){const r=this.renderer;r.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=s,e.uniforms.filterGlobals=this.globalUniforms,r.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(s._frame,s.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(Yt.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(Yt.TRIANGLE_STRIP))}calculateSpriteMatrix(e,s){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:r}=s._texture,o=e.set(n.width,0,0,n.height,i.x,i.y),a=s.worldTransform.copyTo(ke.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/r.width,1/r.height),o.translate(s.anchor.x,s.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,s,i=1,n=Xe.NONE){return this.texturePool.getOptimalTexture(e,s,i,n)}getFilterTexture(e,s,i){if(typeof e=="number"){const r=e;e=s,s=r}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,s||e.resolution,i||Xe.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,s){const i=Gn[0],n=Gn[1],r=Gn[2],o=Gn[3];i.set(s.left,s.top),n.set(s.left,s.bottom),r.set(s.right,s.top),o.set(s.right,s.bottom),e.apply(i,i),e.apply(n,n),e.apply(r,r),e.apply(o,o);const a=Math.min(i.x,n.x,r.x,o.x),l=Math.min(i.y,n.y,r.y,o.y),h=Math.max(i.x,n.x,r.x,o.x),c=Math.max(i.y,n.y,r.y,o.y);s.x=a,s.y=l,s.width=h-a,s.height=c-l}roundFrame(e,s,i,n,r){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(r){const{a:o,b:a,c:l,d:h}=r;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}r=r?bo.copyFrom(r):bo.identity(),r.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(r,e),e.ceil(s),this.transformAABB(r.invert(),e)}}}xd.extension={type:Y.RendererSystem,name:"filter"};ee.add(xd);class Zr{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}class vd{constructor(e){this.renderer=e,this.emptyRenderer=new Zr(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,s){const{boundTextures:i}=this.renderer.texture;for(let n=s-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,s,i,n){const{elements:r,ids:o,count:a}=e;let l=0;for(let h=0;h<a;h++){const c=r[h],u=c._batchLocation;if(u>=0&&u<n&&s[u]===c){o[h]=u;continue}for(;l<n;){const d=s[l];if(d&&d._batchEnabled===i&&d._batchLocation===l){l++;continue}o[h]=l,c._batchLocation=l,s[l]=c;break}}}destroy(){this.renderer=null}}vd.extension={type:Y.RendererSystem,name:"batch"};ee.add(vd);let Nh=0;class _d{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Nh++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()}init(e){var s;if(e.context)this.initFromContext(e.context);else{const i=this.renderer.background.alpha<1,n=(s=e.premultipliedAlpha)!=null?s:!0;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:i,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Nh++,this.renderer.runners.contextChange.emit(e);const s=this.renderer.view;s.addEventListener!==void 0&&(s.addEventListener("webglcontextlost",this.handleContextLost,!1),s.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const s=this.createContext(this.renderer.view,e);this.initFromContext(s)}createContext(e,s){let i;if(j.PREFER_ENV>=hi.WEBGL2&&(i=e.getContext("webgl2",s)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",s)||e.getContext("experimental-webgl",s),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,s={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,s,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,s,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault()}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const s=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),s&&!s.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}_d.extension={type:Y.RendererSystem,name:"context"};ee.add(_d);class mv{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Xe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const gv=new fe;class bd{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Aa(10,10),this.msaaSamples=null}contextChange(){const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new fe,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){let s=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===hi.WEBGL_LEGACY&&(s=null,i=null),s?e.drawBuffers=n=>s.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,s,i=0){const{gl:n}=this;if(e){const r=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,r.mipLevel=i),r.dirtyId!==e.dirtyId&&(r.dirtyId=e.dirtyId,r.dirtyFormat!==e.dirtyFormat?(r.dirtyFormat=e.dirtyFormat,r.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):r.dirtySize!==e.dirtySize&&(r.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),s){const o=s.width>>i,a=s.height>>i,l=o/s.width;this.setViewport(s.x*l,s.y*l,o,a)}else{const o=e.width>>i,a=e.height>>i;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),s?this.setViewport(s.x,s.y,s.width,s.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,s,i,n){const r=this.viewport;e=Math.round(e),s=Math.round(s),i=Math.round(i),n=Math.round(n),(r.width!==i||r.height!==n||r.x!==e||r.y!==s)&&(r.x=e,r.y=s,r.width=i,r.height=n,this.gl.viewport(e,s,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,s,i,n,r=pa.COLOR|pa.DEPTH){const{gl:o}=this;o.clearColor(e,s,i,n),o.clear(r)}initFramebuffer(e){const{gl:s}=this,i=new mv(s.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:s}=this,i=e.glFramebuffers[this.CONTEXT_UID];i.stencil&&(s.bindRenderbuffer(s.RENDERBUFFER,i.stencil),i.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,i.multisample,s.DEPTH24_STENCIL8,e.width,e.height):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,e.width,e.height));const n=e.colorTextures;let r=n.length;s.drawBuffers||(r=Math.min(r,1));for(let o=0;o<r;o++){const a=n[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&i.msaaBuffer&&(s.bindRenderbuffer(s.RENDERBUFFER,i.msaaBuffer),s.renderbufferStorageMultisample(s.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,s){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],r=e.colorTextures;let o=r.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const h=r[l],c=h.parentTextureArray||h;this.renderer.texture.bind(c,0),l===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,h.target,c._glTextures[this.CONTEXT_UID].texture,s),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,s)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(n.stencil=n.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,i.DEPTH24_STENCIL8,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,n.stencil)):n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:s}=this;let i=Xe.NONE;if(e<=1||s===null)return i;for(let n=0;n<s.length;n++)if(s[n]<=e){i=s[n];break}return i===1&&(i=Xe.NONE),i}blit(e,s,i){const{current:n,renderer:r,gl:o,CONTEXT_UID:a}=this;if(r.context.webGLVersion!==2||!n)return;const l=n.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=n.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new Aa(n.width,n.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}s||(s=gv,s.width=n.width,s.height=n.height),i||(i=s);const h=s.width===i.width&&s.height===i.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(s.left,s.top,s.right,s.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,s){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const r=this.managedFramebuffers.indexOf(e);r>=0&&this.managedFramebuffers.splice(r,1),e.disposeRunner.remove(this),s||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}disposeAll(e){const s=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<s.length;i++)this.disposeFramebuffer(s[i],e)}forceStencil(){const e=this.current;if(!e)return;const s=e.glFramebuffers[this.CONTEXT_UID];if(!s||s.stencil)return;e.stencil=!0;const i=e.width,n=e.height,r=this.gl,o=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,o),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,r.DEPTH24_STENCIL8,i,n):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,i,n),s.stencil=o,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new fe}destroy(){this.renderer=null}}bd.extension={type:Y.RendererSystem,name:"framebuffer"};ee.add(bd);const wo={5126:4,5123:2,5121:1};class wd{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,s=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,s.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===hi.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(s.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,r)=>i.vertexAttribDivisorANGLE(n,r),e.drawElementsInstanced=(n,r,o,a,l)=>i.drawElementsInstancedANGLE(n,r,o,a,l),e.drawArraysInstanced=(n,r,o,a)=>i.drawArraysInstancedANGLE(n,r,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=s.webGLVersion===2||!!s.extensions.uint32ElementIndex}bind(e,s){s=s||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],r=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},r=!0);const o=n[s.program.id]||this.initGeometryVao(e,s,r);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(e,s.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,s=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];s.update(n)}}checkCompatibility(e,s){const i=e.attributes,n=s.attributeData;for(const r in n)if(!i[r])throw new Error(`shader and geometry incompatible, geometry missing the "${r}" attribute`)}getSignature(e,s){const i=e.attributes,n=s.attributeData,r=["g",e.id];for(const o in i)n[o]&&r.push(o,n[o].location);return r.join("-")}initGeometryVao(e,s,i=!0){const n=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,a=s.program;a.glPrograms[r]||this.renderer.shader.generateProgram(s),this.checkCompatibility(e,a);const l=this.getSignature(e,a),h=e.glVertexArrayObjects[this.CONTEXT_UID];let c=h[l];if(c)return h[a.id]=c,c;const u=e.buffers,d=e.attributes,f={},p={};for(const m in u)f[m]=0,p[m]=0;for(const m in d)!d[m].size&&a.attributeData[m]?d[m].size=a.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*wo[d[m].type];for(const m in d){const y=d[m],x=y.size;y.stride===void 0&&(f[y.buffer]===x*wo[y.type]?y.stride=0:y.stride=f[y.buffer]),y.start===void 0&&(y.start=p[y.buffer],p[y.buffer]+=x*wo[y.type])}c=n.createVertexArray(),n.bindVertexArray(c);for(let m=0;m<u.length;m++){const y=u[m];o.bind(y),i&&y._glBuffers[r].refCount++}return this.activateVao(e,a),h[a.id]=c,h[l]=c,n.bindVertexArray(null),o.unbind($t.ARRAY_BUFFER),c}disposeGeometry(e,s){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,r=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!i){if(o)for(let l=0;l<r.length;l++){const h=r[l]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!s&&o.dispose(r[l],s))}if(!s){for(const l in i)if(l[0]==="g"){const h=i[l];this._activeVao===h&&this.unbind(),n.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const s=Object.keys(this.managedGeometries);for(let i=0;i<s.length;i++)this.disposeGeometry(this.managedGeometries[s[i]],e)}activateVao(e,s){const i=this.gl,n=this.CONTEXT_UID,r=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&r.bind(e.indexBuffer);let l=null;for(const h in a){const c=a[h],u=o[c.buffer],d=u._glBuffers[n];if(s.attributeData[h]){l!==d&&(r.bind(u),l=d);const f=s.attributeData[h].location;if(i.enableVertexAttribArray(f),i.vertexAttribPointer(f,c.size,c.type||i.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)i.vertexAttribDivisor(f,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,s,i,n){const{gl:r}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?r.UNSIGNED_SHORT:r.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?r.drawElementsInstanced(e,s||o.indexBuffer.data.length,l,(i||0)*a,n||1):r.drawElements(e,s||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?r.drawArraysInstanced(e,i,s||o.getSize(),n||1):r.drawArrays(e,i,s||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}wd.extension={type:Y.RendererSystem,name:"geometry"};ee.add(wd);class yv{constructor(e=null){this.type=Ve.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=j.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ve.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}function kh(t,e,s){const i=t.createShader(e);return t.shaderSource(i,s),t.compileShader(i),i}function Uh(t,e){const s=t.getShaderSource(e).split(`
`).map((h,c)=>`${c}: ${h}`),i=t.getShaderInfoLog(e),n=i.split(`
`),r={},o=n.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!r[h]?(r[h]=!0,!0):!1),a=[""];o.forEach(h=>{s[h-1]=`%c${s[h-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=s.join(`
`);a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function xv(t,e,s,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(s,t.COMPILE_STATUS)||Uh(t,s),t.getShaderParameter(i,t.COMPILE_STATUS)||Uh(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function Eo(t){const e=new Array(t);for(let s=0;s<e.length;s++)e[s]=!1;return e}function Ed(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Eo(2*e);case"bvec3":return Eo(3*e);case"bvec4":return Eo(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Td={};let di=Td;function vv(){if(di===Td||(di==null?void 0:di.isContextLost())){const t=j.ADAPTER.createCanvas();let e;j.PREFER_ENV>=hi.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),di=e}return di}let zn;function _v(){if(!zn){zn=xt.MEDIUM;const t=vv();t&&t.getShaderPrecisionFormat&&(zn=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?xt.HIGH:xt.MEDIUM)}return zn}function Gh(t,e,s){if(t.substring(0,9)!=="precision"){let i=e;return e===xt.HIGH&&s!==xt.HIGH&&(i=xt.MEDIUM),`precision ${i} float;
${t}`}else if(s!==xt.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}const bv={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Sd(t){return bv[t]}let Hn=null;const zh={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Ad(t,e){if(!Hn){const s=Object.keys(zh);Hn={};for(let i=0;i<s.length;++i){const n=s[i];Hn[t[n]]=zh[n]}}return Hn[e]}const Ii=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],wv={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Ev={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Tv(t,e){var i;const s=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const r=e[n];if(!r){(i=t.uniforms[n])!=null&&i.group&&(t.uniforms[n].ubo?s.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):s.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=t.uniforms[n];let a=!1;for(let l=0;l<Ii.length;l++)if(Ii[l].test(r,o)){s.push(Ii[l].code(n,o)),a=!0;break}if(!a){const h=(r.size===1&&!r.isArray?wv:Ev)[r.type].replace("location",`ud["${n}"].location`);s.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",s.join(`
`))}const Sv=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Av(t){let e="";for(let s=0;s<t;++s)s>0&&(e+=`
else `),s<t-1&&(e+=`if(test == ${s}.0){}`);return e}function Cv(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const s=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=Sv.replace(/%forloop%/gi,Av(t));if(e.shaderSource(s,i),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))t=t/2|0;else break}return t}let Ui;function Iv(){if(typeof Ui=="boolean")return Ui;try{Ui=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ui=!1}return Ui}var Pv=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Rv=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;let Mv=0;const jn={};class as{constructor(e,s,i="pixi-shader",n={}){this.extra={},this.id=Mv++,this.vertexSrc=e||as.defaultVertexSrc,this.fragmentSrc=s||as.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),jn[i]?(jn[i]++,i+=`-${jn[i]}`):jn[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=Gh(this.vertexSrc,j.PRECISION_VERTEX,xt.HIGH),this.fragmentSrc=Gh(this.fragmentSrc,j.PRECISION_FRAGMENT,_v())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Rv}static get defaultFragmentSrc(){return Pv}static from(e,s,i){const n=e+s;let r=Dh[n];return r||(Dh[n]=r=new as(e,s,i)),r}}class qt{constructor(e,s){this.uniformBindCount=0,this.program=e,s?s instanceof Nt?this.uniformGroup=s:this.uniformGroup=new Nt(s):this.uniformGroup=new Nt({}),this.disposeRunner=new Ot("disposeShader")}checkUniformExists(e,s){if(s.uniforms[e])return!0;for(const i in s.uniforms){const n=s.uniforms[i];if(n.group&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,s,i){const n=as.from(e,s);return new qt(n,i)}}const To=0,So=1,Ao=2,Co=3,Io=4,Po=5;class fs{constructor(){this.data=0,this.blendMode=ne.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<To)}set blend(e){!!(this.data&1<<To)!==e&&(this.data^=1<<To)}get offsets(){return!!(this.data&1<<So)}set offsets(e){!!(this.data&1<<So)!==e&&(this.data^=1<<So)}get culling(){return!!(this.data&1<<Ao)}set culling(e){!!(this.data&1<<Ao)!==e&&(this.data^=1<<Ao)}get depthTest(){return!!(this.data&1<<Co)}set depthTest(e){!!(this.data&1<<Co)!==e&&(this.data^=1<<Co)}get depthMask(){return!!(this.data&1<<Po)}set depthMask(e){!!(this.data&1<<Po)!==e&&(this.data^=1<<Po)}get clockwiseFrontFace(){return!!(this.data&1<<Io)}set clockwiseFrontFace(e){!!(this.data&1<<Io)!==e&&(this.data^=1<<Io)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ne.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new fs;return e.depthTest=!1,e.blend=!0,e}}var Bv=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Dv=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;class mn extends qt{constructor(e,s,i){const n=as.from(e||mn.defaultVertexSrc,s||mn.defaultFragmentSrc);super(n,i),this.padding=0,this.resolution=j.FILTER_RESOLUTION,this.multisample=j.FILTER_MULTISAMPLE,this.enabled=!0,this.autoFit=!0,this.state=new fs}apply(e,s,i,n,r){e.applyFilter(this,s,i,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Dv}static get defaultFragmentSrc(){return Bv}}var Fv=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Ov=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`;const Hh=new ke;class Cd{constructor(e,s){this._texture=e,this.mapCoord=new ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof s>"u"?.5:s,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,s){s===void 0&&(s=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const r=e[n],o=e[n+1];s[n]=r*i.a+o*i.c+i.tx,s[n+1]=r*i.b+o*i.d+i.ty}return s}update(e){const s=this._texture;if(!s||!s.valid||!e&&this._textureID===s._updateID)return!1;this._textureID=s._updateID,this._updateID++;const i=s._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=s.orig,r=s.trim;r&&(Hh.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(Hh));const o=s.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,h=this.clampOffset;return a[0]=(s._frame.x+l+h)/o.width,a[1]=(s._frame.y+l+h)/o.height,a[2]=(s._frame.x+s._frame.width-l+h)/o.width,a[3]=(s._frame.y+s._frame.height-l+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=s._frame.width===o.width&&s._frame.height===o.height&&s.rotate===0,!0}}class Lv extends mn{constructor(e,s,i){let n=null;typeof e!="string"&&s===void 0&&i===void 0&&(n=e,e=void 0,s=void 0,i=void 0),super(e||Fv,s||Ov,i),this.maskSprite=n,this.maskMatrix=new ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,s,i,n){const r=this._maskSprite,o=r._texture;!o.valid||(o.uvMatrix||(o.uvMatrix=new Cd(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,r).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,s,i,n))}}class Id{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,s){let i=s;if(!i.isMaskData){const r=this.maskDataPool.pop()||new yv;r.pooled=!0,r.maskObject=s,i=r}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==Ve.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Ve.SCISSOR:this.renderer.scissor.push(i);break;case Ve.STENCIL:this.renderer.stencil.push(i);break;case Ve.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case Ve.COLOR:this.pushColorMask(i);break}i.type===Ve.SPRITE&&this.maskStack.push(i)}pop(e){const s=this.maskStack.pop();if(!(!s||s._target!==e)){if(s.enabled)switch(s.type){case Ve.SCISSOR:this.renderer.scissor.pop(s);break;case Ve.STENCIL:this.renderer.stencil.pop(s.maskObject);break;case Ve.SPRITE:this.popSpriteMask(s);break;case Ve.COLOR:this.popColorMask(s);break}if(s.reset(),s.pooled&&this.maskDataPool.push(s),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===Ve.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const s=e.maskObject;s?s.isSprite?e.type=Ve.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ve.SCISSOR:e.type=Ve.STENCIL:e.type=Ve.COLOR}pushSpriteMask(e){var c,u;const{maskObject:s}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Lv]));const r=this.renderer,o=r.renderTexture;let a,l;if(o.current){const d=o.current;a=e.resolution||d.resolution,l=(c=e.multisample)!=null?c:d.multisample}else a=e.resolution||r.resolution,l=(u=e.multisample)!=null?u:r.multisample;n[0].resolution=a,n[0].multisample=l,n[0].maskSprite=s;const h=i.filterArea;i.filterArea=s.getBounds(!0),r.filter.push(i,n),i.filterArea=h,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const s=e._colorMask,i=e._colorMask=s&e.colorMask;i!==s&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const s=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==s&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}Id.extension={type:Y.RendererSystem,name:"mask"};ee.add(Id);class Pd{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:s}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?s.disable(this.glConst):(s.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const jh=new ke,Xh=[],dr=class extends Pd{constructor(t){super(t),this.glConst=j.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){var o;if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:s}=t,{renderer:i}=this,n=i.renderTexture,r=s.getBounds(!0,(o=Xh.pop())!=null?o:new fe);this.roundFrameToPixels(r,n.current?n.current.resolution:i.resolution,n.sourceFrame,n.destinationFrame,i.projection.transform),e&&r.fit(e),t._scissorRectLocal=r}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:s,c:i,d:n}=t;return(Math.abs(s)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||dr.isMatrixRotated(e.worldTransform)||dr.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const s=t._scissorRectLocal;return s.width>0&&s.height>0}roundFrameToPixels(t,e,s,i,n){dr.isMatrixRotated(n)||(n=n?jh.copyFrom(n):jh.identity(),n.translate(-s.x,-s.y).scale(i.width/s.width,i.height/s.height).translate(i.x,i.y),this.renderer.filter.transformAABB(n,t),t.fit(i),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&Xh.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let Rd=dr;Rd.extension={type:Y.RendererSystem,name:"scissor"};ee.add(Rd);class Md extends Pd{constructor(e){super(e),this.glConst=j.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const s=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const r=e._colorMask;r!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),s.renderable=!0,s.render(this.renderer),this.renderer.batch.flush(),s.renderable=!1,r!==0&&(e._colorMask=r,i.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)),this._useCurrent()}pop(e){const s=this.renderer.gl;if(this.getStackLength()===0)s.disable(s.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,s.colorMask(!1,!1,!1,!1)),s.stencilOp(s.KEEP,s.KEEP,s.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,s.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Md.extension={type:Y.RendererSystem,name:"stencil"};ee.add(Md);class Bd{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ke,this.transform=null}update(e,s,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=s||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)}calculateProjection(e,s,i,n){const r=this.projectionMatrix,o=n?-1:1;r.identity(),r.a=1/s.width*2,r.d=o*(1/s.height*2),r.tx=-1-s.x*r.a,r.ty=-o-s.y*r.d}setTransform(e){}destroy(){this.renderer=null}}Bd.extension={type:Y.RendererSystem,name:"projection"};ee.add(Bd);const ks=new fe,Gi=new fe;class Dd{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new fe,this.destinationFrame=new fe,this.viewportFrame=new fe}bind(e=null,s,i){const n=this.renderer;this.current=e;let r,o,a;e?(r=e.baseTexture,a=r.resolution,s||(ks.width=e.frame.width,ks.height=e.frame.height,s=ks),i||(Gi.x=e.frame.x,Gi.y=e.frame.y,Gi.width=s.width,Gi.height=s.height,i=Gi),o=r.framebuffer):(a=n.resolution,s||(ks.width=n._view.screen.width,ks.height=n._view.screen.height,s=ks),i||(i=ks,i.width=s.width,i.height=s.height));const l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,e||(l.y=n.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,s,a,!o),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(s),this.destinationFrame.copyFrom(i)}clear(e,s){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const i=this.destinationFrame,n=this.current?this.current.baseTexture:this.renderer._view.screen,r=i.width!==n.width||i.height!==n.height;if(r){let{x:o,y:a,width:l,height:h}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,h)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],s),r&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Dd.extension={type:Y.RendererSystem,name:"renderTexture"};ee.add(Dd);function Nv(t,e,s,i,n){s.buffer.update(n)}const kv={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Fd={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Uv(t){const e=t.map(r=>({data:r,offset:0,dataLen:0,dirty:0}));let s=0,i=0,n=0;for(let r=0;r<e.length;r++){const o=e[r];if(s=Fd[o.data.type],o.data.size>1&&(s=Math.max(s,16)*o.data.size),o.dataLen=s,i%s!==0&&i<16){const a=i%s%16;i+=a,n+=a}i+s>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=s,i=s):(o.offset=n,i+=s,n+=s)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function Gv(t,e){const s=[];for(const i in t)e[i]&&s.push(e[i]);return s.sort((i,n)=>i.index-n.index),s}function zv(t,e){if(!t.autoManage)return{size:0,syncFunc:Nv};const s=Gv(t.uniforms,e),{uboElements:i,size:n}=Uv(s),r=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const a=i[o],l=t.uniforms[a.data.name],h=a.data.name;let c=!1;for(let u=0;u<Ii.length;u++){const d=Ii[u];if(d.codeUbo&&d.test(a.data,l)){r.push(`offset = ${a.offset/4};`,Ii[u].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const u=Sd(a.data.type),d=Math.max(Fd[a.data.type]/16,1),f=u/d,p=(4-f%4)%4;r.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const u=kv[a.data.type];r.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};
                ${u};
                `)}}return r.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",r.join(`
`))}}class Hv{constructor(e,s){this.program=e,this.uniformData=s,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function jv(t,e){const s={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const r=e.getActiveAttrib(t,n);if(r.name.startsWith("gl_"))continue;const o=Ad(e,r.type),a={type:o,name:r.name,size:Sd(o),location:e.getAttribLocation(t,r.name)};s[r.name]=a}return s}function Xv(t,e){const s={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const r=e.getActiveUniform(t,n),o=r.name.replace(/\[.*?\]$/,""),a=!!r.name.match(/\[.*?\]$/),l=Ad(e,r.type);s[o]={name:o,index:n,type:l,size:r.size,isArray:a,value:Ed(l,r.size)}}return s}function Vv(t,e){var l;const s=kh(t,t.VERTEX_SHADER,e.vertexSrc),i=kh(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,s),t.attachShader(n,i);const r=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(r&&(typeof t.transformFeedbackVaryings!="function"||t.transformFeedbackVaryings(n,r.names,r.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||xv(t,n,s,i),e.attributeData=jv(n,t),e.uniformData=Xv(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((c,u)=>c>u?1:-1);for(let c=0;c<h.length;c++)e.attributeData[h[c]].location=c,t.bindAttribLocation(n,c,h[c]);t.linkProgram(n)}t.deleteShader(s),t.deleteShader(i);const o={};for(const h in e.uniformData){const c=e.uniformData[h];o[h]={location:t.getUniformLocation(n,h),value:Ed(c.type,c.size)}}return new Hv(n,o)}let Wv=0;const Xn={textureCount:0,uboCount:0};class Od{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Wv++}systemCheck(){if(!Iv())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,s){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),s||(Xn.textureCount=0,Xn.uboCount=0,this.syncUniformGroup(e.uniformGroup,Xn)),n}setUniforms(e){const s=this.shader.program,i=s.glPrograms[this.renderer.CONTEXT_UID];s.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,s){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,s))}syncUniforms(e,s,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(s.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const s=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[s]||(this.cache[s]=Tv(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[s],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,s){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,s);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,Xn,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[s])}createSyncBufferGroup(e,s,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const r=this.gl.getUniformBlockIndex(s.program,i);s.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(s.program,r,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=zv(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return s.uniformGroups[e.id]=a.syncFunc,s.uniformGroups[e.id]}getSignature(e,s,i){const n=e.uniforms,r=[`${i}-`];for(const o in n)r.push(o),s[o]&&r.push(s[o].type);return r.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const s=this.gl,i=e.program,n=Vv(s,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Od.extension={type:Y.RendererSystem,name:"shader"};ee.add(Od);function Yv(t,e=[]){return e[ne.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.ADD]=[t.ONE,t.ONE],e[ne.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.NONE]=[0,0],e[ne.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ne.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ne.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ne.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ne.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ne.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ne.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ne.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ne.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ne.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ne.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const $v=0,qv=1,Kv=2,Zv=3,Jv=4,Qv=5,Ca=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ne.NONE,this._blendEq=!1,this.map=[],this.map[$v]=this.setBlend,this.map[qv]=this.setOffset,this.map[Kv]=this.setCullFace,this.map[Zv]=this.setDepthTest,this.map[Jv]=this.setFrontFace,this.map[Qv]=this.setDepthMask,this.checks=[],this.defaultState=new fs,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=Yv(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,s=0;for(;e;)e&1&&this.map[s].call(this,!!(t.data&1<<s)),e=e>>1,s++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Ca.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Ca.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],s=this.gl;e.length===2?s.blendFunc(e[0],e[1]):s.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,s.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const s=this.checks.indexOf(t);e&&s===-1?this.checks.push(t):!e&&s!==-1&&this.checks.splice(s,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Ld=Ca;Ld.extension={type:Y.RendererSystem,name:"state"};ee.add(Ld);class Nd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=j.GC_MAX_IDLE,this.checkCountMax=j.GC_MAX_CHECK_COUNT,this.mode=j.GC_MODE}postrender(){!this.renderer.objectRenderer.renderingToScreen||(this.count++,this.mode!==fl.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,s=e.managedTextures;let i=!1;for(let n=0;n<s.length;n++){const r=s[n];!r.framebuffer&&this.count-r.touched>this.maxIdle&&(e.destroyTexture(r,!0),s[n]=null,i=!0)}if(i){let n=0;for(let r=0;r<s.length;r++)s[r]!==null&&(s[n++]=s[r]);s.length=n}}unload(e){const s=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&s.destroyTexture(i);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}}Nd.extension={type:Y.RendererSystem,name:"textureGC"};ee.add(Nd);function e_(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ie.UNSIGNED_BYTE]:{[X.RGBA]:t.RGBA8,[X.RGB]:t.RGB8,[X.RG]:t.RG8,[X.RED]:t.R8,[X.RGBA_INTEGER]:t.RGBA8UI,[X.RGB_INTEGER]:t.RGB8UI,[X.RG_INTEGER]:t.RG8UI,[X.RED_INTEGER]:t.R8UI,[X.ALPHA]:t.ALPHA,[X.LUMINANCE]:t.LUMINANCE,[X.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ie.BYTE]:{[X.RGBA]:t.RGBA8_SNORM,[X.RGB]:t.RGB8_SNORM,[X.RG]:t.RG8_SNORM,[X.RED]:t.R8_SNORM,[X.RGBA_INTEGER]:t.RGBA8I,[X.RGB_INTEGER]:t.RGB8I,[X.RG_INTEGER]:t.RG8I,[X.RED_INTEGER]:t.R8I},[ie.UNSIGNED_SHORT]:{[X.RGBA_INTEGER]:t.RGBA16UI,[X.RGB_INTEGER]:t.RGB16UI,[X.RG_INTEGER]:t.RG16UI,[X.RED_INTEGER]:t.R16UI,[X.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ie.SHORT]:{[X.RGBA_INTEGER]:t.RGBA16I,[X.RGB_INTEGER]:t.RGB16I,[X.RG_INTEGER]:t.RG16I,[X.RED_INTEGER]:t.R16I},[ie.UNSIGNED_INT]:{[X.RGBA_INTEGER]:t.RGBA32UI,[X.RGB_INTEGER]:t.RGB32UI,[X.RG_INTEGER]:t.RG32UI,[X.RED_INTEGER]:t.R32UI,[X.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ie.INT]:{[X.RGBA_INTEGER]:t.RGBA32I,[X.RGB_INTEGER]:t.RGB32I,[X.RG_INTEGER]:t.RG32I,[X.RED_INTEGER]:t.R32I},[ie.FLOAT]:{[X.RGBA]:t.RGBA32F,[X.RGB]:t.RGB32F,[X.RG]:t.RG32F,[X.RED]:t.R32F,[X.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ie.HALF_FLOAT]:{[X.RGBA]:t.RGBA16F,[X.RGB]:t.RGB16F,[X.RG]:t.RG16F,[X.RED]:t.R16F},[ie.UNSIGNED_SHORT_5_6_5]:{[X.RGB]:t.RGB565},[ie.UNSIGNED_SHORT_4_4_4_4]:{[X.RGBA]:t.RGBA4},[ie.UNSIGNED_SHORT_5_5_5_1]:{[X.RGBA]:t.RGB5_A1},[ie.UNSIGNED_INT_2_10_10_10_REV]:{[X.RGBA]:t.RGB10_A2,[X.RGBA_INTEGER]:t.RGB10_A2UI},[ie.UNSIGNED_INT_10F_11F_11F_REV]:{[X.RGB]:t.R11F_G11F_B10F},[ie.UNSIGNED_INT_5_9_9_9_REV]:{[X.RGB]:t.RGB9_E5},[ie.UNSIGNED_INT_24_8]:{[X.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ie.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[X.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ie.UNSIGNED_BYTE]:{[X.RGBA]:t.RGBA,[X.RGB]:t.RGB,[X.ALPHA]:t.ALPHA,[X.LUMINANCE]:t.LUMINANCE,[X.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ie.UNSIGNED_SHORT_5_6_5]:{[X.RGB]:t.RGB},[ie.UNSIGNED_SHORT_4_4_4_4]:{[X.RGBA]:t.RGBA},[ie.UNSIGNED_SHORT_5_5_5_1]:{[X.RGBA]:t.RGBA}},e}class Ro{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ie.UNSIGNED_BYTE,this.internalFormat=X.RGBA,this.samplerType=0}}class kd{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new pe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=e_(e);const s=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=s;for(let n=0;n<s;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new Ro(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ro(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,s=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[s]!==e&&(this.currentLocation!==s&&(this.currentLocation=s,i.activeTexture(i.TEXTURE0+s)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==s&&(this.currentLocation=s,i.activeTexture(i.TEXTURE0+s)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[s]=e}else this.currentLocation!==s&&(this.currentLocation=s,i.activeTexture(i.TEXTURE0+s)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[s]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:s,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(s.activeTexture(s.TEXTURE0+n),this.currentLocation=n),s.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:s,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(!!i)for(let r=e-1;r>=0;--r){const o=s[r];o&&o._glTextures[n].samplerType!==ma.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const s=new Ro(this.gl.createTexture());return s.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=s,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),s}initTextureType(e,s){var i,n;s.internalFormat=(n=(i=this.internalFormats[e.type])==null?void 0:i[e.format])!=null?n:e.format,this.webGLVersion===2&&e.type===ie.HALF_FLOAT?s.type=this.gl.HALF_FLOAT:s.type=e.type}updateTexture(e){var n;const s=e._glTextures[this.CONTEXT_UID];if(!s)return;const i=this.renderer;if(this.initTextureType(e,s),(n=e.resource)!=null&&n.upload(i,e,s))s.samplerType!==ma.FLOAT&&(this.hasIntegerTextures=!0);else{const r=e.realWidth,o=e.realHeight,a=i.gl;(s.width!==r||s.height!==o||s.dirtyId<0)&&(s.width=r,s.height=o,a.texImage2D(e.target,0,s.internalFormat,r,o,0,e.format,s.type,null))}e.dirtyStyleId!==s.dirtyStyleId&&this.updateTextureStyle(e),s.dirtyId=e.dirtyId}destroyTexture(e,s){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!s)){const n=this.managedTextures.indexOf(e);n!==-1&&Ci(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const s=e._glTextures[this.CONTEXT_UID];!s||((e.mipmap===Kt.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?s.mipmap=!1:s.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?s.wrapMode=As.CLAMP:s.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,s)||this.setStyle(e,s),s.dirtyStyleId=e.dirtyStyleId)}setStyle(e,s){const i=this.gl;if(s.mipmap&&e.mipmap!==Kt.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,s.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,s.wrapMode),s.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===rs.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===rs.LINEAR){const r=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===rs.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===rs.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}kd.extension={type:Y.RendererSystem,name:"texture"};ee.add(kd);const t_=new yl;class Ud{constructor(e){this.renderer=e,this._tempMatrix=new ke}generateTexture(e,s){const{region:i,...n}=s||{},r=i||e.getLocalBounds(null,!0);r.width===0&&(r.width=1),r.height===0&&(r.height=1);const o=Bs.create({width:r.width,height:r.height,...n});this._tempMatrix.tx=-r.x,this._tempMatrix.ty=-r.y;const a=e.transform;return e.transform=t_,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}Ud.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"textureGenerator"};ee.add(Ud);class Gd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?vl(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=rd(e),dn(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}Gd.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"background"};ee.add(Gd);class zd{constructor(e){this.renderer=e}init(e){this.screen=new fe(0,0,e.width,e.height),this.element=e.view||j.ADAPTER.createCanvas(),this.resolution=e.resolution||j.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,s){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(s*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var s;e&&((s=this.element.parentNode)==null||s.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}zd.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"_view"};ee.add(zd);class Hd{constructor(e){this.renderer=e,this.plugins={}}init(e){for(const s in e)this.plugins[s]=new e[s](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Hd.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"_plugin"};ee.add(Hd);class s_ extends bn{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var n;this.addRunners(...e.runners);const s=((n=e.priority)!=null?n:[]).filter(r=>e.systems[r]),i=[...s,...Object.keys(e.systems).filter(r=>!s.includes(r))];for(const r of i)this.addSystem(e.systems[r],r)}addRunners(...e){e.forEach(s=>{this.runners[s]=new Ot(s)})}addSystem(e,s){const i=new e(this);if(this[s])throw new Error(`Whoops! The name "${s}" is already in use`);this[s]=i,this._systemsHash[s]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,s){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const r=i.find(o=>this._systemsHash[o]===n);n[e.name](s[r])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}class jd{constructor(e){this.renderer=e}run(e){const s=this.renderer;s.emitWithCustomOptions(s.runners.init,e),e.hello&&console.log(`PixiJS 7.0.4 - ${s.rendererLogId} - https://pixijs.com`),s.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}jd.extension={type:[Y.RendererSystem,Y.CanvasRendererSystem],name:"startup"};ee.add(jd);class Xd{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:s,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,s){const{gl:i,renderer:n}=this;s&&n.shader.bind(s),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:s,renderer:i,CONTEXT_UID:n}=this,r=s.createTransformFeedback();e._glTransformFeedbacks[n]=r,s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,r);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];!a||(i.buffer.update(a),a._glBuffers[n].refCount++,s.bindBufferBase(s.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),r}disposeTransformFeedback(e,s){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const r=this.renderer.buffer;if(r)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!s&&r.dispose(a,s))}!i||(s||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Xd.extension={type:Y.RendererSystem,name:"transformFeedback"};ee.add(Xd);const Vd=[];ee.handleByList(Y.Renderer,Vd);function i_(t){for(const e of Vd)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var n_=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const r_=n_,Ia=class extends s_{constructor(t){var i,n;super(),t=Object.assign({},j.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Nt({projectionMatrix:new ke},!0);const e={runners:["init","destroy","contextChange","reset","update","postrender","prerender","resize"],systems:Ia.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e);const s={hello:t.hello,_plugin:Ia.__plugins,background:{alpha:t.backgroundAlpha,color:(i=t.background)!=null?i:t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:(n=t.premultipliedAlpha)!=null?n:t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",preserveDrawingBuffer:t.preserveDrawingBuffer}};this.startup.run(s)}static test(t){return t!=null&&t.forceCanvas?!1:h0()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return this.background.clearBeforeRender}get useContextAlpha(){return this.context.useContextAlpha}get preserveDrawingBuffer(){return this.context.preserveDrawingBuffer}get backgroundColor(){return this.background.color}set backgroundColor(t){this.background.color=t}get backgroundAlpha(){return this.background.color}set backgroundAlpha(t){this.background.alpha=t}get powerPreference(){return this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Oi=Ia;Oi.extension={type:Y.Renderer,priority:1};Oi.__plugins={};Oi.__systems={};ee.handleByMap(Y.RendererPlugin,Oi.__plugins);ee.handleByMap(Y.RendererSystem,Oi.__systems);ee.add(Oi);class Pa{constructor(){this.texArray=null,this.blend=0,this.type=Yt.TRIANGLES,this.start=0,this.size=0,this.data=null}}class Ra{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class Ma{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}class o_{constructor(e,s){if(this.vertexSrc=e,this.fragTemplate=s,this.programCache={},this.defaultGroupCache={},!s.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!s.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let r=0;r<e;r++)i[r]=r;this.defaultGroupCache[e]=Nt.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new as(this.vertexSrc,n)}const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new ke,default:this.defaultGroupCache[e]};return new qt(this.programCache[e],s)}generateSampleSrc(e){let s="";s+=`
`,s+=`
`;for(let i=0;i<e;i++)i>0&&(s+=`
else `),i<e-1&&(s+=`if(vTextureId < ${i}.5)`),s+=`
{`,s+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,s+=`
}`;return s+=`
`,s+=`
`,s}}class Wd extends Ds{constructor(e=!1){super(),this._buffer=new He(null,e,!1),this._indexBuffer=new He(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ie.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ie.FLOAT).addAttribute("aColor",this._buffer,4,!0,ie.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ie.FLOAT).addIndex(this._indexBuffer)}}var a_=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,l_=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`;const $s=class extends Zr{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Wd,this.vertexSize=6,this.state=fs.for2d(),this.size=j.SPRITE_BATCH_SIZE*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultVertexSrc(){return a_}static get defaultFragmentTemplate(){return l_}setShaderGenerator({vertex:t=$s.defaultVertexSrc,fragment:e=$s.defaultFragmentTemplate}={}){this.shaderGenerator=new o_(t,e)}contextChange(){const t=this.renderer.gl;j.PREFER_ENV===hi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),j.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Cv(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=$s,s=this.size/4,i=Math.floor(s/this.MAX_TEXTURES)+1;for(;t.length<s;)t.push(new Pa);for(;e.length<i;)e.push(new Ra);for(let n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null}onPrerender(){this._flushId=0}render(t){!t._texture.valid||(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,MAX_TEXTURES:e}=this,s=$s._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,r=this.renderer.textureGC.count;let o=++pe._globalBatch,a=0,l=s[0],h=0;i.copyBoundTextures(n,e);for(let c=0;c<this._bufferSize;++c){const u=t[c];t[c]=null,u._batchEnabled!==o&&(l.count>=e&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,h,c),h=c,l=s[++a],++o),u._batchEnabled=o,u.touched=r,l.elements[l.count++]=u)}l.count>0&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,h,this._bufferSize),++a,++o);for(let c=0;c<n.length;c++)n[c]=null;pe._globalBatch=o}buildDrawCalls(t,e,s){const{_bufferedElements:i,_attributeBuffer:n,_indexBuffer:r,vertexSize:o}=this,a=$s._drawCallPool;let l=this._dcIndex,h=this._aIndex,c=this._iIndex,u=a[l];u.start=this._iIndex,u.texArray=t;for(let d=e;d<s;++d){const f=i[d],p=f._texture.baseTexture,m=od[p.alphaMode?1:0][f.blendMode];i[d]=null,e<d&&u.blend!==m&&(u.size=c-u.start,e=d,u=a[++l],u.texArray=t,u.start=c),this.packInterleavedGeometry(f,n,r,h,c),h+=f.vertexData.length/2*o,c+=f.indices.length,u.blend=m}e<s&&(u.size=c-u.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let s=0;s<t.count;s++)e.bind(t.elements[s],t.ids[s]),t.elements[s]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:s}=this;j.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:s}=this.renderer,i=$s._drawCallPool;let n=null;for(let r=0;r<t;r++){const{texArray:o,type:a,size:l,start:h,blend:c}=i[r];n!==o&&(n=o,this.bindAndClearTexArray(o)),this.state.blendMode=c,s.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),j.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Ar(Math.ceil(t/8)),s=Bh(e),i=e*8;this._aBuffers.length<=s&&(this._iBuffers.length=s+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Ma(i*this.vertexSize*4)),n}getIndexBuffer(t){const e=Ar(Math.ceil(t/12)),s=Bh(e),i=e*12;this._iBuffers.length<=s&&(this._iBuffers.length=s+1);let n=this._iBuffers[s];return n||(this._iBuffers[s]=n=new Uint16Array(i)),n}packInterleavedGeometry(t,e,s,i,n){const{uint32View:r,float32View:o}=e,a=i/this.vertexSize,l=t.uvs,h=t.indices,c=t.vertexData,u=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=d<1&&t._texture.baseTexture.alphaMode?_l(t._tintRGB,d):t._tintRGB+(d*255<<24);for(let p=0;p<c.length;p+=2)o[i++]=c[p],o[i++]=c[p+1],o[i++]=l[p],o[i++]=l[p+1],r[i++]=f,o[i++]=u;for(let p=0;p<h.length;p++)s[n++]=a+h[p]}};let Jr=$s;Jr.extension={name:"batch",type:Y.RendererPlugin};Jr._drawCallPool=[];Jr._textureArrayPool=[];ee.add(Jr);class h_{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Yd{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:s,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);s.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:s}=this;s.bindBuffer(e,null)}bindBufferBase(e,s){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[s]!==e){const r=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[s]=e,i.bindBufferBase(i.UNIFORM_BUFFER,s,r.buffer)}}bindBufferRange(e,s,i){const{gl:n,CONTEXT_UID:r}=this;i=i||0;const o=e._glBuffers[r]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,s||0,o.buffer,i*256,256)}update(e){const{gl:s,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,s.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)s.bufferSubData(e.type,0,e.data);else{const r=e.static?s.STATIC_DRAW:s.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,s.bufferData(e.type,e.data,r)}}dispose(e,s){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(s||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const s=Object.keys(this.managedBuffers);for(let i=0;i<s.length;i++)this.dispose(this.managedBuffers[s[i]],e)}createGLBuffer(e){const{CONTEXT_UID:s,gl:i}=this;return e._glBuffers[s]=new h_(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[s]}}Yd.extension={type:Y.RendererSystem,name:"buffer"};ee.add(Yd);class $d{constructor(e){this.renderer=e}contextChange(e){let s;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),s=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),s=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}s>=Xe.HIGH?this.multisample=Xe.HIGH:s>=Xe.MEDIUM?this.multisample=Xe.MEDIUM:s>=Xe.LOW?this.multisample=Xe.LOW:this.multisample=Xe.NONE}destroy(){}}$d.extension={type:Y.RendererSystem,name:"_multisample"};ee.add($d);class qd{constructor(e){this.renderer=e}render(e,s){const i=this.renderer;let n,r,o,a;if(s&&(n=s.renderTexture,r=s.clear,o=s.transform,a=s.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(r!=null?r:i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(s.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}qd.extension={type:Y.RendererSystem,name:"objectRenderer"};ee.add(qd);var c_=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Vh extends mn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(r_,c_,e),this.alpha=1}_loadMatrix(e,s=!1){let i=e;s&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,s,i){return e[0]=s[0]*i[0]+s[1]*i[5]+s[2]*i[10]+s[3]*i[15],e[1]=s[0]*i[1]+s[1]*i[6]+s[2]*i[11]+s[3]*i[16],e[2]=s[0]*i[2]+s[1]*i[7]+s[2]*i[12]+s[3]*i[17],e[3]=s[0]*i[3]+s[1]*i[8]+s[2]*i[13]+s[3]*i[18],e[4]=s[0]*i[4]+s[1]*i[9]+s[2]*i[14]+s[3]*i[19]+s[4],e[5]=s[5]*i[0]+s[6]*i[5]+s[7]*i[10]+s[8]*i[15],e[6]=s[5]*i[1]+s[6]*i[6]+s[7]*i[11]+s[8]*i[16],e[7]=s[5]*i[2]+s[6]*i[7]+s[7]*i[12]+s[8]*i[17],e[8]=s[5]*i[3]+s[6]*i[8]+s[7]*i[13]+s[8]*i[18],e[9]=s[5]*i[4]+s[6]*i[9]+s[7]*i[14]+s[8]*i[19]+s[9],e[10]=s[10]*i[0]+s[11]*i[5]+s[12]*i[10]+s[13]*i[15],e[11]=s[10]*i[1]+s[11]*i[6]+s[12]*i[11]+s[13]*i[16],e[12]=s[10]*i[2]+s[11]*i[7]+s[12]*i[12]+s[13]*i[17],e[13]=s[10]*i[3]+s[11]*i[8]+s[12]*i[13]+s[13]*i[18],e[14]=s[10]*i[4]+s[11]*i[9]+s[12]*i[14]+s[13]*i[19]+s[14],e[15]=s[15]*i[0]+s[16]*i[5]+s[17]*i[10]+s[18]*i[15],e[16]=s[15]*i[1]+s[16]*i[6]+s[17]*i[11]+s[18]*i[16],e[17]=s[15]*i[2]+s[16]*i[7]+s[17]*i[12]+s[18]*i[17],e[18]=s[15]*i[3]+s[16]*i[8]+s[17]*i[13]+s[18]*i[18],e[19]=s[15]*i[4]+s[16]*i[9]+s[17]*i[14]+s[18]*i[19]+s[19],e}_colorMatrix(e){const s=new Float32Array(e);return s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,s}brightness(e,s){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,s)}tint(e,s){const i=e>>16&255,n=e>>8&255,r=e&255,o=[i/255,0,0,0,0,0,n/255,0,0,0,0,0,r/255,0,0,0,0,0,1,0];this._loadMatrix(o,s)}greyscale(e,s){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,s)}blackAndWhite(e){const s=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(s,e)}hue(e,s){e=(e||0)/180*Math.PI;const i=Math.cos(e),n=Math.sin(e),r=Math.sqrt,o=1/3,a=r(o),l=i+(1-i)*o,h=o*(1-i)-a*n,c=o*(1-i)+a*n,u=o*(1-i)+a*n,d=i+o*(1-i),f=o*(1-i)-a*n,p=o*(1-i)-a*n,m=o*(1-i)+a*n,y=i+o*(1-i),x=[l,h,c,0,0,u,d,f,0,0,p,m,y,0,0,0,0,0,1,0];this._loadMatrix(x,s)}contrast(e,s){const i=(e||0)+1,n=-.5*(i-1),r=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(r,s)}saturate(e=0,s){const i=e*2/3+1,n=(i-1)*-.5,r=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(r,s)}desaturate(){this.saturate(-1)}negative(e){const s=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(s,e)}sepia(e){const s=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(s,e)}technicolor(e){const s=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(s,e)}polaroid(e){const s=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(s,e)}toBGR(e){const s=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(s,e)}kodachrome(e){const s=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(s,e)}browni(e){const s=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(s,e)}vintage(e){const s=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(s,e)}colorTone(e,s,i,n,r){e=e||.2,s=s||.15,i=i||16770432,n=n||3375104;const o=(i>>16&255)/255,a=(i>>8&255)/255,l=(i&255)/255,h=(n>>16&255)/255,c=(n>>8&255)/255,u=(n&255)/255,d=[.3,.59,.11,0,0,o,a,l,e,0,h,c,u,s,0,o-h,a-c,l-u,0,0];this._loadMatrix(d,r)}night(e,s){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,s)}predator(e,s){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,s)}lsd(e){const s=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(s,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Vh.prototype.grayscale=Vh.prototype.greyscale;j.SORTABLE_CHILDREN=!1;class Ir{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?fe.EMPTY:(e=e||new fe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,s){const{a:i,b:n,c:r,d:o,tx:a,ty:l}=e,h=i*s.x+r*s.y+a,c=n*s.x+o*s.y+l;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let s=this.minX,i=this.minY,n=this.maxX,r=this.maxY,o=e[0],a=e[1];s=o<s?o:s,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=e[2],a=e[3],s=o<s?o:s,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=e[4],a=e[5],s=o<s?o:s,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=e[6],a=e[7],s=o<s?o:s,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,this.minX=s,this.minY=i,this.maxX=n,this.maxY=r}addFrame(e,s,i,n,r){this.addFrameMatrix(e.worldTransform,s,i,n,r)}addFrameMatrix(e,s,i,n,r){const o=e.a,a=e.b,l=e.c,h=e.d,c=e.tx,u=e.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,y=o*s+l*i+c,x=a*s+h*i+u;d=y<d?y:d,f=x<f?x:f,p=y>p?y:p,m=x>m?x:m,y=o*n+l*i+c,x=a*n+h*i+u,d=y<d?y:d,f=x<f?x:f,p=y>p?y:p,m=x>m?x:m,y=o*s+l*r+c,x=a*s+h*r+u,d=y<d?y:d,f=x<f?x:f,p=y>p?y:p,m=x>m?x:m,y=o*n+l*r+c,x=a*n+h*r+u,d=y<d?y:d,f=x<f?x:f,p=y>p?y:p,m=x>m?x:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,s,i){let n=this.minX,r=this.minY,o=this.maxX,a=this.maxY;for(let l=s;l<i;l+=2){const h=e[l],c=e[l+1];n=h<n?h:n,r=c<r?c:r,o=h>o?h:o,a=c>a?c:a}this.minX=n,this.minY=r,this.maxX=o,this.maxY=a}addVertices(e,s,i,n){this.addVerticesMatrix(e.worldTransform,s,i,n)}addVerticesMatrix(e,s,i,n,r=0,o=r){const a=e.a,l=e.b,h=e.c,c=e.d,u=e.tx,d=e.ty;let f=this.minX,p=this.minY,m=this.maxX,y=this.maxY;for(let x=i;x<n;x+=2){const b=s[x],g=s[x+1],_=a*b+h*g+u,T=c*g+l*b+d;f=Math.min(f,_-r),m=Math.max(m,_+r),p=Math.min(p,T-o),y=Math.max(y,T+o)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=y}addBounds(e){const s=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=e.minX<s?e.minX:s,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>r?e.maxY:r}addBoundsMask(e,s){const i=e.minX>s.minX?e.minX:s.minX,n=e.minY>s.minY?e.minY:s.minY,r=e.maxX<s.maxX?e.maxX:s.maxX,o=e.maxY<s.maxY?e.maxY:s.maxY;if(i<=r&&n<=o){const a=this.minX,l=this.minY,h=this.maxX,c=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=r>h?r:h,this.maxY=o>c?o:c}}addBoundsMatrix(e,s){this.addFrameMatrix(s,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,s){const i=e.minX>s.x?e.minX:s.x,n=e.minY>s.y?e.minY:s.y,r=e.maxX<s.x+s.width?e.maxX:s.x+s.width,o=e.maxY<s.y+s.height?e.maxY:s.y+s.height;if(i<=r&&n<=o){const a=this.minX,l=this.minY,h=this.maxX,c=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=r>h?r:h,this.maxY=o>c?o:c}}pad(e=0,s=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=s,this.maxY+=s)}addFramePad(e,s,i,n,r,o){e-=r,s-=o,i+=r,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<s?this.minY:s,this.maxY=this.maxY>n?this.maxY:n}}class Oe extends bn{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new yl,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ir,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const s=Object.keys(e);for(let i=0;i<s.length;++i){const n=s[i];Object.defineProperty(Oe.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,s){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),s||(this._boundsRect||(this._boundsRect=new fe),s=this._boundsRect),this._bounds.getRectangle(s)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new fe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Ir);const s=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,r=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=i,this.transform=s,this._bounds=n,this._bounds.updateID+=this._boundsID-r,o}toGlobal(e,s,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,s)}toLocal(e,s,i,n){return s&&(e=s.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,s=0,i=1,n=1,r=0,o=0,a=0,l=0,h=0){return this.position.x=e,this.position.y=s,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new u_),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Eg}set angle(e){this.transform.rotation=e*Tg}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const s=this._mask.isMaskData?this._mask.maskObject:this._mask;s&&(s._maskRefCount--,s._maskRefCount===0&&(s.renderable=!0,s.isMask=!1))}if(this._mask=e,this._mask){const s=this._mask.isMaskData?this._mask.maskObject:this._mask;s&&(s._maskRefCount===0&&(s.renderable=!1,s.isMask=!0),s._maskRefCount++)}}}}class u_ extends Oe{constructor(){super(...arguments),this.sortDirty=null}}Oe.prototype.displayObjectUpdateTransform=Oe.prototype.updateTransform;function d_(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}class _t extends Oe{constructor(){super(),this.children=[],this.sortableChildren=j.SORTABLE_CHILDREN,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let s=0;s<e.length;s++)this.addChild(e[s]);else{const s=e[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return e[0]}addChildAt(e,s){if(s<0||s>this.children.length)throw new Error(`${e}addChildAt: The index ${s} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(s,0,e),this._boundsID++,this.onChildrenChange(s),e.emit("added",this),this.emit("childAdded",e,this,s),e}swapChildren(e,s){if(e===s)return;const i=this.getChildIndex(e),n=this.getChildIndex(s);this.children[i]=s,this.children[n]=e,this.onChildrenChange(i<n?i:n)}getChildIndex(e){const s=this.children.indexOf(e);if(s===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return s}setChildIndex(e,s){if(s<0||s>=this.children.length)throw new Error(`The index ${s} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);Ci(this.children,i,1),this.children.splice(s,0,e),this.onChildrenChange(s)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let s=0;s<e.length;s++)this.removeChild(e[s]);else{const s=e[0],i=this.children.indexOf(s);if(i===-1)return null;s.parent=null,s.transform._parentID=-1,Ci(this.children,i,1),this._boundsID++,this.onChildrenChange(i),s.emit("removed",this),this.emit("childRemoved",s,this,i)}return e[0]}removeChildAt(e){const s=this.getChildAt(e);return s.parent=null,s.transform._parentID=-1,Ci(this.children,e,1),this._boundsID++,this.onChildrenChange(e),s.emit("removed",this),this.emit("childRemoved",s,this,e),s}removeChildren(e=0,s=this.children.length){const i=e,n=s,r=n-i;let o;if(r>0&&r<=n){o=this.children.splice(i,r);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(r===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let s=0,i=this.children.length;s<i;++s){const n=this.children[s];n._lastSortedIndex=s,!e&&n.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(d_),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,s=this.children.length;e<s;++e){const i=this.children[e];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const s=this.children[e];if(!(!s.visible||!s.renderable))if(s.calculateBounds(),s._mask){const i=s._mask.isMaskData?s._mask.maskObject:s._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(s._bounds,i._bounds)):this._bounds.addBounds(s._bounds)}else s.filterArea?this._bounds.addBoundsArea(s._bounds,s.filterArea):this._bounds.addBounds(s._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,s=!1){const i=super.getLocalBounds(e);if(!s)for(let n=0,r=this.children.length;n<r;++n){const o=this.children[n];o.visible&&o.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const s=e.renderTexture.sourceFrame;if(!(s.width>0&&s.height>0))return;let i,n;if(this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==_t.prototype._render&&(i=this.getBounds(!0)),i&&s.intersects(i,n))this._render(e);else if(this.cullArea)return;for(let r=0,o=this.children.length;r<o;++r){const a=this.children[r],l=a.cullable;a.cullable=l||!this.cullArea,a.render(e),a.cullable=l}}render(e){var s;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||((s=this.filters)==null?void 0:s.length))this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(e)}}renderAdvanced(e){var r,o,a;const s=this.filters,i=this._mask;if(s){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<s.length;l++)s[l].enabled&&this._enabledFilters.push(s[l])}const n=s&&((r=this._enabledFilters)==null?void 0:r.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Ve.NONE));if(n&&e.batch.flush(),s&&((o=this._enabledFilters)==null?void 0:o.length)&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,h=this.children.length;l<h;++l)this.children[l].render(e)}n&&e.batch.flush(),i&&e.mask.pop(this),s&&((a=this._enabledFilters)==null?void 0:a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const s=typeof e=="boolean"?e:e==null?void 0:e.children,i=this.removeChildren(0,this.children.length);if(s)for(let n=0;n<i.length;++n)i[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const s=this.getLocalBounds().width;s!==0?this.scale.x=e/s:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const s=this.getLocalBounds().height;s!==0?this.scale.y=e/s:this.scale.y=1,this._height=e}}_t.prototype.containerUpdateTransform=_t.prototype.updateTransform;const zi=new xe,f_=new Uint16Array([0,1,2,0,2,3]);class Ie extends _t{constructor(e){super(),this._anchor=new bs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=ne.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||U.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=f_,this.pluginName="batch",this.isSprite=!0,this._roundPixels=j.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const s=this.transform.worldTransform,i=s.a,n=s.b,r=s.c,o=s.d,a=s.tx,l=s.ty,h=this.vertexData,c=e.trim,u=e.orig,d=this._anchor;let f=0,p=0,m=0,y=0;if(c?(p=c.x-d._x*u.width,f=p+c.width,y=c.y-d._y*u.height,m=y+c.height):(p=-d._x*u.width,f=p+u.width,y=-d._y*u.height,m=y+u.height),h[0]=i*p+r*y+a,h[1]=o*y+n*p+l,h[2]=i*f+r*y+a,h[3]=o*y+n*f+l,h[4]=i*f+r*m+a,h[5]=o*m+n*f+l,h[6]=i*p+r*m+a,h[7]=o*m+n*p+l,this._roundPixels){const x=j.RESOLUTION;for(let b=0;b<h.length;++b)h[b]=Math.round(h[b]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,s=this.vertexTrimmedData,i=e.orig,n=this._anchor,r=this.transform.worldTransform,o=r.a,a=r.b,l=r.c,h=r.d,c=r.tx,u=r.ty,d=-n._x*i.width,f=d+i.width,p=-n._y*i.height,m=p+i.height;s[0]=o*d+l*p+c,s[1]=h*p+a*d+u,s[2]=o*f+l*p+c,s[3]=h*p+a*f+u,s[4]=o*f+l*m+c,s[5]=h*m+a*f+u,s[6]=o*d+l*m+c,s[7]=h*m+a*d+u}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,s=this._texture.orig;!e||e.width===s.width&&e.height===s.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Ir),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new fe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,zi);const s=this._texture.orig.width,i=this._texture.orig.height,n=-s*this.anchor.x;let r=0;return zi.x>=n&&zi.x<n+s&&(r=-i*this.anchor.y,zi.y>=r&&zi.y<r+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!i)}this._texture=null}static from(e,s){const i=e instanceof U?e:U.from(e,s);return new Ie(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const s=xi(this.scale.x)||1;this.scale.x=s*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const s=xi(this.scale.y)||1;this.scale.y=s*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||U.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Kd=new ke;Oe.prototype._cacheAsBitmap=!1;Oe.prototype._cacheData=null;Oe.prototype._cacheAsBitmapResolution=null;Oe.prototype._cacheAsBitmapMultisample=null;class p_{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Oe.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new p_),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Oe.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Oe.prototype._initCachedDisplayObject=function(e){var d,f,p;if((d=this._cacheData)!=null&&d.sprite)return;const s=this.alpha;this.alpha=1,e.batch.flush();const i=this.getLocalBounds(null,!0).clone();if((f=this.filters)!=null&&f.length){const m=this.filters[0].padding;i.pad(m)}i.ceil(j.RESOLUTION);const n=e.renderTexture.current,r=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=Bs.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(p=this.cacheAsBitmapMultisample)!=null?p:e.multisample}),h=`cacheAsBitmap_${ri()}`;this._cacheData.textureCacheId=h,pe.addToCache(l.baseTexture,h),U.addToCache(l,h);const c=this.transform.localTransform.copyTo(Kd).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(n,r,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=s;const u=new Ie(l);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(i.x/i.width),u.anchor.y=-(i.y/i.height),u.alpha=s,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=u.containsPoint.bind(u)};Oe.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Oe.prototype._initCachedDisplayObjectCanvas=function(e){var c;if((c=this._cacheData)!=null&&c.sprite)return;const s=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,r=e._projTransform;s.ceil(j.RESOLUTION);const o=Bs.create({width:s.width,height:s.height}),a=`cacheAsBitmap_${ri()}`;this._cacheData.textureCacheId=a,pe.addToCache(o.baseTexture,a),U.addToCache(o,a);const l=Kd;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=s.x,l.ty-=s.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const h=new Ie(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(s.x/s.width),h.anchor.y=-(s.y/s.height),h.alpha=i,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};Oe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Oe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Oe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,pe.removeFromCache(this._cacheData.textureCacheId),U.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Oe.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Oe.prototype.name=null;_t.prototype.getChildByName=function(e,s){for(let i=0,n=this.children.length;i<n;i++)if(this.children[i].name===e)return this.children[i];if(s)for(let i=0,n=this.children.length;i<n;i++){const r=this.children[i];if(!r.getChildByName)continue;const o=r.getChildByName(e,!0);if(o)return o}return null};Oe.prototype.getGlobalPosition=function(e=new xe,s=!1){return this.parent?this.parent.toGlobal(this.position,e,s):(e.x=this.position.x,e.y=this.position.y),e};const m_={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};class En{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=En.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new xe,this.page=new xe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,s,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,s,i,n,r){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Pr extends En{constructor(){super(...arguments),this.client=new xe,this.movement=new xe,this.offset=new xe,this.global=new xe,this.screen=new xe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,s,i,n,r,o,a,l,h,c,u,d,f,p,m){throw new Error("Method not implemented.")}}class At extends Pr{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ba extends Pr{constructor(){super(...arguments),this.DOM_DELTA_LINE=0,this.DOM_DELTA_PAGE=1,this.DOM_DELTA_PIXEL=2}}const g_=2048,y_=new xe,Mo=new xe;class x_{constructor(e){this.dispatch=new bn,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,s){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:s,priority:0}),this.mappingTable[e].sort((i,n)=>i.priority-n.priority)}dispatchEvent(e,s){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,s),this.dispatch.emit(s||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const s=this.mappingTable[e.type];if(s)for(let i=0,n=s.length;i<n;i++)s[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,s){const i=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,y_.set(e,s),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,s){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,r=i.length-1;n<r;n++)if(e.currentTarget=i[n],this.notifyTarget(e,s),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,s),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,s),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,s,i=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const n=i.children;if(n)for(let r=0;r<n.length;r++)this.all(e,s,n[r]);e.currentTarget=i,this.notifyTarget(e,s)}propagationPath(e){const s=[e];for(let i=0;i<g_&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");s.push(e.parent),e=e.parent}return s.reverse(),s}hitTestRecursive(e,s,i,n,r){if(!e||!e.visible||r(e,i))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],h=this.hitTestRecursive(l,s||l.interactive,i,n,r);if(h){if(h.length>0&&!h[h.length-1].parent)continue;return(h.length>0||e.interactive)&&h.push(e),h}}}return s&&n(e,i)?e.interactive?[e]:[]:null}hitPruneFn(e,s){var i;if(e.hitArea&&(e.worldTransform.applyInverse(s,Mo),!e.hitArea.contains(Mo.x,Mo.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,s)))return!0}return!1}hitTestFn(e,s){return e.hitArea?!0:e.containsPoint?e.containsPoint(s):!1}notifyTarget(e,s){s=s!=null?s:e.type;const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${s}capture`:s;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,s)}mapPointerDown(e){if(!(e instanceof At)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const s=this.createPointerEvent(e);if(this.dispatchEvent(s,"pointerdown"),s.pointerType==="touch")this.dispatchEvent(s,"touchstart");else if(s.pointerType==="mouse"||s.pointerType==="pen"){const n=s.button===2;this.dispatchEvent(s,n?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=s.composedPath(),this.freeEvent(s)}mapPointerMove(e){var a;if(!(e instanceof At)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const s=this.createPointerEvent(e),i=s.pointerType==="mouse"||s.pointerType==="pen",n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.overTargets);if(n.overTargets&&r!==s.target){const l=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,l,r);if(this.dispatchEvent(h,"pointerout"),i&&this.dispatchEvent(h,"mouseout"),!s.composedPath().includes(r)){const c=this.createPointerEvent(e,"pointerleave",r);for(c.eventPhase=c.AT_TARGET;c.target&&!s.composedPath().includes(c.target);)c.currentTarget=c.target,this.notifyTarget(c),i&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;this.freeEvent(c)}this.freeEvent(h)}if(r!==s.target){const l=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(s,l);this.dispatchEvent(h,"pointerover"),i&&this.dispatchEvent(h,"mouseover");let c=r==null?void 0:r.parent;for(;c&&c!==this.rootTarget.parent&&c!==s.target;)c=c.parent;if(!c||c===this.rootTarget.parent){const d=this.clonePointerEvent(s,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==r&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](s,"pointermove"),s.pointerType==="touch"&&this[o](s,"touchmove"),i&&(this[o](s,"mousemove"),this.cursor=(a=s.target)==null?void 0:a.cursor),n.overTargets=s.composedPath(),this.freeEvent(s)}mapPointerOver(e){var o;if(!(e instanceof At)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const s=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const r=this.clonePointerEvent(i,"pointerenter");for(r.eventPhase=r.AT_TARGET;r.target&&r.target!==this.rootTarget.parent;)r.currentTarget=r.target,this.notifyTarget(r),n&&this.notifyTarget(r,"mouseenter"),r.target=r.target.parent;s.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(r)}mapPointerOut(e){if(!(e instanceof At)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const s=this.trackingData(e.pointerId);if(s.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.findMountedTarget(s.overTargets),r=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(r),i&&this.dispatchEvent(r,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;s.overTargets=null,this.freeEvent(r),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof At)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const s=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const a=i.button===2;this.dispatchEvent(i,a?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=r;if(r&&!i.composedPath().includes(r)){let a=r;for(;a&&!i.composedPath().includes(a);){if(i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.notifyTarget(i,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete n.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:s});const l=n.clicksByButton[e.button];l.target===a.target&&s-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=s,a.detail=l.clickCount,a.pointerType==="mouse"?this.dispatchEvent(a,"click"):a.pointerType==="touch"&&this.dispatchEvent(a,"tap"),this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof At)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const s=this.trackingData(e.pointerId),i=this.findMountedTarget(s.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let r=i;for(;r;)n.currentTarget=r,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),r=r.parent;delete s.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof Ba)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const s=this.createWheelEvent(e);this.dispatchEvent(s),this.freeEvent(s)}findMountedTarget(e){if(!e)return null;let s=e[0];for(let i=1;i<e.length&&e[i].parent===s;i++)s=e[i];return s}createPointerEvent(e,s,i){const n=this.allocateEvent(At);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i!=null?i:this.hitTest(n.global.x,n.global.y),typeof s=="string"&&(n.type=s),n}createWheelEvent(e){const s=this.allocateEvent(Ba);return this.copyWheelData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=this.hitTest(s.global.x,s.global.y),s}clonePointerEvent(e,s){const i=this.allocateEvent(At);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=s!=null?s:i.type,i}copyWheelData(e,s){s.deltaMode=e.deltaMode,s.deltaX=e.deltaX,s.deltaY=e.deltaY,s.deltaZ=e.deltaZ}copyPointerData(e,s){e instanceof At&&s instanceof At&&(s.pointerId=e.pointerId,s.width=e.width,s.height=e.height,s.isPrimary=e.isPrimary,s.pointerType=e.pointerType,s.pressure=e.pressure,s.tangentialPressure=e.tangentialPressure,s.tiltX=e.tiltX,s.tiltY=e.tiltY,s.twist=e.twist)}copyMouseData(e,s){e instanceof Pr&&s instanceof Pr&&(s.altKey=e.altKey,s.button=e.button,s.buttons=e.buttons,s.client.copyFrom(e.client),s.ctrlKey=e.ctrlKey,s.metaKey=e.metaKey,s.movement.copyFrom(e.movement),s.screen.copyFrom(e.screen),s.global.copyFrom(e.global))}copyData(e,s){s.isTrusted=e.isTrusted,s.srcElement=e.srcElement,s.timeStamp=performance.now(),s.type=e.type,s.detail=e.detail,s.view=e.view,s.which=e.which,s.layer.copyFrom(e.layer),s.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const s=this.eventPool.get(e).pop()||new e(this);return s.eventPhase=s.NONE,s.currentTarget=null,s.path=null,s.target=null,s}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const s=e.constructor;this.eventPool.has(s)||this.eventPool.set(s,[]),this.eventPool.get(s).push(e)}notifyListeners(e,s){const i=e.currentTarget._events[s];if(!!i)if("fn"in i)i.fn.call(i.context,e);else for(let n=0,r=i.length;n<r&&!e.propagationImmediatelyStopped;n++)i[n].fn.call(i[n].context,e)}}const v_=1,__={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Zd{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new x_(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new At(null),this.rootWheelEvent=new Ba(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:s}=this.renderer;this.setTargetElement(e),this.resolution=s}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let s=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(s=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":s&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":s&&Object.assign(this.domElement.style,i);break}else s&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const s=this.normalizeToPointerData(e);this.autoPreventDefault&&s[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,n=s.length;i<n;i++){const r=s[i],o=this.bootstrapEvent(this.rootPointerEvent,r);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const s=this.normalizeToPointerData(e);for(let i=0,n=s.length;i<n;i++){const r=this.bootstrapEvent(this.rootPointerEvent,s[i]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let s=e.target;e.composedPath&&e.composedPath().length>0&&(s=e.composedPath()[0]);const i=s!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let r=0,o=n.length;r<o;r++){const a=this.bootstrapEvent(this.rootPointerEvent,n[r]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const s=this.normalizeToPointerData(e);for(let i=0,n=s.length;i<n;i++){const r=this.bootstrapEvent(this.rootPointerEvent,s[i]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const s=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(s)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,s,i){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const r=1/this.resolution;e.x=(s-n.left)*(this.domElement.width/n.width)*r,e.y=(i-n.top)*(this.domElement.height/n.height)*r}normalizeToPointerData(e){const s=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const r=e.changedTouches[i];typeof r.button>"u"&&(r.button=0),typeof r.buttons>"u"&&(r.buttons=1),typeof r.isPrimary>"u"&&(r.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof r.width>"u"&&(r.width=r.radiusX||1),typeof r.height>"u"&&(r.height=r.radiusY||1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="touch"),typeof r.pointerId>"u"&&(r.pointerId=r.identifier||0),typeof r.pressure>"u"&&(r.pressure=r.force||.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),typeof r.layerX>"u"&&(r.layerX=r.offsetX=r.clientX),typeof r.layerY>"u"&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,r.type=e.type,s.push(r)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=v_),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,s.push(i)}else s.push(e);return s}normalizeWheelEvent(e){const s=this.rootWheelEvent;return this.transferMouseData(s,e),s.deltaMode=e.deltaMode,s.deltaX=e.deltaX,s.deltaY=e.deltaY,s.deltaZ=e.deltaZ,this.mapPositionToPoint(s.screen,e.clientX,e.clientY),s.global.copyFrom(s.screen),s.offset.copyFrom(s.screen),s.nativeEvent=e,s.type=e.type,s}bootstrapEvent(e,s){return e.originalEvent=null,e.nativeEvent=s,e.pointerId=s.pointerId,e.width=s.width,e.height=s.height,e.isPrimary=s.isPrimary,e.pointerType=s.pointerType,e.pressure=s.pressure,e.tangentialPressure=s.tangentialPressure,e.tiltX=s.tiltX,e.tiltY=s.tiltY,e.twist=s.twist,this.transferMouseData(e,s),this.mapPositionToPoint(e.screen,s.clientX,s.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=s.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=__[e.type]||e.type),e}transferMouseData(e,s){e.isTrusted=s.isTrusted,e.srcElement=s.srcElement,e.timeStamp=performance.now(),e.type=s.type,e.altKey=s.altKey,e.button=s.button,e.buttons=s.buttons,e.client.x=s.clientX,e.client.y=s.clientY,e.ctrlKey=s.ctrlKey,e.metaKey=s.metaKey,e.movement.x=s.movementX,e.movement.y=s.movementY,e.page.x=s.pageX,e.page.y=s.pageY,e.relatedTarget=null,e.shiftKey=s.shiftKey}}Zd.extension={name:"events",type:[Y.RendererSystem,Y.CanvasRendererSystem]};ee.add(Zd);const b_={interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,s){const i=typeof s=="boolean"&&s||typeof s=="object"&&s.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,n)},removeEventListener(t,e,s){const i=typeof s=="boolean"&&s||typeof s=="object"&&s.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof En))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Oe.mixin(b_);Oe.mixin(m_);const w_=9,Vn=100,E_=0,T_=0,Wh=2,Yh=1,S_=-1e3,A_=-1e3,C_=2;class Jd{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(os.tablet||os.phone)&&this.createTouchHook();const s=document.createElement("div");s.style.width=`${Vn}px`,s.style.height=`${Vn}px`,s.style.position="absolute",s.style.top=`${E_}px`,s.style.left=`${T_}px`,s.style.zIndex=Wh.toString(),this.div=s,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Yh}px`,e.style.height=`${Yh}px`,e.style.position="absolute",e.style.top=`${S_}px`,e.style.left=`${A_}px`,e.style.zIndex=C_.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const s=e.children;if(s)for(let i=0;i<s.length;i++)this.updateAccessibleObjects(s[i])}update(){const e=performance.now();if(os.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:s,y:i,width:n,height:r}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,h=n/o*l,c=r/a*l;let u=this.div;u.style.left=`${s}px`,u.style.top=`${i}px`,u.style.width=`${o}px`,u.style.height=`${a}px`;for(let d=0;d<this.children.length;d++){const f=this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,Ci(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--;else{u=f._accessibleDiv;let p=f.hitArea;const m=f.worldTransform;f.hitArea?(u.style.left=`${(m.tx+p.x*m.a)*h}px`,u.style.top=`${(m.ty+p.y*m.d)*c}px`,u.style.width=`${p.width*m.a*h}px`,u.style.height=`${p.height*m.d*c}px`):(p=f.getBounds(),this.capHitArea(p),u.style.left=`${p.x*h}px`,u.style.top=`${p.y*c}px`,u.style.width=`${p.width*h}px`,u.style.height=`${p.height*c}px`,u.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(u.title=f.accessibleTitle),u.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&u.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==u.title||f.tabIndex!==u.tabIndex)&&(u.title=f.accessibleTitle,u.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(u))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:s,height:i}=this.renderer;e.x+e.width>s&&(e.width=s-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let s=this.pool.pop();s||(s=document.createElement("button"),s.style.width=`${Vn}px`,s.style.height=`${Vn}px`,s.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",s.style.position="absolute",s.style.zIndex=Wh.toString(),s.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?s.setAttribute("aria-live","off"):s.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?s.setAttribute("aria-relevant","additions"):s.setAttribute("aria-relevant","text"),s.addEventListener("click",this._onClick.bind(this)),s.addEventListener("focus",this._onFocus.bind(this)),s.addEventListener("focusout",this._onFocusOut.bind(this))),s.style.pointerEvents=e.accessiblePointerEvents,s.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?s.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(s.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&s.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(s),e._accessibleActive=!0,e._accessibleDiv=s,s.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,s){const{displayObject:i}=e.target,n=this.renderer.events.rootBoundary,r=Object.assign(new En(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,s.forEach(o=>n.dispatchEvent(r,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===w_&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Jd.extension={name:"accessibility",type:[Y.RendererPlugin,Y.CanvasRendererPlugin]};ee.add(Jd);const Da=class{constructor(t){this.stage=new _t,t=Object.assign({forceCanvas:!1},t),this.renderer=i_(t),Da._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const s=Da._plugins.slice(0);s.reverse(),s.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let wl=Da;wl._plugins=[];ee.handleByList(Y.Application,wl._plugins);class Qd{static init(e){Object.defineProperty(this,"resizeTo",{set(s){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=s,s&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{!this._resizeTo||(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let s,i;if(this._resizeTo===globalThis.window)s=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:r}=this._resizeTo;s=n,i=r}this.renderer.resize(s,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Qd.extension=Y.Application;ee.add(Qd);class I_{constructor(e,s=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=s}add(e){e.forEach(s=>{this._assetList.push(s)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],s=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<s;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const ls=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(s=>typeof s=="string"?e(s):s):t);function ef(t,e,s,i,n){const r=e[s];for(let o=0;o<r.length;o++){const a=r[o];s<e.length-1?ef(t.replace(i[s],a),e,s+1,i,n):n.push(t.replace(i[s],a))}}function P_(t){const e=/\{(.*?)\}/g,s=t.match(e),i=[];if(s){const n=[];s.forEach(r=>{const o=r.substring(1,r.length-1).split(",");n.push(o)}),ef(t,n,0,s,i)}else i.push(t);return i}const Rr=t=>!Array.isArray(t);class R_{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){return this._cache.get(e)}set(e,s){const i=ls(e);let n;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(s)){n=l.getCacheableAssets(i,s);break}}n||(n={},i.forEach(a=>{n[a]=s}));const r=Object.keys(n),o={cacheKeys:r,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),r.forEach(a=>{this._cache.has(a)&&this._cache.get(a),this._cache.set(a,n[a])}),s instanceof U){const a=s;i.forEach(l=>{a.baseTexture!==U.EMPTY.baseTexture&&pe.addToCache(a.baseTexture,l),U.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e))return;const s=this._cacheMap.get(e);s.cacheKeys.forEach(n=>{this._cache.delete(n)}),s.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Hi=new R_;class M_{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,s){const i={promise:null,parser:null};return i.promise=(async()=>{var r,o;let n=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((r=l.test)==null?void 0:r.call(l,e,s,this))){n=await l.load(e,s,this),i.parser=l;break}}if(!i.parser)return null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,n,s,this))&&(n=await l.parse(n,s,this)||n,i.parser=l)}return n})(),i}async load(e,s){let i=0;const n={},r=Rr(e),o=ls(e,h=>({src:h})),a=o.length,l=o.map(async h=>{const c=Ke.toAbsolute(h.src);if(!n[h.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,h)),n[h.src]=await this.promiseCache[c].promise,s&&s(++i/a)}catch(u){throw delete this.promiseCache[c],delete n[h.src],new Error(`[Loader.load] Failed to load ${c}.
${u}`)}});return await Promise.all(l),r?n[o[0].src]:n}async unload(e){const i=ls(e,n=>({src:n})).map(async n=>{var a,l;const r=Ke.toAbsolute(n.src),o=this.promiseCache[r];if(o){const h=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,h,n,this),delete this.promiseCache[r]}});await Promise.all(i)}get parsers(){return this._parsers}}class B_{constructor(){this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}prefer(...e){e.forEach(s=>{this._preferredOrder.push(s),s.priority||(s.priority=Object.keys(s.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this._preferredOrder=[],this._resolverHash={},this._assetMap={},this._rootPath=null,this._basePath=null,this._manifest=null}addManifest(e){this._manifest,this._manifest=e,e.bundles.forEach(s=>{this.addBundle(s.name,s.assets)})}addBundle(e,s){const i=[];Array.isArray(s)?s.forEach(n=>{typeof n.name=="string"?i.push(n.name):i.push(...n.name),this.add(n.name,n.srcs)}):Object.keys(s).forEach(n=>{i.push(n),this.add(n,s[n])}),this._bundles[e]=i}add(e,s,i){const n=ls(e);n.forEach(o=>{this._assetMap[o]}),Array.isArray(s)||(typeof s=="string"?s=P_(s):s=[s]);const r=s.map(o=>{var l;let a=o;if(typeof o=="string"){let h=!1;for(let c=0;c<this._parsers.length;c++){const u=this._parsers[c];if(u.test(o)){a=u.parse(o),h=!0;break}}h||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=n),(this._basePath||this._rootPath)&&(a.src=Ke.toAbsolute(a.src,this._basePath,this._rootPath)),a.data=(l=a.data)!=null?l:i,a});n.forEach(o=>{this._assetMap[o]=r})}resolveBundle(e){const s=Rr(e);e=ls(e);const i={};return e.forEach(n=>{const r=this._bundles[n];r&&(i[n]=this.resolve(r))}),s?i[e[0]]:i}resolveUrl(e){const s=this.resolve(e);if(typeof e!="string"){const i={};for(const n in s)i[n]=s[n].src;return i}return s.src}resolve(e){const s=Rr(e);e=ls(e);const i={};return e.forEach(n=>{var r;if(!this._resolverHash[n])if(this._assetMap[n]){let o=this._assetMap[n];const a=this._getPreferredOrder(o),l=o[0];a==null||a.priority.forEach(h=>{a.params[h].forEach(c=>{const u=o.filter(d=>d[h]?d[h]===c:!1);u.length&&(o=u)})}),this._resolverHash[n]=(r=o[0])!=null?r:l}else{let o=n;(this._basePath||this._rootPath)&&(o=Ke.toAbsolute(o,this._basePath,this._rootPath)),this._resolverHash[n]={src:o}}i[n]=this._resolverHash[n]}),s?i[e[0]]:i}_getPreferredOrder(e){for(let s=0;s<e.length;s++){const i=e[0],n=this._preferredOrder.find(r=>r.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}}class D_{constructor(){this._detections=[],this._initialized=!1,this.resolver=new B_,this.loader=new M_,this.cache=Hi,this._backgroundLoader=new I_(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var r,o,a,l;if(this._initialized)return;if(this._initialized=!0,e.basePath&&(this.resolver.basePath=e.basePath),e.manifest){let h=e.manifest;typeof h=="string"&&(h=await this.load(h)),this.resolver.addManifest(h)}const s=(o=(r=e.texturePreference)==null?void 0:r.resolution)!=null?o:1,i=typeof s=="number"?[s]:s;let n=[];if((a=e.texturePreference)!=null&&a.format){const h=(l=e.texturePreference)==null?void 0:l.format;n=typeof h=="string"?[h]:h;for(const c of this._detections)await c.test()||(n=await c.remove(n))}else for(const h of this._detections)await h.test()&&(n=await h.add(n));this.resolver.prefer({params:{format:n,resolution:i}})}add(e,s,i){this.resolver.add(e,s,i)}async load(e,s){this._initialized||await this.init();const i=Rr(e),n=ls(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):a),r=this.resolver.resolve(n),o=await this._mapLoadToResolve(r,s);return i?o[n[0]]:o}addBundle(e,s){this.resolver.addBundle(e,s)}async loadBundle(e,s){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),r={},o=Object.keys(n);let a=0,l=0;const h=()=>{s==null||s(++a/l)},c=o.map(u=>{const d=n[u];return l+=Object.keys(d).length,this._mapLoadToResolve(d,h).then(f=>{r[u]=f})});return await Promise.all(c),i?r[e[0]]:r}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const s=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(s))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const s=this.resolver.resolveBundle(e);Object.values(s).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Hi.get(e);const s={};for(let i=0;i<e.length;i++)s[i]=Hi.get(e[i]);return s}async _mapLoadToResolve(e,s){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const r=await this.loader.load(i,s);this._backgroundLoader.active=!0;const o={};return i.forEach((a,l)=>{const h=r[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[n[l]]=h,Hi.set(c,h)}),o}async unload(e){this._initialized||await this.init();const s=ls(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(s);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=ls(e);const s=this.resolver.resolveBundle(e),i=Object.keys(s).map(n=>this._unloadFromResolved(s[n]));await Promise.all(i)}async _unloadFromResolved(e){const s=Object.values(e);s.forEach(i=>{Hi.remove(i.src)}),await this.loader.unload(s)}get detections(){return this._detections}}const Wn=new D_;ee.handleByList(Y.LoadParser,Wn.loader.parsers).handleByList(Y.ResolveParser,Wn.resolver.parsers).handleByList(Y.CacheParser,Wn.cache.parsers).handleByList(Y.DetectionParser,Wn.detections);const $h={loader:Y.LoadParser,resolver:Y.ResolveParser,cache:Y.CacheParser,detection:Y.DetectionParser};ee.handle(Y.Asset,t=>{const e=t.ref;Object.entries($h).filter(([s])=>!!e[s]).forEach(([s,i])=>{var n;return ee.add(Object.assign(e[s],{extension:(n=e[s].extension)!=null?n:i}))})},t=>{const e=t.ref;Object.keys($h).filter(s=>!!e[s]).forEach(s=>ee.remove(e[s]))});const F_={extension:Y.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof U),getCacheableAssets:(t,e)=>{const s={};return t.forEach(i=>{e.forEach((n,r)=>{s[i+(r===0?"":r+1)]=n})}),s}};ee.add(F_);var Zt=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Zt||{});const O_={extension:{type:Y.LoadParser,priority:Zt.Low},test(t){return Ke.extname(t).includes(".json")},async load(t){return await(await j.ADAPTER.fetch(t)).json()}};ee.add(O_);const L_={extension:{type:Y.LoadParser,priority:Zt.Low},test(t){return Ke.extname(t).includes(".txt")},async load(t){return await(await j.ADAPTER.fetch(t)).text()}};ee.add(L_);const N_=["normal","bold","100","200","300","400","500","600","700","800","900"],k_=["woff","woff2","ttf","otf"];function U_(t){const e=Ke.extname(t);return Ke.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}const G_={extension:{type:Y.LoadParser,priority:Zt.Low},test(t){const s=t.split("?")[0].split(".").pop();return k_.includes(s)},async load(t,e){var i,n,r,o,a,l;if(!globalThis.navigator.onLine)throw new Error("[loadWebFont] Cannot load font - navigator is offline");const s=j.ADAPTER.getFontFaceSet();if(s){const h=[],c=(n=(i=e.data)==null?void 0:i.family)!=null?n:U_(t),u=(a=(o=(r=e.data)==null?void 0:r.weights)==null?void 0:o.filter(f=>N_.includes(f)))!=null?a:["normal"],d=(l=e.data)!=null?l:{};for(let f=0;f<u.length;f++){const p=u[f],m=new FontFace(c,`url(${t})`,{...d,weight:p});await m.load(),s.add(m),h.push(m)}return h.length===1?h[0]:h}return null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>j.ADAPTER.getFontFaceSet().delete(e))}};ee.add(G_);let qh=0,Bo;const z_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",H_={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${z_}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},j_={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Do;class X_{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const s=URL.createObjectURL(new Blob([H_.code],{type:"application/javascript"})),i=new Worker(s);i.addEventListener("message",n=>{i.terminate(),URL.revokeObjectURL(s),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Bo===void 0&&(Bo=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Bo&&(Do||(Do=URL.createObjectURL(new Blob([j_.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Do),e.addEventListener("message",s=>{this.complete(s.data),this.returnWorker(s.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,s){await this._initWorkers();const i=new Promise((n,r)=>{this.queue.push({id:e,arguments:s,resolve:n,reject:r})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const s=this.queue.pop(),i=s.id;this.resolveHash[qh]={resolve:s.resolve,reject:s.reject},e.postMessage({data:s.arguments,uuid:qh++,id:i})}}const Kh=new X_;function El(t,e){const s=t.split("?")[0],i=Ke.extname(s).toLowerCase();return Array.isArray(e)?e.includes(i.toLowerCase()):i.toLowerCase()===e}function Qr(t,e,s){const i=new U(t);return i.baseTexture.on("dispose",()=>{delete e.promiseCache[s]}),i}const Fo=[".jpg",".png",".jpeg",".avif",".webp"];async function V_(t){const e=await j.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const s=await e.blob();return await createImageBitmap(s)}const Tl={extension:{type:Y.LoadParser,priority:Zt.High},config:{preferWorkers:!0},test(t){let e=!1;for(let s=0;s<Fo.length;s++)if(t.startsWith(`data:image/${Fo[s].slice(1)}`)){e=!0;break}return e||El(t,Fo)},async load(t,e,s){let i=null;globalThis.createImageBitmap?this.config.preferWorkers&&await Kh.isImageBitmapSupported()?i=await Kh.loadImageBitmap(t):i=await V_(t):i=await new Promise(r=>{i=new Image,i.crossOrigin="anonymous",i.src=t,i.complete?r(i):i.onload=()=>{r(i)}});const n=new pe(i,{resolution:Rs(t),...e.data});return n.resource.src=t,Qr(n,s,t)},unload(t){t.destroy(!0)}};ee.add(Tl);Y.LoadParser,Zt.High,Tl.unload;const W_={extension:Y.ResolveParser,test:Tl.test,parse:t=>{var e,s;return{resolution:parseFloat((s=(e=j.RETINA_PREFIX.exec(t))==null?void 0:e[1])!=null?s:"1"),format:t.split(".").pop(),src:t}}};ee.add(W_);const Y_={extension:{type:Y.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await j.ADAPTER.fetch(t).then(s=>s.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ee.add(Y_);const $_={extension:{type:Y.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await j.ADAPTER.fetch(t).then(s=>s.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ee.add($_);const Zh=["png","jpg","jpeg"],q_={extension:{type:Y.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Zh],remove:async t=>t.filter(e=>!Zh.includes(e))};ee.add(q_);var ct=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(ct||{});const Mr={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};class K_ extends wn{constructor(e,s={width:1,height:1,autoLoad:!0}){let i,n;typeof e=="string"?(i=e,n=new Uint8Array):(i=null,n=e),super(n,s),this.origin=i,this.buffer=n?new Ma(n):null,this.origin&&s.autoLoad!==!1&&this.load(),n!=null&&n.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const i=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(i),this.buffer=new Ma(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),this}}class si extends K_{constructor(e,s){super(e,s),this.format=s.format,this.levels=s.levels||1,this._width=s.width,this._height=s.height,this._extension=si._formatToExtension(this.format),(s.levelBuffers||this.buffer)&&(this._levelBuffers=s.levelBuffers||si._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,s,i){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:h,levelHeight:c,levelBuffer:u}=this._levelBuffers[o];n.compressedTexImage2D(n.TEXTURE_2D,l,this.format,h,c,0,u)}return!0}onBlobLoaded(){this._levelBuffers=si._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,s,i,n,r,o,a){const l=new Array(i);let h=e.byteOffset,c=o,u=a,d=c+n-1&~(n-1),f=u+r-1&~(r-1),p=d*f*Mr[s];for(let m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?c:d,levelHeight:i>1?u:f,levelBuffer:new Uint8Array(e.buffer,h,p)},h+=p,c=c>>1||1,u=u>>1||1,d=c+n-1&~(n-1),f=u+r-1&~(r-1),p=d*f*Mr[s];return l}}let ss,mi;function Jh(){mi={s3tc:ss.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ss.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ss.getExtension("WEBGL_compressed_texture_etc"),etc1:ss.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ss.getExtension("WEBGL_compressed_texture_pvrtc")||ss.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ss.getExtension("WEBGL_compressed_texture_atc"),astc:ss.getExtension("WEBGL_compressed_texture_astc")}}const Z_={extension:{type:Y.DetectionParser,priority:2},test:async()=>{const e=j.ADAPTER.createCanvas().getContext("webgl");return e?(ss=e,!0):!1},add:async t=>{mi||Jh();const e=[];for(const s in mi)!mi[s]||e.push(s);return[...e,...t]},remove:async t=>(mi||Jh(),t.filter(e=>!(e in mi)))};ee.add(Z_);const Oo=4,Yn=124,J_=32,Qh=20,Q_=542327876,$n={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},eb={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},qn={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},tb=1,sb=2,ib=4,nb=64,rb=512,ob=131072,ab=827611204,lb=861165636,hb=894720068,cb=808540228,ub=4,db={[ab]:ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,[lb]:ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,[hb]:ct.COMPRESSED_RGBA_S3TC_DXT5_EXT},fb={[70]:ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:ct.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:ct.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:ct.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:ct.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function pb(t){const e=new Uint32Array(t);if(e[0]!==Q_)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(t,0,Yn/Uint32Array.BYTES_PER_ELEMENT),n=i[$n.HEIGHT],r=i[$n.WIDTH],o=i[$n.MIPMAP_COUNT],a=new Uint32Array(t,$n.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,J_/Uint32Array.BYTES_PER_ELEMENT),l=a[tb];if(l&ib){const h=a[eb.FOURCC];if(h!==cb){const g=db[h],_=Oo+Yn,T=new Uint8Array(t,_);return[new si(T,{format:g,width:r,height:n,levels:o})]}const c=Oo+Yn,u=new Uint32Array(e.buffer,c,Qh/Uint32Array.BYTES_PER_ELEMENT),d=u[qn.DXGI_FORMAT],f=u[qn.RESOURCE_DIMENSION],p=u[qn.MISC_FLAG],m=u[qn.ARRAY_SIZE],y=fb[d];if(y===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(p===ub)throw new Error("DDSParser does not support cubemap textures");if(f===6)throw new Error("DDSParser does not supported 3D texture data");const x=new Array,b=Oo+Yn+Qh;if(m===1)x.push(new Uint8Array(t,b));else{const g=Mr[y];let _=0,T=r,k=n;for(let E=0;E<o;E++){const G=Math.max(1,T+3&-4),C=Math.max(1,k+3&-4),A=G*C*g;_+=A,T=T>>>1,k=k>>>1}let I=b;for(let E=0;E<m;E++)x.push(new Uint8Array(t,I,_)),I+=_}return x.map(g=>new si(g,{format:y,width:r,height:n,levels:o}))}throw l&nb?new Error("DDSParser does not support uncompressed texture data."):l&rb?new Error("DDSParser does not supported YUV uncompressed texture data."):l&ob?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&sb?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const ec=[171,75,84,88,32,49,49,187,13,10,26,10],mb=67305985,Et={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Fa=64,tc={[ie.UNSIGNED_BYTE]:1,[ie.UNSIGNED_SHORT]:2,[ie.INT]:4,[ie.UNSIGNED_INT]:4,[ie.FLOAT]:4,[ie.HALF_FLOAT]:8},gb={[X.RGBA]:4,[X.RGB]:3,[X.RG]:2,[X.RED]:1,[X.LUMINANCE]:1,[X.LUMINANCE_ALPHA]:2,[X.ALPHA]:1},yb={[ie.UNSIGNED_SHORT_4_4_4_4]:2,[ie.UNSIGNED_SHORT_5_5_5_1]:2,[ie.UNSIGNED_SHORT_5_6_5]:2};function xb(t,e,s=!1){const i=new DataView(e);if(!vb(t,i))return null;const n=i.getUint32(Et.ENDIANNESS,!0)===mb,r=i.getUint32(Et.GL_TYPE,n),o=i.getUint32(Et.GL_FORMAT,n),a=i.getUint32(Et.GL_INTERNAL_FORMAT,n),l=i.getUint32(Et.PIXEL_WIDTH,n),h=i.getUint32(Et.PIXEL_HEIGHT,n)||1,c=i.getUint32(Et.PIXEL_DEPTH,n)||1,u=i.getUint32(Et.NUMBER_OF_ARRAY_ELEMENTS,n)||1,d=i.getUint32(Et.NUMBER_OF_FACES,n),f=i.getUint32(Et.NUMBER_OF_MIPMAP_LEVELS,n),p=i.getUint32(Et.BYTES_OF_KEY_VALUE_DATA,n);if(h===0||c!==1)throw new Error("Only 2D textures are supported");if(d!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(u!==1)throw new Error("WebGL does not support array textures");const m=4,y=4,x=l+3&-4,b=h+3&-4,g=new Array(u);let _=l*h;r===0&&(_=x*b);let T;if(r!==0?tc[r]?T=tc[r]*gb[o]:T=yb[r]:T=Mr[a],T===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const k=s?bb(i,p,n):null;let E=_*T,G=l,C=h,A=x,O=b,B=Fa+p;for(let P=0;P<f;P++){const oe=i.getUint32(B,n);let Q=B+4;for(let L=0;L<u;L++){let Z=g[L];Z||(Z=g[L]=new Array(f)),Z[P]={levelID:P,levelWidth:f>1||r!==0?G:A,levelHeight:f>1||r!==0?C:O,levelBuffer:new Uint8Array(e,Q,E)},Q+=E}B+=oe+4,B=B%4!==0?B+4-B%4:B,G=G>>1||1,C=C>>1||1,A=G+m-1&~(m-1),O=C+y-1&~(y-1),E=A*O*T}return r!==0?{uncompressed:g.map(P=>{let oe=P[0].levelBuffer,Q=!1;return r===ie.FLOAT?oe=new Float32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4):r===ie.UNSIGNED_INT?(Q=!0,oe=new Uint32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)):r===ie.INT&&(Q=!0,oe=new Int32Array(P[0].levelBuffer.buffer,P[0].levelBuffer.byteOffset,P[0].levelBuffer.byteLength/4)),{resource:new wn(oe,{width:P[0].levelWidth,height:P[0].levelHeight}),type:r,format:Q?_b(o):o}}),kvData:k}:{compressed:g.map(P=>new si(null,{format:a,width:l,height:h,levels:f,levelBuffers:P})),kvData:k}}function vb(t,e){for(let s=0;s<ec.length;s++)if(e.getUint8(s)!==ec[s])return!1;return!0}function _b(t){switch(t){case X.RGBA:return X.RGBA_INTEGER;case X.RGB:return X.RGB_INTEGER;case X.RG:return X.RG_INTEGER;case X.RED:return X.RED_INTEGER;default:return t}}function bb(t,e,s){const i=new Map;let n=0;for(;n<e;){const r=t.getUint32(Fa+n,s),o=Fa+n+4,a=3-(r+3)%4;if(r===0||r>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<r&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,r-l-1);i.set(h,c),n+=4+r+a}return i}const wb={extension:{type:Y.LoadParser,priority:Zt.High},test(t){return El(t,".dds")},async load(t,e,s){const n=await(await j.ADAPTER.fetch(t)).arrayBuffer(),o=pb(n).map(a=>{const l=new pe(a,{mipmap:Kt.OFF,alphaMode:kt.NO_PREMULTIPLIED_ALPHA,resolution:Rs(t),...e.data});return Qr(l,s,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ee.add(wb);const Eb={extension:{type:Y.LoadParser,priority:Zt.High},test(t){return El(t,".ktx")},async load(t,e,s){const n=await(await j.ADAPTER.fetch(t)).arrayBuffer(),{compressed:r,uncompressed:o,kvData:a}=xb(t,n),l=r!=null?r:o,h={mipmap:Kt.OFF,alphaMode:kt.NO_PREMULTIPLIED_ALPHA,resolution:Rs(t),...e.data},c=l.map(u=>{l===o&&Object.assign(h,{type:u.type,format:u.format});const d=new pe(u,h);return d.ktxKeyValueData=a,Qr(d,s,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ee.add(Eb);const Tb={extension:Y.ResolveParser,test:t=>{const s=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(s)},parse:t=>{var i,n,r,o;if(t.split("?")[0].split(".").pop()==="ktx"){const a=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(a.some(l=>t.endsWith(l)))return{resolution:parseFloat((n=(i=j.RETINA_PREFIX.exec(t))==null?void 0:i[1])!=null?n:"1"),format:a.find(l=>t.endsWith(l)),src:t}}return{resolution:parseFloat((o=(r=j.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?o:"1"),format:t.split(".").pop(),src:t}}};ee.add(Tb);const sc=new fe,ic=4,Oa=class{constructor(t){this.renderer=t}async image(t,e,s){const i=new Image;return i.src=await this.base64(t,e,s),i}async base64(t,e,s){const i=this.canvas(t);if(i.toDataURL!==void 0)return i.toDataURL(e,s);if(i.convertToBlob!==void 0){const n=await i.convertToBlob({type:e,quality:s});return await new Promise(r=>{const o=new FileReader;o.onload=()=>r(o.result),o.readAsDataURL(n)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const s=this.renderer;let i,n=!1,r,o=!1;t&&(t instanceof Bs?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(i=r.baseTexture.resolution,e=e!=null?e:r.frame,n=!1,s.renderTexture.bind(r)):(i=s.resolution,e||(e=sc,e.width=s.width,e.height=s.height),n=!0,s.renderTexture.bind(null));const a=Math.round(e.width*i),l=Math.round(e.height*i);let h=new Fh(a,l,1);const c=new Uint8Array(ic*a*l),u=s.gl;u.readPixels(Math.round(e.x*i),Math.round(e.y*i),a,l,u.RGBA,u.UNSIGNED_BYTE,c);const d=h.context.getImageData(0,0,a,l);if(Oa.arrayPostDivide(c,d.data),h.context.putImageData(d,0,0),n){const f=new Fh(h.width,h.height,1);f.context.scale(1,-1),f.context.drawImage(h.canvas,0,-l),h.destroy(),h=f}return o&&r.destroy(!0),h.canvas}pixels(t,e){const s=this.renderer;let i,n,r=!1;t&&(t instanceof Bs?n=t:(n=this.renderer.generateTexture(t),r=!0)),n?(i=n.baseTexture.resolution,e=e!=null?e:n.frame,s.renderTexture.bind(n)):(i=s.resolution,e||(e=sc,e.width=s.width,e.height=s.height),s.renderTexture.bind(null));const o=Math.round(e.width*i),a=Math.round(e.height*i),l=new Uint8Array(ic*o*a),h=s.gl;return h.readPixels(Math.round(e.x*i),Math.round(e.y*i),o,a,h.RGBA,h.UNSIGNED_BYTE,l),r&&n.destroy(!0),Oa.arrayPostDivide(l,l),l}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let s=0;s<t.length;s+=4){const i=e[s+3]=t[s+3];i!==0?(e[s]=Math.round(Math.min(t[s]*255/i,255)),e[s+1]=Math.round(Math.min(t[s+1]*255/i,255)),e[s+2]=Math.round(Math.min(t[s+2]*255/i,255))):(e[s]=t[s],e[s+1]=t[s+1],e[s+2]=t[s+2])}}};let tf=Oa;tf.extension={name:"extract",type:Y.RendererSystem};ee.add(tf);var _s=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(_s||{}),Js=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Js||{});const gn={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let s=Math.ceil(t/this.maxLength);return s<this.minSegments?s=this.minSegments:s>this.maxSegments&&(s=this.maxSegments),s}};class eo{constructor(){this.color=16777215,this.alpha=1,this.texture=U.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new eo;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=U.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}function nc(t,e=!1){const s=t.length;if(s<6)return;let i=0;for(let n=0,r=t[s-2],o=t[s-1];n<s;n+=2){const a=t[n],l=t[n+1];i+=(a-r)*(l+o),r=a,o=l}if(!e&&i>0||e&&i<=0){const n=s/2;for(let r=n+n%2;r<s;r+=2){const o=s-r-2,a=s-r-1,l=r,h=r+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[h]]=[t[h],t[a]]}}}const sf={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let s=t.points;const i=t.holes,n=e.points,r=e.indices;if(s.length>=6){nc(s,!1);const o=[];for(let h=0;h<i.length;h++){const c=i[h];nc(c.points,!0),o.push(s.length/2),s=s.concat(c.points)}const a=xl.exports(s,o,2);if(!a)return;const l=n.length/2;for(let h=0;h<a.length;h+=3)r.push(a[h]+l),r.push(a[h+1]+l),r.push(a[h+2]+l);for(let h=0;h<s.length;h++)n.push(s[h])}}},Br={build(t){const e=t.points;let s,i,n,r,o,a;if(t.type===qe.CIRC){const p=t.shape;s=p.x,i=p.y,o=a=p.radius,n=r=0}else if(t.type===qe.ELIP){const p=t.shape;s=p.x,i=p.y,o=p.width,a=p.height,n=r=0}else{const p=t.shape,m=p.width/2,y=p.height/2;s=p.x+m,i=p.y+y,o=a=Math.max(0,Math.min(p.radius,Math.min(m,y))),n=m-o,r=y-a}if(!(o>=0&&a>=0&&n>=0&&r>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),h=l*8+(n?4:0)+(r?4:0);if(e.length=h,h===0)return;if(l===0){e.length=8,e[0]=e[6]=s+n,e[1]=e[3]=i+r,e[2]=e[4]=s-n,e[5]=e[7]=i-r;return}let c=0,u=l*4+(n?2:0)+2,d=u,f=h;{const p=n+o,m=r,y=s+p,x=s-p,b=i+m;if(e[c++]=y,e[c++]=b,e[--u]=b,e[--u]=x,r){const g=i-m;e[d++]=x,e[d++]=g,e[--f]=g,e[--f]=y}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),y=n+Math.cos(m)*o,x=r+Math.sin(m)*a,b=s+y,g=s-y,_=i+x,T=i-x;e[c++]=b,e[c++]=_,e[--u]=_,e[--u]=g,e[d++]=g,e[d++]=T,e[--f]=T,e[--f]=b}{const p=n,m=r+a,y=s+p,x=s-p,b=i+m,g=i-m;e[c++]=y,e[c++]=b,e[--f]=g,e[--f]=y,n&&(e[c++]=x,e[c++]=b,e[--f]=g,e[--f]=x)}},triangulate(t,e){const s=t.points,i=e.points,n=e.indices;if(s.length===0)return;let r=i.length/2;const o=r;let a,l;if(t.type!==qe.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const h=t.matrix;i.push(t.matrix?h.a*a+h.c*l+h.tx:a,t.matrix?h.b*a+h.d*l+h.ty:l),r++,i.push(s[0],s[1]);for(let c=2;c<s.length;c+=2)i.push(s[c],s[c+1]),n.push(r++,o,r);n.push(o+1,o,r)}},Sb={build(t){const e=t.shape,s=e.x,i=e.y,n=e.width,r=e.height,o=t.points;o.length=0,n>=0&&r>=0&&o.push(s,i,s+n,i,s+n,i+r,s,i+r)},triangulate(t,e){const s=t.points,i=e.points;if(s.length===0)return;const n=i.length/2;i.push(s[0],s[1],s[2],s[3],s[6],s[7],s[4],s[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},Ab={build(t){Br.build(t)},triangulate(t,e){Br.triangulate(t,e)}};function rc(t,e,s,i,n,r,o,a){const l=t-s*n,h=e-i*n,c=t+s*r,u=e+i*r;let d,f;o?(d=i,f=-s):(d=-i,f=s);const p=l+d,m=h+f,y=c+d,x=u+f;return a.push(p,m),a.push(y,x),2}function Us(t,e,s,i,n,r,o,a){const l=s-t,h=i-e;let c=Math.atan2(l,h),u=Math.atan2(n-t,r-e);a&&c<u?c+=Math.PI*2:!a&&c>u&&(u+=Math.PI*2);let d=c;const f=u-c,p=Math.abs(f),m=Math.sqrt(l*l+h*h),y=(15*p*Math.sqrt(m)/Math.PI>>0)+1,x=f/y;if(d+=x,a){o.push(t,e),o.push(s,i);for(let b=1,g=d;b<y;b++,g+=x)o.push(t,e),o.push(t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e),o.push(n,r)}else{o.push(s,i),o.push(t,e);for(let b=1,g=d;b<y;b++,g+=x)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m),o.push(t,e);o.push(n,r),o.push(t,e)}return y*2}function Cb(t,e){const s=t.shape;let i=t.points||s.points.slice();const n=e.closePointEps;if(i.length===0)return;const r=t.lineStyle,o=new xe(i[0],i[1]),a=new xe(i[i.length-2],i[i.length-1]),l=s.type!==qe.POLY||s.closeStroke,h=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(l){i=i.slice(),h&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const L=(o.x+a.x)*.5,Z=(a.y+o.y)*.5;i.unshift(L,Z),i.push(L,Z)}const c=e.points,u=i.length/2;let d=i.length;const f=c.length/2,p=r.width/2,m=p*p,y=r.miterLimit*r.miterLimit;let x=i[0],b=i[1],g=i[2],_=i[3],T=0,k=0,I=-(b-_),E=x-g,G=0,C=0,A=Math.sqrt(I*I+E*E);I/=A,E/=A,I*=p,E*=p;const O=r.alignment,B=(1-O)*2,P=O*2;l||(r.cap===Js.ROUND?d+=Us(x-I*(B-P)*.5,b-E*(B-P)*.5,x-I*B,b-E*B,x+I*P,b+E*P,c,!0)+2:r.cap===Js.SQUARE&&(d+=rc(x,b,I,E,B,P,!0,c))),c.push(x-I*B,b-E*B),c.push(x+I*P,b+E*P);for(let L=1;L<u-1;++L){x=i[(L-1)*2],b=i[(L-1)*2+1],g=i[L*2],_=i[L*2+1],T=i[(L+1)*2],k=i[(L+1)*2+1],I=-(b-_),E=x-g,A=Math.sqrt(I*I+E*E),I/=A,E/=A,I*=p,E*=p,G=-(_-k),C=g-T,A=Math.sqrt(G*G+C*C),G/=A,C/=A,G*=p,C*=p;const Z=g-x,ue=b-_,F=g-T,J=k-_,re=Z*F+ue*J,me=ue*F-J*Z,be=me<0;if(Math.abs(me)<.001*Math.abs(re)){c.push(g-I*B,_-E*B),c.push(g+I*P,_+E*P),re>=0&&(r.join===_s.ROUND?d+=Us(g,_,g-I*B,_-E*B,g-G*B,_-C*B,c,!1)+4:d+=2,c.push(g-G*P,_-C*P),c.push(g+G*B,_+C*B));continue}const Le=(-I+x)*(-E+_)-(-I+g)*(-E+b),ve=(-G+T)*(-C+_)-(-G+g)*(-C+k),Ce=(Z*ve-F*Le)/me,Ge=(J*Le-ue*ve)/me,Me=(Ce-g)*(Ce-g)+(Ge-_)*(Ge-_),Be=g+(Ce-g)*B,Ee=_+(Ge-_)*B,v=g-(Ce-g)*P,w=_-(Ge-_)*P,S=Math.min(Z*Z+ue*ue,F*F+J*J),M=be?B:P,D=S+M*M*m;Me<=D?r.join===_s.BEVEL||Me/m>y?(be?(c.push(Be,Ee),c.push(g+I*P,_+E*P),c.push(Be,Ee),c.push(g+G*P,_+C*P)):(c.push(g-I*B,_-E*B),c.push(v,w),c.push(g-G*B,_-C*B),c.push(v,w)),d+=2):r.join===_s.ROUND?be?(c.push(Be,Ee),c.push(g+I*P,_+E*P),d+=Us(g,_,g+I*P,_+E*P,g+G*P,_+C*P,c,!0)+4,c.push(Be,Ee),c.push(g+G*P,_+C*P)):(c.push(g-I*B,_-E*B),c.push(v,w),d+=Us(g,_,g-I*B,_-E*B,g-G*B,_-C*B,c,!1)+4,c.push(g-G*B,_-C*B),c.push(v,w)):(c.push(Be,Ee),c.push(v,w)):(c.push(g-I*B,_-E*B),c.push(g+I*P,_+E*P),r.join===_s.ROUND?be?d+=Us(g,_,g+I*P,_+E*P,g+G*P,_+C*P,c,!0)+2:d+=Us(g,_,g-I*B,_-E*B,g-G*B,_-C*B,c,!1)+2:r.join===_s.MITER&&Me/m<=y&&(be?(c.push(v,w),c.push(v,w)):(c.push(Be,Ee),c.push(Be,Ee)),d+=2),c.push(g-G*B,_-C*B),c.push(g+G*P,_+C*P),d+=2)}x=i[(u-2)*2],b=i[(u-2)*2+1],g=i[(u-1)*2],_=i[(u-1)*2+1],I=-(b-_),E=x-g,A=Math.sqrt(I*I+E*E),I/=A,E/=A,I*=p,E*=p,c.push(g-I*B,_-E*B),c.push(g+I*P,_+E*P),l||(r.cap===Js.ROUND?d+=Us(g-I*(B-P)*.5,_-E*(B-P)*.5,g-I*B,_-E*B,g+I*P,_+E*P,c,!1)+2:r.cap===Js.SQUARE&&(d+=rc(g,_,I,E,B,P,!1,c)));const oe=e.indices,Q=gn.epsilon*gn.epsilon;for(let L=f;L<d+f-2;++L)x=c[L*2],b=c[L*2+1],g=c[(L+1)*2],_=c[(L+1)*2+1],T=c[(L+2)*2],k=c[(L+2)*2+1],!(Math.abs(x*(_-k)+g*(k-b)+T*(b-_))<Q)&&oe.push(L,L+1,L+2)}function Ib(t,e){let s=0;const i=t.shape,n=t.points||i.points,r=i.type!==qe.POLY||i.closeStroke;if(n.length===0)return;const o=e.points,a=e.indices,l=n.length/2,h=o.length/2;let c=h;for(o.push(n[0],n[1]),s=1;s<l;s++)o.push(n[s*2],n[s*2+1]),a.push(c,c+1),c++;r&&a.push(c,h)}function oc(t,e){t.lineStyle.native?Ib(t,e):Cb(t,e)}class ac{static curveTo(e,s,i,n,r,o){const a=o[o.length-2],h=o[o.length-1]-s,c=a-e,u=n-s,d=i-e,f=Math.abs(h*d-c*u);if(f<1e-8||r===0)return(o[o.length-2]!==e||o[o.length-1]!==s)&&o.push(e,s),null;const p=h*h+c*c,m=u*u+d*d,y=h*u+c*d,x=r*Math.sqrt(p)/f,b=r*Math.sqrt(m)/f,g=x*y/p,_=b*y/m,T=x*d+b*c,k=x*u+b*h,I=c*(b+g),E=h*(b+g),G=d*(x+_),C=u*(x+_),A=Math.atan2(E-k,I-T),O=Math.atan2(C-k,G-T);return{cx:T+e,cy:k+s,radius:r,startAngle:A,endAngle:O,anticlockwise:c*u>d*h}}static arc(e,s,i,n,r,o,a,l,h){const c=a-o,u=gn._segmentsCount(Math.abs(c)*r,Math.ceil(Math.abs(c)/Sr)*40),d=c/(u*2),f=d*2,p=Math.cos(d),m=Math.sin(d),y=u-1,x=y%1/y;for(let b=0;b<=y;++b){const g=b+x*b,_=d+o+f*g,T=Math.cos(_),k=-Math.sin(_);h.push((p*T+m*k)*r+i,(p*-k+m*T)*r+n)}}}class Sl{static curveLength(e,s,i,n,r,o,a,l){let c=0,u=0,d=0,f=0,p=0,m=0,y=0,x=0,b=0,g=0,_=0,T=e,k=s;for(let I=1;I<=10;++I)u=I/10,d=u*u,f=d*u,p=1-u,m=p*p,y=m*p,x=y*e+3*m*u*i+3*p*d*r+f*a,b=y*s+3*m*u*n+3*p*d*o+f*l,g=T-x,_=k-b,T=x,k=b,c+=Math.sqrt(g*g+_*_);return c}static curveTo(e,s,i,n,r,o,a){const l=a[a.length-2],h=a[a.length-1];a.length-=2;const c=gn._segmentsCount(Sl.curveLength(l,h,e,s,i,n,r,o));let u=0,d=0,f=0,p=0,m=0;a.push(l,h);for(let y=1,x=0;y<=c;++y)x=y/c,u=1-x,d=u*u,f=d*u,p=x*x,m=p*x,a.push(f*l+3*d*x*e+3*u*p*i+m*r,f*h+3*d*x*s+3*u*p*n+m*o)}}class Al{static curveLength(e,s,i,n,r,o){const a=e-2*i+r,l=s-2*n+o,h=2*i-2*e,c=2*n-2*s,u=4*(a*a+l*l),d=4*(a*h+l*c),f=h*h+c*c,p=2*Math.sqrt(u+d+f),m=Math.sqrt(u),y=2*u*m,x=2*Math.sqrt(f),b=d/m;return(y*p+m*d*(p-x)+(4*f*u-d*d)*Math.log((2*m+b+p)/(b+x)))/(4*y)}static curveTo(e,s,i,n,r){const o=r[r.length-2],a=r[r.length-1],l=gn._segmentsCount(Al.curveLength(o,a,e,s,i,n));let h=0,c=0;for(let u=1;u<=l;++u){const d=u/l;h=o+(e-o)*d,c=a+(s-a)*d,r.push(h+(e+(i-e)*d-h)*d,c+(s+(n-s)*d-c)*d)}}}class Pb{constructor(){this.reset()}begin(e,s,i){this.reset(),this.style=e,this.start=s,this.attribStart=i}end(e,s){this.attribSize=s-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}const Lo={[qe.POLY]:sf,[qe.CIRC]:Br,[qe.ELIP]:Br,[qe.RECT]:Sb,[qe.RREC]:Ab},lc=[],Kn=[];class Dr{constructor(e,s=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=s,this.matrix=n,this.type=e.type}clone(){return new Dr(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const fi=new xe,nf=class extends Wd{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Ir,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Kn.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),lc.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,s=null,i=null){const n=new Dr(t,e,s,i);return this.graphicsData.push(n),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const s=new Dr(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return s.lineStyle=i.lineStyle,i.holes.push(s),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let s=0;s<e.length;++s){const i=e[s];if(!!i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,fi):fi.copyFrom(t),i.shape.contains(fi.x,fi.y))){let n=!1;if(i.holes){for(let r=0;r<i.holes.length;r++)if(i.holes[r].shape.contains(fi.x,fi.y)){n=!0;break}}if(!n)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let s=null,i=null;this.batches.length>0&&(s=this.batches[this.batches.length-1],i=s.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],h=l.fillStyle,c=l.lineStyle;Lo[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(h.visible||c.visible)&&this.processHoles(l.holes);for(let d=0;d<2;d++){const f=d===0?h:c;if(!f.visible)continue;const p=f.texture.baseTexture,m=this.indices.length,y=this.points.length/2;p.wrapMode=As.REPEAT,d===0?this.processFill(l):this.processLine(l);const x=this.points.length/2-y;x!==0&&(s&&!this._compareStyles(i,f)&&(s.end(m,y),s=null),s||(s=lc.pop()||new Pb,s.begin(f,m,y),this.batches.push(s),i=f),this.addUvs(this.points,t,f.texture,y,x,f.matrix))}}const n=this.indices.length,r=this.points.length/2;if(s&&s.end(n,r),this.batches.length===0){this.batchable=!0;return}const o=r>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const s=this.graphicsData[t],i=s.fillStyle,n=s.lineStyle;if(i&&!i.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,s=t.length;e<s;e++){const i=t[e];for(let n=0;n<i.size;n++){const r=i.start+n;this.indicesUint16[r]=this.indicesUint16[r]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<nf.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++pe._globalBatch;for(let c=0;c<this.drawCalls.length;c++)this.drawCalls[c].texArray.clear(),Kn.push(this.drawCalls[c]);this.drawCalls.length=0;const e=this.colors,s=this.textureIds;let i=Kn.pop();i||(i=new Pa,i.texArray=new Ra),i.texArray.count=0,i.start=0,i.size=0,i.type=Yt.TRIANGLES;let n=0,r=null,o=0,a=!1,l=Yt.TRIANGLES,h=0;this.drawCalls.push(i);for(let c=0;c<this.batches.length;c++){const u=this.batches[c],d=8,f=u.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?Yt.LINES:Yt.TRIANGLES,r=null,n=d,t++),r!==p&&(r=p,p._batchEnabled!==t&&(n===d&&(t++,n=0,i.size>0&&(i=Kn.pop(),i||(i=new Pa,i.texArray=new Ra),this.drawCalls.push(i)),i.start=h,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=n,p.wrapMode=As.REPEAT,i.texArray.elements[i.texArray.count++]=p,n++)),i.size+=u.size,h+=u.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,u.attribSize,u.attribStart),this.addTextureIds(s,o,u.attribSize,u.attribStart)}pe._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,s=this.colors,i=this.textureIds,n=new ArrayBuffer(t.length*3*4),r=new Float32Array(n),o=new Uint32Array(n);let a=0;for(let l=0;l<t.length/2;l++)r[a++]=t[l*2],r[a++]=t[l*2+1],r[a++]=e[l*2],r[a++]=e[l*2+1],o[a++]=s[l],r[a++]=i[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?sf.triangulate(t,this):Lo[t.type].triangulate(t,this)}processLine(t){oc(t,this);for(let e=0;e<t.holes.length;e++)oc(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const s=t[e];Lo[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let s=0;s<t.length/2;s++){const i=t[s*2],n=t[s*2+1];t[s*2]=e.a*i+e.c*n+e.tx,t[s*2+1]=e.b*i+e.d*n+e.ty}}addColors(t,e,s,i,n=0){const r=(e>>16)+(e&65280)+((e&255)<<16),o=_l(r,s);t.length=Math.max(t.length,n+i);for(let a=0;a<i;a++)t[n+a]=o}addTextureIds(t,e,s,i=0){t.length=Math.max(t.length,i+s);for(let n=0;n<s;n++)t[i+n]=e}addUvs(t,e,s,i,n,r=null){let o=0;const a=e.length,l=s.frame;for(;o<n;){let c=t[(i+o)*2],u=t[(i+o)*2+1];if(r){const d=r.a*c+r.c*u+r.tx;u=r.b*c+r.d*u+r.ty,c=d}o++,e.push(c/l.width,u/l.height)}const h=s.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(e,s,a,n)}adjustUvs(t,e,s,i){const n=e.baseTexture,r=1e-6,o=s+i*2,a=e.frame,l=a.width/n.width,h=a.height/n.height;let c=a.x/a.width,u=a.y/a.height,d=Math.floor(t[s]+r),f=Math.floor(t[s+1]+r);for(let p=s+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+r)),f=Math.min(f,Math.floor(t[p+1]+r));c-=d,u-=f;for(let p=s;p<o;p+=2)t[p]=(t[p]+c)*l,t[p+1]=(t[p+1]+u)*h}};let rf=nf;rf.BATCHABLE_SIZE=100;class Cl extends eo{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Js.BUTT,this.join=_s.MITER,this.miterLimit=10}clone(){const e=new Cl;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Rb=new Float32Array(3),No={},fr=class extends _t{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new eo,this._lineStyle=new Cl,this._matrix=null,this._holeMode=!1,this.state=fs.for2d(),this._geometry=t||new rf,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=ne.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new fr(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,s=1,i=.5,n=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:s,alignment:i,native:n}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:U.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Js.BUTT,join:_s.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Si,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Si,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const s=this.currentPath.points,i=s[s.length-2],n=s[s.length-1];return(i!==t||n!==e)&&s.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,s,i){this._initCurve();const n=this.currentPath.points;return n.length===0&&this.moveTo(0,0),Al.curveTo(t,e,s,i,n),this}bezierCurveTo(t,e,s,i,n,r){return this._initCurve(),Sl.curveTo(t,e,s,i,n,r,this.currentPath.points),this}arcTo(t,e,s,i,n){this._initCurve(t,e);const r=this.currentPath.points,o=ac.curveTo(t,e,s,i,n,r);if(o){const{cx:a,cy:l,radius:h,startAngle:c,endAngle:u,anticlockwise:d}=o;this.arc(a,l,h,c,u,d)}return this}arc(t,e,s,i,n,r=!1){if(i===n)return this;if(!r&&n<=i?n+=Sr:r&&i<=n&&(i+=Sr),n-i===0)return this;const a=t+Math.cos(i)*s,l=e+Math.sin(i)*s,h=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const u=Math.abs(c[c.length-2]-a),d=Math.abs(c[c.length-1]-l);u<h&&d<h||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return ac.arc(a,l,t,e,s,i,n,r,c),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:U.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:U.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,s,i){return this.drawShape(new fe(t,e,s,i))}drawRoundedRect(t,e,s,i,n){return this.drawShape(new gl(t,e,s,i,n))}drawCircle(t,e,s){return this.drawShape(new pl(t,e,s))}drawEllipse(t,e,s,i){return this.drawShape(new ml(t,e,s,i))}drawPolygon(...t){let e,s=!0;const i=t[0];i.points?(s=i.closeStroke,e=i.points):Array.isArray(t[0])?e=t[0]:e=t;const n=new Si(e);return n.closeStroke=s,this.drawShape(n),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===qe.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,s=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=s,this.vertexData=new Float32Array(t.points);for(let i=0;i<s;i++){const n=t.batches[i],r=n.style.color,o=new Float32Array(this.vertexData.buffer,n.attribStart*4*2,n.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,n.attribStart*4*2,n.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,n.start*2,n.size),h={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:dn(r),_tintRGB:r,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}}_renderBatched(t){if(!!this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,s=this.batches.length;e<s;e++){const i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}}_renderDirect(t){const e=this._resolveDirectShader(t),s=this._geometry,i=this.tint,n=this.worldAlpha,r=e.uniforms,o=s.drawCalls;r.translationMatrix=this.transform.worldTransform,r.tint[0]=(i>>16&255)/255*n,r.tint[1]=(i>>8&255)/255*n,r.tint[2]=(i&255)/255*n,r.tint[3]=n,t.shader.bind(e),t.geometry.bind(s,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,s.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:s,type:i,size:n,start:r}=e,o=s.count;for(let a=0;a<o;a++)t.texture.bind(s.elements[a],a);t.geometry.draw(i,n,r)}_resolveDirectShader(t){let e=this.shader;const s=this.pluginName;if(!e){if(!No[s]){const{MAX_TEXTURES:i}=t.plugins[s],n=new Int32Array(i);for(let a=0;a<i;a++)n[a]=a;const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ke,default:Nt.from({uSamplers:n},!0)},o=t.plugins[s]._shader.program;No[s]=new qt(o,r)}e=No[s]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:s,maxX:i,maxY:n}=t.bounds;this._bounds.addFrame(this.transform,e,s,i,n)}containsPoint(t){return this.worldTransform.applyInverse(t,fr._TEMP_POINT),this._geometry.containsPoint(fr._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=dn(this.tint,Rb);for(let e=0;e<this.batches.length;e++){const s=this.batches[e],i=s._batchRGB,n=t[0]*i[0]*255,r=t[1]*i[1]*255,o=t[2]*i[2]*255,a=(n<<16)+(r<<8)+(o|0);s._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,s=e.a,i=e.b,n=e.c,r=e.d,o=e.tx,a=e.ty,l=this._geometry.points,h=this.vertexData;let c=0;for(let u=0;u<l.length;u+=2){const d=l[u],f=l[u+1];h[c++]=s*d+n*f+o,h[c++]=r*f+i*d+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let to=fr;to._TEMP_POINT=new xe;class Mb{constructor(e,s){this.uvBuffer=e,this.uvMatrix=s,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const s=this.uvBuffer.data;(!this.data||this.data.length!==s.length)&&(this.data=new Float32Array(s.length)),this.uvMatrix.multiplyUvs(s,this.data),this._updateID++}}const ko=new xe,hc=new Si,of=class extends _t{constructor(t,e,s,i=Yt.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=s||fs.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=j.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Yt.TRIANGLES&&e.length<of.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,s=this.shader;s.uvMatrix&&(s.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=s._tintRGB,this._texture=s.texture;const i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],s=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==s.length&&(this.vertexData=new Float32Array(s.length));const n=this.transform.worldTransform,r=n.a,o=n.b,a=n.c,l=n.d,h=n.tx,c=n.ty,u=this.vertexData;for(let d=0;d<u.length/2;d++){const f=s[d*2],p=s[d*2+1];u[d*2]=r*f+a*p+h,u[d*2+1]=o*f+l*p+c}if(this._roundPixels){const d=j.RESOLUTION;for(let f=0;f<u.length;++f)u[f]=Math.round(u[f]*d)/d}this.vertexDirty=i}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Mb(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,ko);const e=this.geometry.getBuffer("aVertexPosition").data,s=hc.points,i=this.geometry.getIndex().data,n=i.length,r=this.drawMode===4?3:1;for(let o=0;o+2<n;o+=r){const a=i[o]*2,l=i[o+1]*2,h=i[o+2]*2;if(s[0]=e[a],s[1]=e[a+1],s[2]=e[l],s[3]=e[l+1],s[4]=e[h],s[5]=e[h+1],hc.contains(ko.x,ko.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let La=of;La.BATCHABLE_SIZE=100;var Bb=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Db=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class cc extends qt{constructor(e,s){const i={uSampler:e,alpha:1,uTextureMatrix:ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};s=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},s),s.uniforms&&Object.assign(i,s.uniforms),super(s.program||as.from(Db,Bb),i),this._colorDirty=!1,this.uvMatrix=new Cd(e),this.batchable=s.program===void 0,this.pluginName=s.pluginName,this.tint=s.tint,this.alpha=s.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;ld(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Fb extends Ds{constructor(e,s,i){super();const n=new He(e),r=new He(s,!0),o=new He(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,ie.FLOAT).addAttribute("aTextureCoord",r,2,!1,ie.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class uc{constructor(e,s,i){this.geometry=new Ds,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let r=e[n];r={attributeName:r.attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||ie.FLOAT,offset:r.offset},s[n]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let s=0;this.indexBuffer=new He(Qx(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=s,s+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new He(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=n,n+=a.size,this.staticStride+=a.size}const r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new He(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ie.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ie.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,s,i){for(let n=0;n<this.dynamicProperties.length;n++){const r=this.dynamicProperties[n];r.uploadFunction(e,s,i,r.type===ie.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,s,i){for(let n=0;n<this.staticProperties.length;n++){const r=this.staticProperties[n];r.uploadFunction(e,s,i,r.type===ie.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Ob=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Lb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class af extends Zr{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ke,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ie.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=qt.from(Lb,Ob,{}),this.state=fs.for2d()}render(e){const s=e.children,i=e._maxSize,n=e._batchSize,r=this.renderer;let o=s.length;if(o===0)return;o>i&&!e.autoResize&&(o=i);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=s[0]._texture.baseTexture,h=l.alphaMode>0;this.state.blendMode=ad(e.blendMode,h),r.state.set(this.state);const c=r.gl,u=e.worldTransform.copyTo(this.tempMatrix);u.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=Jx(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,h),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let f=0,p=0;f<o;f+=n,p+=1){let m=o-f;m>n&&(m=n),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const y=a[p];y.uploadDynamic(s,f,m);const x=e._bufferUpdateIDs[p]||0;d=d||y._updateID<x,d&&(y._updateID=e._updateID,y.uploadStatic(s,f,m)),r.geometry.bind(y.geometry),c.drawElements(c.TRIANGLES,m*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const s=[],i=e._maxSize,n=e._batchSize,r=e._properties;for(let o=0;o<i;o+=n)s.push(new uc(this.properties,r,n));return s}_generateOneMoreBuffer(e){const s=e._batchSize,i=e._properties;return new uc(this.properties,i,s)}uploadVertices(e,s,i,n,r,o){let a=0,l=0,h=0,c=0;for(let u=0;u<i;++u){const d=e[s+u],f=d._texture,p=d.scale.x,m=d.scale.y,y=f.trim,x=f.orig;y?(l=y.x-d.anchor.x*x.width,a=l+y.width,c=y.y-d.anchor.y*x.height,h=c+y.height):(a=x.width*(1-d.anchor.x),l=x.width*-d.anchor.x,h=x.height*(1-d.anchor.y),c=x.height*-d.anchor.y),n[o]=l*p,n[o+1]=c*m,n[o+r]=a*p,n[o+r+1]=c*m,n[o+r*2]=a*p,n[o+r*2+1]=h*m,n[o+r*3]=l*p,n[o+r*3+1]=h*m,o+=r*4}}uploadPosition(e,s,i,n,r,o){for(let a=0;a<i;a++){const l=e[s+a].position;n[o]=l.x,n[o+1]=l.y,n[o+r]=l.x,n[o+r+1]=l.y,n[o+r*2]=l.x,n[o+r*2+1]=l.y,n[o+r*3]=l.x,n[o+r*3+1]=l.y,o+=r*4}}uploadRotation(e,s,i,n,r,o){for(let a=0;a<i;a++){const l=e[s+a].rotation;n[o]=l,n[o+r]=l,n[o+r*2]=l,n[o+r*3]=l,o+=r*4}}uploadUvs(e,s,i,n,r,o){for(let a=0;a<i;++a){const l=e[s+a]._texture._uvs;l?(n[o]=l.x0,n[o+1]=l.y0,n[o+r]=l.x1,n[o+r+1]=l.y1,n[o+r*2]=l.x2,n[o+r*2+1]=l.y2,n[o+r*3]=l.x3,n[o+r*3+1]=l.y3,o+=r*4):(n[o]=0,n[o+1]=0,n[o+r]=0,n[o+r+1]=0,n[o+r*2]=0,n[o+r*2+1]=0,n[o+r*3]=0,n[o+r*3+1]=0,o+=r*4)}}uploadTint(e,s,i,n,r,o){for(let a=0;a<i;++a){const l=e[s+a],h=l._texture.baseTexture.alphaMode>0,c=l.alpha,u=c<1&&h?_l(l._tintRGB,c):l._tintRGB+(c*255<<24);n[o]=u,n[o+r]=u,n[o+r*2]=u,n[o+r*3]=u,o+=r*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}af.extension={name:"particle",type:Y.RendererPlugin};ee.add(af);j.UPLOADS_PER_FRAME=4;var so=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(so||{});const Uo={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:so.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Nb=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];class Fs{constructor(e){this.styleID=0,this.reset(),zo(this,e,e)}clone(){const e={};return zo(e,this,Uo),new Fs(e)}reset(){zo(this,Uo,Uo)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const s=Go(e);this._dropShadowColor!==s&&(this._dropShadowColor=s,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const s=Go(e);this._fill!==s&&(this._fill=s,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){kb(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const s=Go(e);this._stroke!==s&&(this._stroke=s,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let s=this.fontFamily;Array.isArray(this.fontFamily)||(s=this.fontFamily.split(","));for(let i=s.length-1;i>=0;i--){let n=s[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!Nb.includes(n)&&(n=`"${n}"`),s[i]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${s.join(",")}`}}function dc(t){return typeof t=="number"?rd(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Go(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=dc(t[e]);return t}else return dc(t)}function kb(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let s=0;s<t.length;++s)if(t[s]!==e[s])return!1;return!0}function zo(t,e,s){for(const i in s)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const Zn={willReadFrequently:!0};class q{constructor(e,s,i,n,r,o,a,l,h){this.text=e,this.style=s,this.width=i,this.height=n,this.lines=r,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=h}static measureText(e,s,i,n=q._canvas){i=i==null?s.wordWrap:i;const r=s.toFontString(),o=q.measureFont(r);o.fontSize===0&&(o.fontSize=s.fontSize,o.ascent=s.fontSize);const a=n.getContext("2d",Zn);a.font=r;const h=(i?q.wordWrap(e,s,n):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let u=0;for(let m=0;m<h.length;m++){const y=a.measureText(h[m]).width+(h[m].length-1)*s.letterSpacing;c[m]=y,u=Math.max(u,y)}let d=u+s.strokeThickness;s.dropShadow&&(d+=s.dropShadowDistance);const f=s.lineHeight||o.fontSize+s.strokeThickness;let p=Math.max(f,o.fontSize+s.strokeThickness)+(h.length-1)*(f+s.leading);return s.dropShadow&&(p+=s.dropShadowDistance),new q(e,s,d,p,h,c,f+s.leading,u,o)}static wordWrap(e,s,i=q._canvas){const n=i.getContext("2d",Zn);let r=0,o="",a="";const l=Object.create(null),{letterSpacing:h,whiteSpace:c}=s,u=q.collapseSpaces(c),d=q.collapseNewlines(c);let f=!u;const p=s.wordWrapWidth+h,m=q.tokenize(e);for(let y=0;y<m.length;y++){let x=m[y];if(q.isNewline(x)){if(!d){a+=q.addLine(o),f=!u,o="",r=0;continue}x=" "}if(u){const g=q.isBreakingSpace(x),_=q.isBreakingSpace(o[o.length-1]);if(g&&_)continue}const b=q.getFromCache(x,h,l,n);if(b>p)if(o!==""&&(a+=q.addLine(o),o="",r=0),q.canBreakWords(x,s.breakWords)){const g=q.wordWrapSplit(x);for(let _=0;_<g.length;_++){let T=g[_],k=1;for(;g[_+k];){const E=g[_+k],G=T[T.length-1];if(q.canBreakChars(G,E,x,_,s.breakWords))break}_+=T.length-1;const I=q.getFromCache(T,h,l,n);I+r>p&&(a+=q.addLine(o),f=!1,o="",r=0),o+=T,r+=I}}else{o.length>0&&(a+=q.addLine(o),o="",r=0);const g=y===m.length-1;a+=q.addLine(x,!g),f=!1,o="",r=0}else b+r>p&&(f=!1,a+=q.addLine(o),o="",r=0),(o.length>0||!q.isBreakingSpace(x)||f)&&(o+=x,r+=b)}return a+=q.addLine(o,!1),a}static addLine(e,s=!0){return e=q.trimRight(e),e=s?`${e}
`:e,e}static getFromCache(e,s,i,n){let r=i[e];if(typeof r!="number"){const o=e.length*s;r=n.measureText(e).width+o,i[e]=r}return r}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let s=e.length-1;s>=0;s--){const i=e[s];if(!q.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:q._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,s){return typeof e!="string"?!1:q._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const s=[];let i="";if(typeof e!="string")return s;for(let n=0;n<e.length;n++){const r=e[n],o=e[n+1];if(q.isBreakingSpace(r,o)||q.isNewline(r)){i!==""&&(s.push(i),i=""),s.push(r);continue}i+=r}return i!==""&&s.push(i),s}static canBreakWords(e,s){return s}static canBreakChars(e,s,i,n,r){return!0}static wordWrapSplit(e){return e.split("")}static measureFont(e){if(q._fonts[e])return q._fonts[e];const s={ascent:0,descent:0,fontSize:0},i=q._canvas,n=q._context;n.font=e;const r=q.METRICS_STRING+q.BASELINE_SYMBOL,o=Math.ceil(n.measureText(r).width);let a=Math.ceil(n.measureText(q.BASELINE_SYMBOL).width);const l=Math.ceil(q.HEIGHT_MULTIPLIER*a);a=a*q.BASELINE_MULTIPLIER|0,i.width=o,i.height=l,n.fillStyle="#f00",n.fillRect(0,0,o,l),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,a);const h=n.getImageData(0,0,o,l).data,c=h.length,u=o*4;let d=0,f=0,p=!1;for(d=0;d<a;++d){for(let m=0;m<u;m+=4)if(h[f+m]!==255){p=!0;break}if(!p)f+=u;else break}for(s.ascent=a-d,f=c-u,p=!1,d=l;d>a;--d){for(let m=0;m<u;m+=4)if(h[f+m]!==255){p=!0;break}if(!p)f-=u;else break}return s.descent=d-a,s.fontSize=s.ascent+s.descent,q._fonts[e]=s,s}static clearMetrics(e=""){e?delete q._fonts[e]:q._fonts={}}static get _canvas(){if(!q.__canvas){let e;try{const s=new OffscreenCanvas(0,0),i=s.getContext("2d",Zn);if(i!=null&&i.measureText)return q.__canvas=s,s;e=j.ADAPTER.createCanvas()}catch{e=j.ADAPTER.createCanvas()}e.width=e.height=10,q.__canvas=e}return q.__canvas}static get _context(){return q.__context||(q.__context=q._canvas.getContext("2d",Zn)),q.__context}}q._fonts={};q.METRICS_STRING="|\xC9q\xC5";q.BASELINE_SYMBOL="M";q.BASELINE_MULTIPLIER=1.4;q.HEIGHT_MULTIPLIER=2;q._newlines=[10,13];q._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const Ub={texture:!0,children:!1,baseTexture:!0},lf=class extends Ie{constructor(t,e,s){let i=!1;s||(s=j.ADAPTER.createCanvas(),i=!0),s.width=3,s.height=3;const n=U.from(s);n.orig=new fe,n.trim=new fe,super(n),this._ownCanvas=i,this.canvas=s,this.context=s.getContext("2d",{willReadFrequently:!0}),this._resolution=j.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const s=this.context,i=q.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),n=i.width,r=i.height,o=i.lines,a=i.lineHeight,l=i.lineWidths,h=i.maxLineWidth,c=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,n)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,r)+e.padding*2)*this._resolution),s.scale(this._resolution,this._resolution),s.clearRect(0,0,this.canvas.width,this.canvas.height),s.font=this._font,s.lineWidth=e.strokeThickness,s.textBaseline=e.textBaseline,s.lineJoin=e.lineJoin,s.miterLimit=e.miterLimit;let u,d;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const m=e.dropShadow&&p===0,y=m?Math.ceil(Math.max(1,r)+e.padding*2):0,x=y*this._resolution;if(m){s.fillStyle="black",s.strokeStyle="black";const g=e.dropShadowColor,_=dn(typeof g=="number"?g:vl(g)),T=e.dropShadowBlur*this._resolution,k=e.dropShadowDistance*this._resolution;s.shadowColor=`rgba(${_[0]*255},${_[1]*255},${_[2]*255},${e.dropShadowAlpha})`,s.shadowBlur=T,s.shadowOffsetX=Math.cos(e.dropShadowAngle)*k,s.shadowOffsetY=Math.sin(e.dropShadowAngle)*k+x}else s.fillStyle=this._generateFillStyle(e,o,i),s.strokeStyle=e.stroke,s.shadowColor="black",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0;let b=(a-c.fontSize)/2;a-c.fontSize<0&&(b=0);for(let g=0;g<o.length;g++)u=e.strokeThickness/2,d=e.strokeThickness/2+g*a+c.ascent+b,e.align==="right"?u+=h-l[g]:e.align==="center"&&(u+=(h-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],u+e.padding,d+e.padding-y,!0),e.fill&&this.drawLetterSpacing(o[g],u+e.padding,d+e.padding-y)}this.updateTexture()}drawLetterSpacing(t,e,s,i=!1){const r=this._style.letterSpacing,o=lf.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(r===0||o){o&&(this.context.letterSpacing=r,this.context.textLetterSpacing=r),i?this.context.strokeText(t,e,s):this.context.fillText(t,e,s);return}let a=e;const l=Array.from?Array.from(t):t.split("");let h=this.context.measureText(t).width,c=0;for(let u=0;u<l.length;++u){const d=l[u];i?this.context.strokeText(d,a,s):this.context.fillText(d,a,s);let f="";for(let p=u+1;p<l.length;++p)f+=l[p];c=this.context.measureText(f).width,a+=h-c+r,h=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const r=tv(t);r.data&&(t.width=r.width,t.height=r.height,this.context.putImageData(r.data,0,0))}const e=this._texture,s=this._style,i=s.trim?0:s.padding,n=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),n.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,s){const i=t.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let n;const r=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-r-o*2,l=this.canvas.height/this._resolution-r-o*2,h=i.slice(),c=t.fillGradientStops.slice();if(!c.length){const u=h.length+1;for(let d=1;d<u;++d)c.push(d/u)}if(h.unshift(i[0]),c.unshift(0),h.push(i[i.length-1]),c.push(1),t.fillGradientType===so.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,o,a/2,l+o);const u=s.fontProperties.fontSize+t.strokeThickness;for(let d=0;d<e.length;d++){const f=s.lineHeight*(d-1)+u,p=s.lineHeight*d;let m=p;d>0&&f>p&&(m=(p+f)/2);const y=p+u,x=s.lineHeight*(d+1);let b=y;d+1<e.length&&x<y&&(b=(y+x)/2);const g=(b-m)/l;for(let _=0;_<h.length;_++){let T=0;typeof c[_]=="number"?T=c[_]:T=_/h.length;let k=Math.min(1,Math.max(0,m/l+T*g));k=Number(k.toFixed(5)),n.addColorStop(k,h[_])}}}else{n=this.context.createLinearGradient(o,l/2,a+o,l/2);const u=h.length+1;let d=1;for(let f=0;f<h.length;f++){let p;typeof c[f]=="number"?p=c[f]:p=d/u,n.addColorStop(p,h[f]),d++}}return n}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Ub,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=xi(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=xi(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Fs?this._style=t:this._style=new Fs(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Il=lf;Il.experimentalLetterSpacing=!1;class Gb{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function zb(t,e){var i;let s=!1;if((i=t==null?void 0:t._textures)!=null&&i.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof U){const r=t._textures[n].baseTexture;e.includes(r)||(e.push(r),s=!0)}}return s}function Hb(t,e){if(t.baseTexture instanceof pe){const s=t.baseTexture;return e.includes(s)||e.push(s),!0}return!1}function jb(t,e){if(t._texture&&t._texture instanceof U){const s=t._texture.baseTexture;return e.includes(s)||e.push(s),!0}return!1}function Xb(t,e){return e instanceof Il?(e.updateText(!0),!0):!1}function Vb(t,e){if(e instanceof Fs){const s=e.toFontString();return q.measureFont(s),!0}return!1}function Wb(t,e){if(t instanceof Il){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const s=t._texture.baseTexture;return e.includes(s)||e.push(s),!0}return!1}function Yb(t,e){return t instanceof Fs?(e.includes(t)||e.push(t),!0):!1}class $b{constructor(e){this.limiter=new Gb(j.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{!this.queue||this.prepareItems()},this.registerFindHook(Wb),this.registerFindHook(Yb),this.registerFindHook(zb),this.registerFindHook(Hb),this.registerFindHook(jb),this.registerUploadHook(Xb),this.registerUploadHook(Vb)}upload(e){return new Promise(s=>{e&&this.add(e),this.queue.length?(this.completes.push(s),this.ticking||(this.ticking=!0,Re.system.addOnce(this.tick,this,ii.UTILITY))):s()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let s=!1;if(e&&!e._destroyed){for(let i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),s=!0;break}}s||this.queue.shift()}if(this.queue.length)Re.system.addOnce(this.tick,this,ii.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let s=0,i=e.length;s<i;s++)e[s]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let s=0,i=this.addHooks.length;s<i&&!this.addHooks[s](e,this.queue);s++);if(e instanceof _t)for(let s=e.children.length-1;s>=0;s--)this.add(e.children[s]);return this}destroy(){this.ticking&&Re.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}}function hf(t,e){return e instanceof pe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function qb(t,e){if(!(e instanceof to))return!1;const{geometry:s}=e;e.finishPoly(),s.updateBatches();const{batches:i}=s;for(let n=0;n<i.length;n++){const{texture:r}=i[n].style;r&&hf(t,r.baseTexture)}return s.batchable||t.geometry.bind(s,e._resolveDirectShader(t)),!0}function Kb(t,e){return t instanceof to?(e.push(t),!0):!1}class cf extends $b{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Kb),this.registerUploadHook(hf),this.registerUploadHook(qb)}}cf.extension={name:"prepare",type:Y.RendererSystem};ee.add(cf);const Ki=class{constructor(t,e,s=null){this.linkedSheets=[],this._texture=t instanceof U?t:null,this.baseTexture=t instanceof pe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const i=this.baseTexture.resource;this.resolution=this._updateResolution(s||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let s=Rs(t,null);return s===null&&(s=parseFloat(e!=null?e:"1")),s!==1&&this.baseTexture.setResolution(s),s}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ki.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const s=Ki.BATCH_SIZE;for(;e-t<s&&e<this._frameKeys.length;){const i=this._frameKeys[e],n=this._frames[i],r=n.frame;if(r){let o=null,a=null;const l=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,h=new fe(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);n.rotated?o=new fe(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.h)/this.resolution,Math.floor(r.w)/this.resolution):o=new fe(Math.floor(r.x)/this.resolution,Math.floor(r.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(a=new fe(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution)),this.textures[i]=new U(this.baseTexture,o,h,a,n.rotated?2:0,n.anchor),U.addToCache(this.textures[i],i)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let s=0;s<t[e].length;s++){const i=t[e][s];this.animations[e].push(this.textures[i])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ki.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ki.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let it=Ki;it.BATCH_SIZE=1e3;const Zb=["jpg","png","jpeg","avif","webp"];function uf(t,e,s){const i={};if(t.forEach(n=>{i[n]=e}),Object.keys(e.textures).forEach(n=>{i[n]=e.textures[n]}),!s){const n=Ke.dirname(t[0]);e.linkedSheets.forEach((r,o)=>{const a=uf([`${n}/${e.data.meta.related_multi_packs[o]}`],r,!0);Object.assign(i,a)})}return i}const Jb={extension:Y.Asset,cache:{test:t=>t instanceof it,getCacheableAssets:(t,e)=>uf(t,e,!1)},resolver:{test:t=>{const s=t.split("?")[0].split("."),i=s.pop(),n=s.pop();return i==="json"&&Zb.includes(n)},parse:t=>{var s,i;const e=t.split(".");return{resolution:parseFloat((i=(s=j.RETINA_PREFIX.exec(t))==null?void 0:s[1])!=null?i:"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:Y.LoadParser,priority:Zt.Normal},async testParse(t,e){return Ke.extname(e.src).includes(".json")&&!!t.frames},async parse(t,e,s){var h,c;let i=Ke.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");const n=i+t.meta.image,o=(await s.load([n]))[n],a=new it(o.baseTexture,t,e.src);await a.parse();const l=(h=t==null?void 0:t.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(l)){const u=[];for(const f of l){if(typeof f!="string")continue;const p=i+f;(c=e.data)!=null&&c.ignoreMultiPack||u.push(s.load({src:p,data:{ignoreMultiPack:!0}}))}const d=await Promise.all(u);a.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==f))})}return a},unload(t){t.destroy(!0)}}};ee.add(Jb);class nt extends Ie{constructor(e,s=!0){super(e[0]instanceof U?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=s,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Re.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Re.shared.add(this.update,this,ii.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const s=this.animationSpeed*e,i=this.currentFrame;if(this._durations!==null){let n=this._currentTime%1*this._durations[this.currentFrame];for(n+=s/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];const r=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=s;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const s=[];for(let i=0;i<e.length;++i)s.push(U.from(e[i]));return new nt(s)}static fromImages(e){const s=[];for(let i=0;i<e.length;++i)s.push(U.from(e[i]));return new nt(s)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof U)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let s=0;s<e.length;s++)this._textures.push(e[s].texture),this._durations.push(e[s].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const s=this.currentFrame;this._currentTime=e,s!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Re.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Re.shared.add(this.update,this),this._isConnectedToTicker=!0))}}new xe;var Qb=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,fc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,ew=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,tw=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,sw=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`;const Jn=new ke;class df extends Zr{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new yd,this.state=fs.for2d()}contextChange(){const e=this.renderer,s={globals:e.globalUniforms};this.simpleShader=qt.from(fc,Qb,s),this.shader=e.context.webGLVersion>1?qt.from(tw,sw,s):qt.from(fc,ew,s)}render(e){const s=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const r=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-r,n[1]=n[3]=-o,n[2]=n[4]=1-r,n[5]=n[7]=1-o,i.invalidate();const a=e._texture,l=a.baseTexture,h=l.alphaMode>0,c=e.tileTransform.localTransform,u=e.uvMatrix;let d=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;d&&(l._glTextures[s.CONTEXT_UID]?d=l.wrapMode!==As.CLAMP:l.wrapMode===As.CLAMP&&(l.wrapMode=As.REPEAT));const f=d?this.simpleShader:this.shader,p=a.width,m=a.height,y=e._width,x=e._height;Jn.set(c.a*p/y,c.b*p/x,c.c*m/y,c.d*m/x,c.tx/y,c.ty/x),Jn.invert(),d?Jn.prepend(u.mapCoord):(f.uniforms.uMapCoord=u.mapCoord.toArray(!0),f.uniforms.uClampFrame=u.uClampFrame,f.uniforms.uClampOffset=u.uClampOffset),f.uniforms.uTransform=Jn.toArray(!0),f.uniforms.uColor=ld(e.tint,e.worldAlpha,f.uniforms.uColor,h),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,s.shader.bind(f),s.geometry.bind(i),this.state.blendMode=ad(e.blendMode,h),s.state.set(this.state),s.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}df.extension={name:"tilingSprite",type:Y.RendererPlugin};ee.add(df);class Fr{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class pr{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const s=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const r in s){const o=s[r].match(/^[a-z]+/gm)[0],a=s[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const h in a){const c=a[h].split("="),u=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),p=isNaN(f)?d:f;l[u]=p}i[o].push(l)}const n=new Fr;return i.info.forEach(r=>n.info.push({face:r.face,size:parseInt(r.size,10)})),i.common.forEach(r=>n.common.push({lineHeight:parseInt(r.lineHeight,10)})),i.page.forEach(r=>n.page.push({id:parseInt(r.id,10),file:r.file})),i.char.forEach(r=>n.char.push({id:parseInt(r.id,10),page:parseInt(r.page,10),x:parseInt(r.x,10),y:parseInt(r.y,10),width:parseInt(r.width,10),height:parseInt(r.height,10),xoffset:parseInt(r.xoffset,10),yoffset:parseInt(r.yoffset,10),xadvance:parseInt(r.xadvance,10)})),i.kerning.forEach(r=>n.kerning.push({first:parseInt(r.first,10),second:parseInt(r.second,10),amount:parseInt(r.amount,10)})),i.distanceField.forEach(r=>n.distanceField.push({distanceRange:parseInt(r.distanceRange,10),fieldType:r.fieldType})),n}}class Na{static test(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const s=new Fr,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),r=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let h=0;h<i.length;h++)s.info.push({face:i[h].getAttribute("face"),size:parseInt(i[h].getAttribute("size"),10)});for(let h=0;h<n.length;h++)s.common.push({lineHeight:parseInt(n[h].getAttribute("lineHeight"),10)});for(let h=0;h<r.length;h++)s.page.push({id:parseInt(r[h].getAttribute("id"),10)||0,file:r[h].getAttribute("file")});for(let h=0;h<o.length;h++){const c=o[h];s.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let h=0;h<a.length;h++)s.kerning.push({first:parseInt(a[h].getAttribute("first"),10),second:parseInt(a[h].getAttribute("second"),10),amount:parseInt(a[h].getAttribute("amount"),10)});for(let h=0;h<l.length;h++)s.distanceField.push({fieldType:l[h].getAttribute("fieldType"),distanceRange:parseInt(l[h].getAttribute("distanceRange"),10)});return s}}class ka{static test(e){if(typeof e=="string"&&e.includes("<font>")){const s=new globalThis.DOMParser().parseFromString(e,"text/xml");return Na.test(s)}return!1}static parse(e){const s=new globalThis.DOMParser().parseFromString(e,"text/xml");return Na.parse(s)}}const Ho=[pr,Na,ka];function iw(t){for(let e=0;e<Ho.length;e++)if(Ho[e].test(t))return Ho[e];return null}function nw(t,e,s,i,n,r){const o=s.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=s.dropShadow?s.dropShadowDistance:0,h=s.padding||0,c=t.width/i-l-h*2,u=t.height/i-l-h*2,d=o.slice(),f=s.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),s.fillGradientType===so.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,h,c/2,u+h);let p=0;const y=(r.fontProperties.fontSize+s.strokeThickness)/u;for(let x=0;x<n.length;x++){const b=r.lineHeight*x;for(let g=0;g<d.length;g++){let _=0;typeof f[g]=="number"?_=f[g]:_=g/d.length;const T=b/u+_*y;let k=Math.max(p,T);k=Math.min(k,1),a.addColorStop(k,d[g]),p=k}}}else{a=e.createLinearGradient(h,u/2,c+h,u/2);const p=d.length+1;let m=1;for(let y=0;y<d.length;y++){let x;typeof f[y]=="number"?x=f[y]:x=m/p,a.addColorStop(x,d[y]),m++}}return a}function rw(t,e,s,i,n,r,o){const a=s.text,l=s.fontProperties;e.translate(i,n),e.scale(r,r);const h=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=nw(t,e,o,r,[a],s),e.strokeStyle=o.stroke,o.dropShadow){const u=o.dropShadowColor,d=dn(typeof u=="number"?u:vl(u)),f=o.dropShadowBlur*r,p=o.dropShadowDistance*r;e.shadowColor=`rgba(${d[0]*255},${d[1]*255},${d[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,h,c+s.lineHeight-l.descent),o.fill&&e.fillText(a,h,c+s.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ff(t){return Array.from?Array.from(t):t.split("")}function ow(t){typeof t=="string"&&(t=[t]);const e=[];for(let s=0,i=t.length;s<i;s++){const n=t[s];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const r=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<r)throw new Error("[BitmapFont]: Invalid character range.");for(let a=r,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...ff(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function mr(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}const Ct=class{constructor(t,e,s){var h,c;const[i]=t.info,[n]=t.common,[r]=t.page,[o]=t.distanceField,a=Rs(r.file),l={};this._ownsTextures=s,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/a,this.chars={},this.pageTextures=l;for(let u=0;u<t.page.length;u++){const{id:d,file:f}=t.page[u];l[d]=e instanceof Array?e[u]:e[f],(o==null?void 0:o.fieldType)&&o.fieldType!=="none"&&(l[d].baseTexture.alphaMode=kt.NO_PREMULTIPLIED_ALPHA,l[d].baseTexture.mipmap=Kt.OFF)}for(let u=0;u<t.char.length;u++){const{id:d,page:f}=t.char[u];let{x:p,y:m,width:y,height:x,xoffset:b,yoffset:g,xadvance:_}=t.char[u];p/=a,m/=a,y/=a,x/=a,b/=a,g/=a,_/=a;const T=new fe(p+l[f].frame.x/a,m+l[f].frame.y/a,y,x);this.chars[d]={xOffset:b,yOffset:g,xAdvance:_,kerning:{},texture:new U(l[f].baseTexture,T),page:f}}for(let u=0;u<t.kerning.length;u++){let{first:d,second:f,amount:p}=t.kerning[u];d/=a,f/=a,p/=a,this.chars[f]&&(this.chars[f].kerning[d]=p)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=(c=(h=o==null?void 0:o.fieldType)==null?void 0:h.toLowerCase())!=null?c:"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,s){let i;if(t instanceof Fr)i=t;else{const r=iw(t);if(!r)throw new Error("Unrecognized data format for font.");i=r.parse(t)}e instanceof U&&(e=[e]);const n=new Ct(i,e,s);return Ct.available[n.font]=n,n}static uninstall(t){const e=Ct.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Ct.available[t]}static from(t,e,s){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:n,resolution:r,textureWidth:o,textureHeight:a,...l}=Object.assign({},Ct.defaultOptions,s),h=ow(i),c=e instanceof Fs?e:new Fs(e),u=o,d=new Fr;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};let f=0,p=0,m,y,x,b=0;const g=[];for(let T=0;T<h.length;T++){m||(m=j.ADAPTER.createCanvas(),m.width=o,m.height=a,y=m.getContext("2d"),x=new pe(m,{resolution:r,...l}),g.push(new U(x)),d.page.push({id:g.length-1,file:""}));const k=h[T],I=q.measureText(k,c,!1,m),E=I.width,G=Math.ceil(I.height),C=Math.ceil((c.fontStyle==="italic"?2:1)*E);if(p>=a-G*r){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${k}')`);--T,m=null,y=null,x=null,p=0,f=0,b=0;continue}if(b=Math.max(G+I.fontProperties.descent,b),C*r+f>=u){if(f===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${c.fontFamily}', fontSize: ${c.fontSize}px, char: '${k}')`);--T,p+=b*r,p=Math.ceil(p),f=0,b=0;continue}rw(m,y,I,f,p,r,c);const A=mr(I.text);d.char.push({id:A,page:g.length-1,x:f/r,y:p/r,width:C,height:G,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),f+=(C+2*n)*r,f=Math.ceil(f)}for(let T=0,k=h.length;T<k;T++){const I=h[T];for(let E=0;E<k;E++){const G=h[E],C=y.measureText(I).width,A=y.measureText(G).width,B=y.measureText(I+G).width-(C+A);B&&d.kerning.push({first:mr(I),second:mr(G),amount:B})}}const _=new Ct(d,g,!0);return Ct.available[t]!==void 0&&Ct.uninstall(t),Ct.available[t]=_,_}};let lt=Ct;lt.ALPHA=[["a","z"],["A","Z"]," "];lt.NUMERIC=[["0","9"]];lt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];lt.ASCII=[[" ","~"]];lt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Ct.ALPHANUMERIC};lt.available={};var aw=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,lw=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const pc=[],mc=[],gc=[],pf=class extends _t{constructor(t,e={}){super(),this._tint=16777215;const{align:s,tint:i,maxWidth:n,letterSpacing:r,fontName:o,fontSize:a}=Object.assign({},pf.styleDefaults,e);if(!lt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=s,this._tint=i,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=n,this._maxLineHeight=0,this._letterSpacing=r,this._anchor=new bs(()=>{this.dirty=!0},this,0,0),this._roundPixels=j.ROUND_PIXELS,this.dirty=!0,this._resolution=j.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var C;const t=lt.available[this._fontName],e=this.fontSize,s=e/t.size,i=new xe,n=[],r=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=ff(a),h=this._maxWidth*t.size/e,c=t.distanceFieldType==="none"?pc:mc;let u=null,d=0,f=0,p=0,m=-1,y=0,x=0,b=0,g=0;for(let A=0;A<l.length;A++){const O=l[A],B=mr(O);if(/(?:\s)/.test(O)&&(m=A,y=d,g++),O==="\r"||O===`
`){r.push(d),o.push(-1),f=Math.max(f,d),++p,++x,i.x=0,i.y+=t.lineHeight,u=null,g=0;continue}const P=t.chars[B];if(!P)continue;u&&P.kerning[u]&&(i.x+=P.kerning[u]);const oe=gc.pop()||{texture:U.EMPTY,line:0,charCode:0,prevSpaces:0,position:new xe};oe.texture=P.texture,oe.line=p,oe.charCode=B,oe.position.x=i.x+P.xOffset+this._letterSpacing/2,oe.position.y=i.y+P.yOffset,oe.prevSpaces=g,n.push(oe),d=oe.position.x+Math.max(P.xAdvance-P.xOffset,P.texture.orig.width),i.x+=P.xAdvance+this._letterSpacing,b=Math.max(b,P.yOffset+P.texture.height),u=B,m!==-1&&h>0&&i.x>h&&(++x,Ci(n,1+m-x,1+A-m),A=m,m=-1,r.push(y),o.push(n.length>0?n[n.length-1].prevSpaces:0),f=Math.max(f,y),p++,i.x=0,i.y+=t.lineHeight,u=null,g=0)}const _=l[l.length-1];_!=="\r"&&_!==`
`&&(/(?:\s)/.test(_)&&(d=y),r.push(d),f=Math.max(f,d),o.push(-1));const T=[];for(let A=0;A<=p;A++){let O=0;this._align==="right"?O=f-r[A]:this._align==="center"?O=(f-r[A])/2:this._align==="justify"&&(O=o[A]<0?0:(f-r[A])/o[A]),T.push(O)}const k=n.length,I={},E=[],G=this._activePagesMeshData;c.push(...G);for(let A=0;A<k;A++){const O=n[A].texture,B=O.baseTexture.uid;if(!I[B]){let P=c.pop();if(!P){const Q=new Fb;let L,Z;t.distanceFieldType==="none"?(L=new cc(U.EMPTY),Z=ne.NORMAL):(L=new cc(U.EMPTY,{program:as.from(lw,aw),uniforms:{uFWidth:0}}),Z=ne.NORMAL_NPM);const ue=new La(Q,L);ue.blendMode=Z,P={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ue,vertices:null,uvs:null,indices:null}}P.index=0,P.indexCount=0,P.vertexCount=0,P.uvsCount=0,P.total=0;const{_textureCache:oe}=this;oe[B]=oe[B]||new U(O.baseTexture),P.mesh.texture=oe[B],P.mesh.tint=this._tint,E.push(P),I[B]=P}I[B].total++}for(let A=0;A<G.length;A++)E.includes(G[A])||this.removeChild(G[A].mesh);for(let A=0;A<E.length;A++)E[A].mesh.parent!==this&&this.addChild(E[A].mesh);this._activePagesMeshData=E;for(const A in I){const O=I[A],B=O.total;if(!(((C=O.indices)==null?void 0:C.length)>6*B)||O.vertices.length<La.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*B),O.uvs=new Float32Array(4*2*B),O.indices=new Uint16Array(6*B);else{const P=O.total,oe=O.vertices;for(let Q=P*4*2;Q<oe.length;Q++)oe[Q]=0}O.mesh.size=6*B}for(let A=0;A<k;A++){const O=n[A];let B=O.position.x+T[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(B=Math.round(B));const P=B*s,oe=O.position.y*s,Q=O.texture,L=I[Q.baseTexture.uid],Z=Q.frame,ue=Q._uvs,F=L.index++;L.indices[F*6+0]=0+F*4,L.indices[F*6+1]=1+F*4,L.indices[F*6+2]=2+F*4,L.indices[F*6+3]=0+F*4,L.indices[F*6+4]=2+F*4,L.indices[F*6+5]=3+F*4,L.vertices[F*8+0]=P,L.vertices[F*8+1]=oe,L.vertices[F*8+2]=P+Z.width*s,L.vertices[F*8+3]=oe,L.vertices[F*8+4]=P+Z.width*s,L.vertices[F*8+5]=oe+Z.height*s,L.vertices[F*8+6]=P,L.vertices[F*8+7]=oe+Z.height*s,L.uvs[F*8+0]=ue.x0,L.uvs[F*8+1]=ue.y0,L.uvs[F*8+2]=ue.x1,L.uvs[F*8+3]=ue.y1,L.uvs[F*8+4]=ue.x2,L.uvs[F*8+5]=ue.y2,L.uvs[F*8+6]=ue.x3,L.uvs[F*8+7]=ue.y3}this._textWidth=f*s,this._textHeight=(i.y+t.lineHeight)*s;for(const A in I){const O=I[A];if(this.anchor.x!==0||this.anchor.y!==0){let Q=0;const L=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y;for(let ue=0;ue<O.total;ue++)O.vertices[Q++]-=L,O.vertices[Q++]-=Z,O.vertices[Q++]-=L,O.vertices[Q++]-=Z,O.vertices[Q++]-=L,O.vertices[Q++]-=Z,O.vertices[Q++]-=L,O.vertices[Q++]-=Z}this._maxLineHeight=b*s;const B=O.mesh.geometry.getBuffer("aVertexPosition"),P=O.mesh.geometry.getBuffer("aTextureCoord"),oe=O.mesh.geometry.getIndex();B.data=O.vertices,P.data=O.uvs,oe.data=O.indices,B.update(),P.update(),oe.update()}for(let A=0;A<n.length;A++)gc.push(n[A]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:s,size:i}=lt.available[this._fontName];if(s!=="none"){const{a:n,b:r,c:o,d:a}=this.worldTransform,l=Math.sqrt(n*n+r*r),h=Math.sqrt(o*o+a*a),c=(Math.abs(l)+Math.abs(h))/2,u=this.fontSize/i,d=t._view.resolution;for(const f of this._activePagesMeshData)f.mesh.shader.uniforms.uFWidth=c*e*u*d}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=lt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!lt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){var t;return(t=this._fontSize)!=null?t:lt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i=lt.available[this._fontName].distanceFieldType==="none"?pc:mc;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=U.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._textureCache=null,super.destroy(t)}};let hw=pf;hw.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const cw=[".xml",".fnt"],uw={extension:{type:Y.LoadParser,priority:Zt.Normal},test(t){return cw.includes(Ke.extname(t))},async testParse(t){return pr.test(t)||ka.test(t)},async parse(t,e,s){const i=pr.test(t)?pr.parse(t):ka.parse(t),{src:n}=e,{page:r}=i,o=[];for(let h=0;h<r.length;++h){const c=r[h].file,u=Ke.join(Ke.dirname(n),c);o.push(u)}const a=await s.load(o),l=o.map(h=>a[h]);return lt.install(i,l,!0)},async load(t,e){return(await j.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ee.add(uw);function mf(t,e){return function(){return t.apply(e,arguments)}}const{toString:gf}=Object.prototype,{getPrototypeOf:Pl}=Object,Rl=(t=>e=>{const s=gf.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ps=t=>(t=t.toLowerCase(),e=>Rl(e)===t),io=t=>e=>typeof e===t,{isArray:Li}=Array,yn=io("undefined");function dw(t){return t!==null&&!yn(t)&&t.constructor!==null&&!yn(t.constructor)&&oi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const yf=ps("ArrayBuffer");function fw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&yf(t.buffer),e}const pw=io("string"),oi=io("function"),xf=io("number"),Ml=t=>t!==null&&typeof t=="object",mw=t=>t===!0||t===!1,gr=t=>{if(Rl(t)!=="object")return!1;const e=Pl(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gw=ps("Date"),yw=ps("File"),xw=ps("Blob"),vw=ps("FileList"),_w=t=>Ml(t)&&oi(t.pipe),bw=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||gf.call(t)===e||oi(t.toString)&&t.toString()===e)},ww=ps("URLSearchParams"),Ew=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tn(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let i,n;if(typeof t!="object"&&(t=[t]),Li(t))for(i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else{const r=s?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,t[a],a,t)}}function vf(t,e){e=e.toLowerCase();const s=Object.keys(t);let i=s.length,n;for(;i-- >0;)if(n=s[i],e===n.toLowerCase())return n;return null}const _f=typeof self>"u"?typeof global>"u"?globalThis:global:self,bf=t=>!yn(t)&&t!==_f;function Ua(){const{caseless:t}=bf(this)&&this||{},e={},s=(i,n)=>{const r=t&&vf(e,n)||n;gr(e[r])&&gr(i)?e[r]=Ua(e[r],i):gr(i)?e[r]=Ua({},i):Li(i)?e[r]=i.slice():e[r]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&Tn(arguments[i],s);return e}const Tw=(t,e,s,{allOwnKeys:i}={})=>(Tn(e,(n,r)=>{s&&oi(n)?t[r]=mf(n,s):t[r]=n},{allOwnKeys:i}),t),Sw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Aw=(t,e,s,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Cw=(t,e,s,i)=>{let n,r,o;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),r=n.length;r-- >0;)o=n[r],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=s!==!1&&Pl(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Iw=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const i=t.indexOf(e,s);return i!==-1&&i===s},Pw=t=>{if(!t)return null;if(Li(t))return t;let e=t.length;if(!xf(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Rw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Pl(Uint8Array)),Mw=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=i.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},Bw=(t,e)=>{let s;const i=[];for(;(s=t.exec(e))!==null;)i.push(s);return i},Dw=ps("HTMLFormElement"),Fw=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(s,i,n){return i.toUpperCase()+n}),yc=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Ow=ps("RegExp"),wf=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),i={};Tn(s,(n,r)=>{e(n,r,t)!==!1&&(i[r]=n)}),Object.defineProperties(t,i)},Lw=t=>{wf(t,(e,s)=>{if(oi(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=t[s];if(!!oi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Nw=(t,e)=>{const s={},i=n=>{n.forEach(r=>{s[r]=!0})};return Li(t)?i(t):i(String(t).split(e)),s},kw=()=>{},Uw=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Gw=t=>{const e=new Array(10),s=(i,n)=>{if(Ml(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[n]=i;const r=Li(i)?[]:{};return Tn(i,(o,a)=>{const l=s(o,n+1);!yn(l)&&(r[a]=l)}),e[n]=void 0,r}}return i};return s(t,0)},R={isArray:Li,isArrayBuffer:yf,isBuffer:dw,isFormData:bw,isArrayBufferView:fw,isString:pw,isNumber:xf,isBoolean:mw,isObject:Ml,isPlainObject:gr,isUndefined:yn,isDate:gw,isFile:yw,isBlob:xw,isRegExp:Ow,isFunction:oi,isStream:_w,isURLSearchParams:ww,isTypedArray:Rw,isFileList:vw,forEach:Tn,merge:Ua,extend:Tw,trim:Ew,stripBOM:Sw,inherits:Aw,toFlatObject:Cw,kindOf:Rl,kindOfTest:ps,endsWith:Iw,toArray:Pw,forEachEntry:Mw,matchAll:Bw,isHTMLForm:Dw,hasOwnProperty:yc,hasOwnProp:yc,reduceDescriptors:wf,freezeMethods:Lw,toObjectSet:Nw,toCamelCase:Fw,noop:kw,toFiniteNumber:Uw,findKey:vf,global:_f,isContextDefined:bf,toJSONObject:Gw};function ye(t,e,s,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),i&&(this.request=i),n&&(this.response=n)}R.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ef=ye.prototype,Tf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Tf[t]={value:t}});Object.defineProperties(ye,Tf);Object.defineProperty(Ef,"isAxiosError",{value:!0});ye.from=(t,e,s,i,n,r)=>{const o=Object.create(Ef);return R.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ye.call(o,t.message,e,s,i,n),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};var zw=typeof self=="object"?self.FormData:window.FormData;const Hw=zw;function Ga(t){return R.isPlainObject(t)||R.isArray(t)}function Sf(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function xc(t,e,s){return t?t.concat(e).map(function(n,r){return n=Sf(n),!s&&r?"["+n+"]":n}).join(s?".":""):e}function jw(t){return R.isArray(t)&&!t.some(Ga)}const Xw=R.toFlatObject(R,{},null,function(e){return/^is[A-Z]/.test(e)});function Vw(t){return t&&R.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function no(t,e,s){if(!R.isObject(t))throw new TypeError("target must be an object");e=e||new(Hw||FormData),s=R.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!R.isUndefined(y[m])});const i=s.metaTokens,n=s.visitor||c,r=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&Vw(e);if(!R.isFunction(n))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(R.isDate(p))return p.toISOString();if(!l&&R.isBlob(p))throw new ye("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(p)||R.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,m,y){let x=p;if(p&&!y&&typeof p=="object"){if(R.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(R.isArray(p)&&jw(p)||R.isFileList(p)||R.endsWith(m,"[]")&&(x=R.toArray(p)))return m=Sf(m),x.forEach(function(g,_){!(R.isUndefined(g)||g===null)&&e.append(o===!0?xc([m],_,r):o===null?m:m+"[]",h(g))}),!1}return Ga(p)?!0:(e.append(xc(y,m,r),h(p)),!1)}const u=[],d=Object.assign(Xw,{defaultVisitor:c,convertValue:h,isVisitable:Ga});function f(p,m){if(!R.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(p),R.forEach(p,function(x,b){(!(R.isUndefined(x)||x===null)&&n.call(e,x,R.isString(b)?b.trim():b,m,d))===!0&&f(x,m?m.concat(b):[b])}),u.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return f(t),e}function vc(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Bl(t,e){this._pairs=[],t&&no(t,this,e)}const Af=Bl.prototype;Af.append=function(e,s){this._pairs.push([e,s])};Af.toString=function(e){const s=e?function(i){return e.call(this,i,vc)}:vc;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function Ww(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cf(t,e,s){if(!e)return t;const i=s&&s.encode||Ww,n=s&&s.serialize;let r;if(n?r=n(e,s):r=R.isURLSearchParams(e)?e.toString():new Bl(e,s).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Yw{constructor(){this.handlers=[]}use(e,s,i){return this.handlers.push({fulfilled:e,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){R.forEach(this.handlers,function(i){i!==null&&e(i)})}}const _c=Yw,If={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$w=typeof URLSearchParams<"u"?URLSearchParams:Bl,qw=FormData,Kw=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),hs={isBrowser:!0,classes:{URLSearchParams:$w,FormData:qw,Blob},isStandardBrowserEnv:Kw,protocols:["http","https","file","blob","url","data"]};function Zw(t,e){return no(t,new hs.classes.URLSearchParams,Object.assign({visitor:function(s,i,n,r){return hs.isNode&&R.isBuffer(s)?(this.append(i,s.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Jw(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qw(t){const e={},s=Object.keys(t);let i;const n=s.length;let r;for(i=0;i<n;i++)r=s[i],e[r]=t[r];return e}function Pf(t){function e(s,i,n,r){let o=s[r++];const a=Number.isFinite(+o),l=r>=s.length;return o=!o&&R.isArray(n)?n.length:o,l?(R.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!a):((!n[o]||!R.isObject(n[o]))&&(n[o]=[]),e(s,i,n[o],r)&&R.isArray(n[o])&&(n[o]=Qw(n[o])),!a)}if(R.isFormData(t)&&R.isFunction(t.entries)){const s={};return R.forEachEntry(t,(i,n)=>{e(Jw(i),n,s,0)}),s}return null}const e1={"Content-Type":void 0};function t1(t,e,s){if(R.isString(t))try{return(e||JSON.parse)(t),R.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(t)}const ro={transitional:If,adapter:["xhr","http"],transformRequest:[function(e,s){const i=s.getContentType()||"",n=i.indexOf("application/json")>-1,r=R.isObject(e);if(r&&R.isHTMLForm(e)&&(e=new FormData(e)),R.isFormData(e))return n&&n?JSON.stringify(Pf(e)):e;if(R.isArrayBuffer(e)||R.isBuffer(e)||R.isStream(e)||R.isFile(e)||R.isBlob(e))return e;if(R.isArrayBufferView(e))return e.buffer;if(R.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Zw(e,this.formSerializer).toString();if((a=R.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return no(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||n?(s.setContentType("application/json",!1),t1(e)):e}],transformResponse:[function(e){const s=this.transitional||ro.transitional,i=s&&s.forcedJSONParsing,n=this.responseType==="json";if(e&&R.isString(e)&&(i&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ye.from(a,ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};R.forEach(["delete","get","head"],function(e){ro.headers[e]={}});R.forEach(["post","put","patch"],function(e){ro.headers[e]=R.merge(e1)});const Dl=ro,s1=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i1=t=>{const e={};let s,i,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!s||e[s]&&s1[s])&&(s==="set-cookie"?e[s]?e[s].push(i):e[s]=[i]:e[s]=e[s]?e[s]+", "+i:i)}),e},bc=Symbol("internals");function ji(t){return t&&String(t).trim().toLowerCase()}function yr(t){return t===!1||t==null?t:R.isArray(t)?t.map(yr):String(t)}function n1(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(t);)e[i[1]]=i[2];return e}function r1(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function wc(t,e,s,i){if(R.isFunction(i))return i.call(this,e,s);if(!!R.isString(e)){if(R.isString(i))return e.indexOf(i)!==-1;if(R.isRegExp(i))return i.test(e)}}function o1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,i)=>s.toUpperCase()+i)}function a1(t,e){const s=R.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+s,{value:function(n,r,o){return this[i].call(this,e,n,r,o)},configurable:!0})})}class oo{constructor(e){e&&this.set(e)}set(e,s,i){const n=this;function r(a,l,h){const c=ji(l);if(!c)throw new Error("header name must be a non-empty string");const u=R.findKey(n,c);(!u||n[u]===void 0||h===!0||h===void 0&&n[u]!==!1)&&(n[u||l]=yr(a))}const o=(a,l)=>R.forEach(a,(h,c)=>r(h,c,l));return R.isPlainObject(e)||e instanceof this.constructor?o(e,s):R.isString(e)&&(e=e.trim())&&!r1(e)?o(i1(e),s):e!=null&&r(s,e,i),this}get(e,s){if(e=ji(e),e){const i=R.findKey(this,e);if(i){const n=this[i];if(!s)return n;if(s===!0)return n1(n);if(R.isFunction(s))return s.call(this,n,i);if(R.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=ji(e),e){const i=R.findKey(this,e);return!!(i&&(!s||wc(this,this[i],i,s)))}return!1}delete(e,s){const i=this;let n=!1;function r(o){if(o=ji(o),o){const a=R.findKey(i,o);a&&(!s||wc(i,i[a],a,s))&&(delete i[a],n=!0)}}return R.isArray(e)?e.forEach(r):r(e),n}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const s=this,i={};return R.forEach(this,(n,r)=>{const o=R.findKey(i,r);if(o){s[o]=yr(n),delete s[r];return}const a=e?o1(r):String(r).trim();a!==r&&delete s[r],s[a]=yr(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return R.forEach(this,(i,n)=>{i!=null&&i!==!1&&(s[n]=e&&R.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const i=new this(e);return s.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[bc]=this[bc]={accessors:{}}).accessors,n=this.prototype;function r(o){const a=ji(o);i[a]||(a1(n,o),i[a]=!0)}return R.isArray(e)?e.forEach(r):r(e),this}}oo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);R.freezeMethods(oo.prototype);R.freezeMethods(oo);const cs=oo;function jo(t,e){const s=this||Dl,i=e||s,n=cs.from(i.headers);let r=i.data;return R.forEach(t,function(a){r=a.call(s,r,n.normalize(),e?e.status:void 0)}),n.normalize(),r}function Rf(t){return!!(t&&t.__CANCEL__)}function Sn(t,e,s){ye.call(this,t==null?"canceled":t,ye.ERR_CANCELED,e,s),this.name="CanceledError"}R.inherits(Sn,ye,{__CANCEL__:!0});const l1=null;function h1(t,e,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):e(new ye("Request failed with status code "+s.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const c1=hs.isStandardBrowserEnv?function(){return{write:function(s,i,n,r,o,a){const l=[];l.push(s+"="+encodeURIComponent(i)),R.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),R.isString(r)&&l.push("path="+r),R.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(s){const i=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function u1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function d1(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Mf(t,e){return t&&!u1(e)?d1(t,e):e}const f1=hs.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let i;function n(r){let o=r;return e&&(s.setAttribute("href",o),o=s.href),s.setAttribute("href",o),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return i=n(window.location.href),function(o){const a=R.isString(o)?n(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function p1(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function m1(t,e){t=t||10;const s=new Array(t),i=new Array(t);let n=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const h=Date.now(),c=i[r];o||(o=h),s[n]=l,i[n]=h;let u=r,d=0;for(;u!==n;)d+=s[u++],u=u%t;if(n=(n+1)%t,n===r&&(r=(r+1)%t),h-o<e)return;const f=c&&h-c;return f?Math.round(d*1e3/f):void 0}}function Ec(t,e){let s=0;const i=m1(50,250);return n=>{const r=n.loaded,o=n.lengthComputable?n.total:void 0,a=r-s,l=i(a),h=r<=o;s=r;const c={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&h?(o-r)/l:void 0,event:n};c[e?"download":"upload"]=!0,t(c)}}const g1=typeof XMLHttpRequest<"u",y1=g1&&function(t){return new Promise(function(s,i){let n=t.data;const r=cs.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}R.isFormData(n)&&hs.isStandardBrowserEnv&&r.setContentType(!1);let h=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(f+":"+p))}const c=Mf(t.baseURL,t.url);h.open(t.method.toUpperCase(),Cf(c,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function u(){if(!h)return;const f=cs.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:f,config:t,request:h};h1(function(x){s(x),l()},function(x){i(x),l()},m),h=null}if("onloadend"in h?h.onloadend=u:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(u)},h.onabort=function(){!h||(i(new ye("Request aborted",ye.ECONNABORTED,t,h)),h=null)},h.onerror=function(){i(new ye("Network Error",ye.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||If;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),i(new ye(p,m.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,h)),h=null},hs.isStandardBrowserEnv){const f=(t.withCredentials||f1(c))&&t.xsrfCookieName&&c1.read(t.xsrfCookieName);f&&r.set(t.xsrfHeaderName,f)}n===void 0&&r.setContentType(null),"setRequestHeader"in h&&R.forEach(r.toJSON(),function(p,m){h.setRequestHeader(m,p)}),R.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",Ec(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Ec(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{!h||(i(!f||f.type?new Sn(null,t,h):f),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const d=p1(c);if(d&&hs.protocols.indexOf(d)===-1){i(new ye("Unsupported protocol "+d+":",ye.ERR_BAD_REQUEST,t));return}h.send(n||null)})},xr={http:l1,xhr:y1};R.forEach(xr,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const x1={getAdapter:t=>{t=R.isArray(t)?t:[t];const{length:e}=t;let s,i;for(let n=0;n<e&&(s=t[n],!(i=R.isString(s)?xr[s.toLowerCase()]:s));n++);if(!i)throw i===!1?new ye(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(R.hasOwnProp(xr,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!R.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:xr};function Xo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sn}function Tc(t){return Xo(t),t.headers=cs.from(t.headers),t.data=jo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),x1.getAdapter(t.adapter||Dl.adapter)(t).then(function(i){return Xo(t),i.data=jo.call(t,t.transformResponse,i),i.headers=cs.from(i.headers),i},function(i){return Rf(i)||(Xo(t),i&&i.response&&(i.response.data=jo.call(t,t.transformResponse,i.response),i.response.headers=cs.from(i.response.headers))),Promise.reject(i)})}const Sc=t=>t instanceof cs?t.toJSON():t;function xn(t,e){e=e||{};const s={};function i(h,c,u){return R.isPlainObject(h)&&R.isPlainObject(c)?R.merge.call({caseless:u},h,c):R.isPlainObject(c)?R.merge({},c):R.isArray(c)?c.slice():c}function n(h,c,u){if(R.isUndefined(c)){if(!R.isUndefined(h))return i(void 0,h,u)}else return i(h,c,u)}function r(h,c){if(!R.isUndefined(c))return i(void 0,c)}function o(h,c){if(R.isUndefined(c)){if(!R.isUndefined(h))return i(void 0,h)}else return i(void 0,c)}function a(h,c,u){if(u in e)return i(h,c);if(u in t)return i(void 0,h)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(h,c)=>n(Sc(h),Sc(c),!0)};return R.forEach(Object.keys(t).concat(Object.keys(e)),function(c){const u=l[c]||n,d=u(t[c],e[c],c);R.isUndefined(d)&&u!==a||(s[c]=d)}),s}const Bf="1.2.0",Fl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fl[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Ac={};Fl.transitional=function(e,s,i){function n(r,o){return"[Axios v"+Bf+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new ye(n(o," has been removed"+(s?" in "+s:"")),ye.ERR_DEPRECATED);return s&&!Ac[o]&&(Ac[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(r,o,a):!0}};function v1(t,e,s){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let n=i.length;for(;n-- >0;){const r=i[n],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new ye("option "+r+" must be "+l,ye.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ye("Unknown option "+r,ye.ERR_BAD_OPTION)}}const za={assertOptions:v1,validators:Fl},gs=za.validators;class Or{constructor(e){this.defaults=e,this.interceptors={request:new _c,response:new _c}}request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=xn(this.defaults,s);const{transitional:i,paramsSerializer:n,headers:r}=s;i!==void 0&&za.assertOptions(i,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),n!==void 0&&za.assertOptions(n,{encode:gs.function,serialize:gs.function},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o;o=r&&R.merge(r.common,r[s.method]),o&&R.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),s.headers=cs.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(s)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const h=[];this.interceptors.response.forEach(function(m){h.push(m.fulfilled,m.rejected)});let c,u=0,d;if(!l){const p=[Tc.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,h),d=p.length,c=Promise.resolve(s);u<d;)c=c.then(p[u++],p[u++]);return c}d=a.length;let f=s;for(u=0;u<d;){const p=a[u++],m=a[u++];try{f=p(f)}catch(y){m.call(this,y);break}}try{c=Tc.call(this,f)}catch(p){return Promise.reject(p)}for(u=0,d=h.length;u<d;)c=c.then(h[u++],h[u++]);return c}getUri(e){e=xn(this.defaults,e);const s=Mf(e.baseURL,e.url);return Cf(s,e.params,e.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(e){Or.prototype[e]=function(s,i){return this.request(xn(i||{},{method:e,url:s,data:(i||{}).data}))}});R.forEach(["post","put","patch"],function(e){function s(i){return function(r,o,a){return this.request(xn(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Or.prototype[e]=s(),Or.prototype[e+"Form"]=s(!0)});const vr=Or;class Ol{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(r){s=r});const i=this;this.promise.then(n=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](n);i._listeners=null}),this.promise.then=n=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(n);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Sn(r,o,a),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}static source(){let e;return{token:new Ol(function(n){e=n}),cancel:e}}}const _1=Ol;function b1(t){return function(s){return t.apply(null,s)}}function w1(t){return R.isObject(t)&&t.isAxiosError===!0}function Df(t){const e=new vr(t),s=mf(vr.prototype.request,e);return R.extend(s,vr.prototype,e,{allOwnKeys:!0}),R.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return Df(xn(t,n))},s}const Ze=Df(Dl);Ze.Axios=vr;Ze.CanceledError=Sn;Ze.CancelToken=_1;Ze.isCancel=Rf;Ze.VERSION=Bf;Ze.toFormData=no;Ze.AxiosError=ye;Ze.Cancel=Ze.CanceledError;Ze.all=function(e){return Promise.all(e)};Ze.spread=b1;Ze.isAxiosError=w1;Ze.AxiosHeaders=cs;Ze.formToJSON=t=>Pf(R.isHTMLForm(t)?new FormData(t):t);Ze.default=Ze;const Ha=Ze;var iu;const E1={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_AXIOS_BASE_URL===void 0?"http://116.204.115.87:9090/":(iu={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_AXIOS_BASE_URL)==null?void 0:iu.toString(),Qn=Ha.create({baseURL:E1,timeout:6e3,withCredentials:!1,headers:{"Content-Type":"text/plain; charset=utf-8"}}),Cc="get",Ic="post";function er(t,e,s){if(t=t.toLowerCase(),t=="post")return console.log("post"),Qn.post(e,s);if(t=="get")return Qn.get(e,{params:s});if(t=="delete")return Qn.delete(e,{params:s});if(t=="put")return Qn.put(e,s);throw console.error("known method"+t),Error("known method")}Ha.interceptors.response.use(null,t=>{const e=t.config;if(!e||!e.retryTimes)return Promise.reject(t);const{__retryCount:s=1,retryDelay:i=300,retryTimes:n}=e;return e.__retryCount=s,s>=n?Promise.reject(t):(e.__retryCount++,new Promise(o=>{setTimeout(()=>{o()},i)}).then(function(){return Ha(e)}))});const vn={getspritedata(){return er(Cc,"/spriteGetALL",{})},getspritebyname(t){return er(Cc,"/spriteGetByname",{name:t})},postsprite(t){const e=new Pc;e.name=t.name,e.url=t.url,e.x=t.mapx,e.y=t.mapy,e.width=t.mapwidth,e.height=t.mapheight,e.visable=t.spgroup.visible,console.log("postsprite:",e);const s=er(Ic,"/spritePost",e);console.log(s)},updatasprite(t){const e=new Pc,s=_e.getlocalpos(t.spgroup.position.x,t.spgroup.position.y);t.mapx=s[0],t.mapy=s[1],console.log("updata x y",s),e.name=t.name,e.url=t.url,e.x=t.mapx,e.y=t.mapy,e.width=t.mapwidth,e.height=t.mapheight,e.visable=t.spgroup.visible,console.log("updatasprite:",e);const i=er(Ic,"/spriteUpdata",e);console.log(i)}},T1="/assets/background.4c6be2e2.png";let ys,xs,zt,Ht,pi=0,tr=0,mt,Je,Vo,gt,yt,Tt,St,Wo,Qt,es,Gs=!1,sr;const _e={initpardata(t,e){zt=t,Ht=e,ys=t*3.6,xs=t*1.2;const s=this.scalewh(zt,Ht);return pi=s[0],tr=s[1],[zt,Ht,ys,xs,pi,tr]},transcreentocenternpos(t,e){const n=t-207,r=e-896/2;console.log("\u8F6C\u6362\u524D\u5C4F\u5E55\u5927\u5C0Fx\uFF1A",414,"y:",896,"\u8F6C\u6362\u524D\u80CC\u666F\u56FE\u5927\u5C0Fx\uFF1A",414*1.2,"y\uFF1A",896*1.6633928571428573),console.log("\u8F6C\u6362\u540E\u5C4F\u5E55\u5927\u5C0Fx\uFF1A",zt,"y:",Ht,"\u8F6C\u6362\u540E\u80CC\u666F\u56FE\u5927\u5C0Fx\uFF1A",xs,"y\uFF1A",ys),console.log("\u8F6C\u6362\u524D\u5C4F\u5E55\u5750\u6807x:",t,"y:",e,"\u8F6C\u6362\u540E\u4E2D\u5FC3\u5750\u6807x:",n,"y:",r);const o=n*pi,a=r*tr;console.log("\u4E2D\u5FC3\u5750\u6807\u4F38\u524Dx:",n,"y:",r,"\u4E2D\u5FC3\u5750\u6807\u4F38\u540E\u4E2D\u5FC3\u5750\u6807x:",o,"y:",a);const l=o+zt/2,h=a+Ht/2;return console.log("\u4E2D\u5FC3\u5750\u6807\u4F38\u540E\u8F6C\u6362\u524Dx:",o,"y:",a,"\u4E2D\u5FC3\u5750\u6807\u4F38\u540E\u8F6C\u6362\u540Ex:",l,"y:",h),[l,h]},scalewh(t,e){let n=0,r=0;return n=xs/(414*1.2),r=ys/(896*1.6633928571428573),console.log("\u80CC\u666F\u5BBD\u5EA6\uFF1A",xs,"\u9AD8\u5EA6\uFF1A",ys,"\u6620\u5C04\u753B\u5E03\u5BBD\u5EA6\uFF1A",414,"\u9AD8\u5EA6\uFF1A",896,"\u6620\u5C04\u753B\u5E03\u7684\u80CC\u666F\u5BBD\u5EA6\uFF1A",414*1.2,"\u9AD8\u5EA6\uFF1A",896*1.6633928571428573),[n,r]},getcenterpos(t,e){const s=t-zt/2,i=e-Ht/2;return[s,i]},getlocalpos(t,e){const n=t-zt/2,r=e-Ht/2;console.log("\u8F6C\u6362\u524D\u5C4F\u5E55\u5927\u5C0Fx\uFF1A",414,"y:",896,"\u8F6C\u6362\u524D\u80CC\u666F\u56FE\u5927\u5C0Fx\uFF1A",414*1.2,"y\uFF1A",896*1.6633928571428573),console.log("\u8F6C\u6362\u540E\u5C4F\u5E55\u5927\u5C0Fx\uFF1A",zt,"y:",Ht,"\u8F6C\u6362\u540E\u80CC\u666F\u56FE\u5927\u5C0Fx\uFF1A",xs,"y\uFF1A",ys),console.log("\u8F6C\u6362\u524D\u5C4F\u5E55\u5750\u6807x:",t,"y:",e,"\u8F6C\u6362\u540E\u4E2D\u5FC3\u5750\u6807x:",n,"y:",r);const o=n/pi,a=r/tr;console.log("\u4E2D\u5FC3\u5750\u6807\u7F29\u524Dx:",n,"y:",r,"\u4E2D\u5FC3\u5750\u6807\u7F29\u540E\u4E2D\u5FC3\u5750\u6807x:",o,"y:",a);const l=o+414/2,h=a+896/2;return console.log("\u4E2D\u5FC3\u5750\u6807\u7F29\u540E\u8F6C\u6362\u524Dx:",o,"y:",a,"\u4E2D\u5FC3\u5750\u6807\u7F29\u540E\u8F6C\u6362\u540Ex:",l,"y:",h),[l,h]},spsetpos(t,e,s){console.log("\u5F00\u59CB\u8F6C\u6362\u7CBE\u7075\u5750\u6807-\u7CBE\u7075\uFF1A",s.name);const i=this.transcreentocenternpos(t,e);s.spgroup.position={x:i[0],y:i[1]}},spcontainersetpos(t,e,s){console.log("\u5F00\u59CB\u8F6C\u6362\u7CBE\u7075\u5750\u6807-\u7CBE\u7075\uFF1A",s.name);const i=this.transcreentocenternpos(t,e);s.position={x:i[0],y:i[1]}},backgroundinit(){mt=ns.getPixiApp(),console.log("setup"),console.log("windowwidth:",zt),console.log("windowheight:",Ht),Je=new Ie(U.from(T1)),Je.name="background",Je.angle=90,Je.width=ys,Je.height=xs,Vo=Je.width,Wo=Je.height;const t=zt/2,e=Wo-t,s=Ht/2,i=Vo-s;es=e-Wo/2,Tt=es,St=es,Je.width/2,Qt=i-Vo/2,gt=Qt,yt=Qt,Je.height/2,Je.position={x:Je.height-es,y:-Qt},console.log("x\u9700\u8981\u504F\u79FB\u91CF:",es,"y\u9700\u8981\u504F\u79FB\u91CF:",Qt),mt.stage.addChild(Je),Je.interactive=!0,Je.on("touchstart",n=>{Gs=!0,sr={x:n.data.global.x,y:n.data.global.y}}),Je.on("touchmove",n=>{if(Gs){const r=n.data.global.x-sr.x,o=n.data.global.y-sr.y;if(mt.stage.position.x+=r,mt.stage.position.y+=o,gt+=o,yt-=o,Tt+=r,St-=r,console.log("maxleftmovelenth:",gt,"maxrightmovelenth:",yt),sr={x:n.data.global.x,y:n.data.global.y},gt<0){Gs=!1,gt=0,yt=2*Qt;for(let a=0;a<=3;a++)mt.stage.position.y=-Qt+a,console.log(" PixiApp.stage.position.y:",mt.stage.position.y),yt=yt-a,gt=gt+a;console.log("maxleftmovelenth reset"),console.log("maxleftmovelenth:",gt,"maxrightmovelenth",yt)}if(yt<0){Gs=!1,yt=0,gt=2*Qt;for(let a=0;a<=3;a++)mt.stage.position.y=Qt-a,yt=yt+a,gt=gt-a;console.log("maxrightmovelenth reset"),console.log("maxleftmovelenth:",gt,"maxrightmovelenth",yt)}if(Tt<0){Gs=!1,Tt=0,St=2*es;for(let a=0;a<=3;a++)mt.stage.position.x=-es+a,Tt=Tt+a,St=St-a;console.log("maxtopmovelenth reset"),console.log("maxtopmovelenth:",Tt,"maxbottommovelenth",St)}if(St<0){Gs=!1,St=0,Tt=2*es;for(let a=0;a<=3;a++)mt.stage.position.x=es-a,St=St+a,Tt=Tt-a;console.log("maxbottommovelenth reset"),console.log("maxtopmovelenth:",Tt,"maxbottommovelenth",St)}console.log("stagecenturex:",mt.stage.position.x),console.log("stagecenturey:",mt.stage.position.y)}}),Je.on("touchend",()=>{console.log("touchend"),Gs=!1})},toloadsp(t){const e=vn.getspritebyname(t.name),s=new C1;console.log("http-get-sprite:",t.name,"return:",e),e.then(i=>{if(s.data=i.data.data,s.msg=i.data.msg,s.data=="null")console.log(s),vn.postsprite(t);else{console.log(s.data);const n=JSON.parse(JSON.stringify(s.data)),r=mt.stage.getChildByName(n.name);this.spcontainersetpos(n.x,n.y,r),r.width=n.width*pi,r.height=n.height*pi,r.visible=n.visable}})},sprebackregister(t){let e="null";const s=this.getcenterpos(t.position.x,t.position.y),i=s[0],n=s[1],r=ys/2-20,o=xs/2-20;if(i>o&&(e="bottom"),-i>o&&(e="top"),n>r&&(e="left"),-n>r&&(e="right"),e!="null")for(let a=0;a<=10;a++)e=="right"&&(t.position.y=t.position.y+a),e=="left"&&(t.position.y=t.position.y-a),e=="top"&&(t.position.x=t.position.x+a),e=="bottom"&&(t.position.x=t.position.x-a)}},S1="/assets/right.1dc121b3.png",A1="/assets/close.d3792760.png";let ir,Xi=0;class C1{constructor(){Ne(this,"data","null");Ne(this,"msg","null")}}class Pc{constructor(){Ne(this,"name","asdad3");Ne(this,"url","Blue Train");Ne(this,"width",1);Ne(this,"height",1);Ne(this,"x",1);Ne(this,"y",1);Ne(this,"visable",!0)}}class Ae{constructor(e,s,i,n,r,o,a){Ne(this,"spgroup",new _t);Ne(this,"sprite");Ne(this,"name","");Ne(this,"url","");Ne(this,"spriteset",!1);Ne(this,"rectangle",new to);Ne(this,"mapx",0);Ne(this,"mapy",0);Ne(this,"mapwidth",0);Ne(this,"mapheight",0);Ne(this,"isDragging",!1);Ne(this,"isscaleing",!1);this.sprite=e,this.spgroup.addChild(this.sprite),this.spgroup.visible=!1,this.name=i,this.spgroup.name=i,this.url=s,this.mapx=n,this.mapy=r,this.mapwidth=o,this.mapheight=a,this.spriteset=!1,this.init_drag(),e.anchor.x=.5,e.anchor.y=.5,this.initinfo()}setspedit(e){this.spriteset=e,e?(this.spgroup.visible=!0,this.rectangle.visible=!0,this.sprite.interactive=!0):this.rectangle.visible=!1}load(){this.editframeinit()}move(e,s){this.sprite!==void 0?this.spgroup.position={x:e,y:s}:console.log("err with undefined sprite: ",this.name)}editframeinit(){console.log("\u77E9\u5F62\u6846\u521D\u59CB\u5316\uFF0C\u7CBE\u7075\uFF1A",this.sprite);const e=this.spgroup,s=this.sprite.width,i=this.sprite.height;console.log("\u77E9\u5F62\u6846\uFF1A","\u5BBD\u5EA6\uFF1A",s,"\u9AD8\u5EA6\uFF1A",i),this.rectangle.beginFill(16777215,.1),this.rectangle.lineStyle(1,16777215,1),this.rectangle.drawRect(this.sprite.position._x-s/2,this.sprite.position._y-i/2,s,i),this.rectangle.endFill();const n=new Ie(U.from(S1));n.anchor.x=.5,n.anchor.y=.5,n.width=s/4,n.height=s/4,n.interactive=!0,n.position={x:this.sprite.position._x-s/2,y:this.sprite.position._y-i/2},n.on("tap",o=>{console.log("tap"),this.rectangle.visible=!1,this.setspedit(!1),this.sprite.interactive=!1,vn.updatasprite(this)});const r=new Ie(U.from(A1));r.anchor.x=.5,r.anchor.y=.5,r.width=s/4,r.height=s/4,r.interactive=!0,r.position={x:this.sprite.position._x+s/2,y:this.sprite.position._y-i/2},r.on("tap",o=>{e.visible=!1}),this.rectangle.addChild(n),this.rectangle.addChild(r),e.addChild(this.sprite),e.addChild(this.rectangle),ns.getPixiApp().stage.addChild(e),console.log("\u77E9\u5F62\u6846\u548C\u7CBE\u7075\u521D\u59CB\u5316"),this.rectangle.visible=!1}init_drag(){this.sprite&&(console.log("\u76D1\u542C\u7CBE\u7075\u62D6\u52A8\u4E8B\u4EF6"),this.spgroup.on("touchstart",e=>{console.log("touchstart"),this.spriteset&&(this.isDragging=!0,ir={x:e.data.global.x,y:e.data.global.y})}).on("touchmove",e=>{var s,i;if(this.spriteset&&this.isDragging){const n=e.data.global.x-ir.x,r=e.data.global.y-ir.y,o=(s=this.spgroup)==null?void 0:s.position.x,a=(i=this.spgroup)==null?void 0:i.position.y;console.log("\u7CBE\u7075\u5F53\u524D\u4F4D\u7F6E-x:",o,"y:",a),o!=null&&a!=null&&this.move(o+n,a+r),ir={x:e.data.global.x,y:e.data.global.y}}}).on("touchend",()=>{this.isDragging=!1}).on("touchendoutside",()=>{this.isDragging=!1}))}initinfo(){Xi=ns.getwr(),console.log("beforeinitinfo:",this),this.spgroup.angle=90,this.sprite.width=this.mapwidth*Xi,this.sprite.height=this.mapheight*Xi,this.spgroup.width=this.mapwidth*Xi,this.spgroup.height=this.mapheight*Xi,_e.spsetpos(this.mapx,this.mapy,this),console.log("afterinitinfo:",this)}}const I1="/assets/fireplace.260bae8d.png",P1="/assets/bilu.ae666ddd.png",R1={"fireplace_wps\u56FE\u7247_62.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"fireplace_wps\u56FE\u7247_63.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"fireplace_wps\u56FE\u7247_70.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"fireplace_wps\u56FE\u7247_71.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}}},M1={fireplace_wps\u56FE\u7247:["fireplace_wps\u56FE\u7247_62.png","fireplace_wps\u56FE\u7247_63.png","fireplace_wps\u56FE\u7247_70.png","fireplace_wps\u56FE\u7247_71.png"]},B1={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"fireplace.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:12bb8f0fd573f67ac6ec5e1a64a547d1:6711ac4bcc571b314df1a50ff32ab516:1e1371bc0bf0eedc609662f2facd3bdd$"},D1={frames:R1,animations:M1,meta:B1},Rc="/assets/guizi.3c78986d.png",Mc="/assets/xiaomihu.af5294bc.png",Bc="/assets/xiaosongshu.50f53e0c.png",F1="/assets/wenduji.9710b729.png",O1="/assets/wenduji.866b5d33.gif",L1={"0ee4442ef715642a383c7e1055887d7d2.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"0ee4442ef715642a383c7e1055887d7d21.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"0ee4442ef715642a383c7e1055887d7d46.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"0ee4442ef715642a383c7e1055887d7d65.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}}},N1={"0ee4442ef715642a383c7e1055887d7d":["0ee4442ef715642a383c7e1055887d7d2.png","0ee4442ef715642a383c7e1055887d7d21.png","0ee4442ef715642a383c7e1055887d7d46.png","0ee4442ef715642a383c7e1055887d7d65.png"]},k1={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"wenduji.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:efea1e2b2a82624507f5bd6035c0a4d9:e088c8d223d037e22f5c9a1cbdfa02cd:3d41c4ff0394aebe3cae6320296fb881$"},U1={frames:L1,animations:N1,meta:k1},G1="/assets/luohua.a283580b.png",z1="/assets/luohua.01152a2a.gif",H1={"0fb2d1232966ba7925141896913d3a8552.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"0fb2d1232966ba7925141896913d3a8561.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"0fb2d1232966ba7925141896913d3a8570.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"0fb2d1232966ba7925141896913d3a8579.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}}},j1={"0fb2d1232966ba7925141896913d3a":["0fb2d1232966ba7925141896913d3a8552.png","0fb2d1232966ba7925141896913d3a8561.png","0fb2d1232966ba7925141896913d3a8570.png","0fb2d1232966ba7925141896913d3a8579.png"]},X1={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"luohua.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:9488b109b37c5ba912170520a0d8fe7b:c15d28a317b46ed6bd4190dafb92d24e:c7be61d6a451e9e59d5d3a1a17d45387$"},V1={frames:H1,animations:j1,meta:X1},W1="/assets/yinghuashu.c6216ded.png",Y1="/assets/yinghuashu.9172dad7.gif",$1={"0fce7ce5942b91467435bcbbeeae7cbe2.png":{frame:{x:0,y:0,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349}},"0fce7ce5942b91467435bcbbeeae7cbe21.png":{frame:{x:0,y:349,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349}},"0fce7ce5942b91467435bcbbeeae7cbe54.png":{frame:{x:0,y:698,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349}},"0fce7ce5942b91467435bcbbeeae7cbe63.png":{frame:{x:0,y:1047,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349}}},q1={"0fce7ce5942b91467435bcbbeeae7cbe":["0fce7ce5942b91467435bcbbeeae7cbe2.png","0fce7ce5942b91467435bcbbeeae7cbe21.png","0fce7ce5942b91467435bcbbeeae7cbe54.png","0fce7ce5942b91467435bcbbeeae7cbe63.png"]},K1={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"yinghuashu.png",format:"RGBA8888",size:{w:620,h:1396},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:cf8ce04299b02306e5b3c08936ae7818:218889ca8349e90909bea56eb045a12c:f4bf2cc55f523dec9a51f7f3d2bc06b6$"},Z1={frames:$1,animations:q1,meta:K1},J1="/assets/hua.63bbcb9d.png",Q1="/assets/hua.6793065a.gif",eE={"2a4437fb90f7169cb29a9ad86cfee13f3.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"2a4437fb90f7169cb29a9ad86cfee13f12.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"2a4437fb90f7169cb29a9ad86cfee13f21.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"2a4437fb90f7169cb29a9ad86cfee13f30.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}}},tE={"2a4437fb90f7169cb29a9ad86cfee13f":["2a4437fb90f7169cb29a9ad86cfee13f3.png","2a4437fb90f7169cb29a9ad86cfee13f12.png","2a4437fb90f7169cb29a9ad86cfee13f21.png","2a4437fb90f7169cb29a9ad86cfee13f30.png"]},sE={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"hua.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:a020e8632f7725e535b4bd79261aba9c:ba6080d856e561e4d65575c24cd0c2b9:a949fe36d2b3a034b9a98ddd779a0448$"},iE={frames:eE,animations:tE,meta:sE},nE="/assets/heye.1416c5db.png",rE="/assets/heye.0d2025f9.gif",oE={"3d6cb1337a4516bbd5d425f2f7a05b405.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"3d6cb1337a4516bbd5d425f2f7a05b406.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"3d6cb1337a4516bbd5d425f2f7a05b4013.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"3d6cb1337a4516bbd5d425f2f7a05b4014.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}}},aE={"3d6cb1337a4516bbd5d425f2f7a05b":["3d6cb1337a4516bbd5d425f2f7a05b405.png","3d6cb1337a4516bbd5d425f2f7a05b406.png","3d6cb1337a4516bbd5d425f2f7a05b4013.png","3d6cb1337a4516bbd5d425f2f7a05b4014.png"]},lE={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"heye.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:c8a0a64ea6c52407910e261a25e15341:dccb73d40e9a951a5a06936b4b5feade:6897b987ed060e0a8115038c391c1cb8$"},hE={frames:oE,animations:aE,meta:lE},cE="/assets/xiaocao.8c5b6504.png",uE="/assets/xiaocao.485554c8.gif",dE={"3e72d2305d5b8bb138068391c68452b41.png":{frame:{x:0,y:0,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349},anchor:{x:.5,y:.5}},"3e72d2305d5b8bb138068391c68452b421.png":{frame:{x:0,y:349,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349},anchor:{x:.5,y:.5}},"3e72d2305d5b8bb138068391c68452b454.png":{frame:{x:0,y:698,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349},anchor:{x:.5,y:.5}},"3e72d2305d5b8bb138068391c68452b486.png":{frame:{x:0,y:1047,w:620,h:349},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:349},sourceSize:{w:620,h:349},anchor:{x:.5,y:.5}}},fE={"3e72d2305d5b8bb138068391c68452b":["3e72d2305d5b8bb138068391c68452b41.png","3e72d2305d5b8bb138068391c68452b421.png","3e72d2305d5b8bb138068391c68452b454.png","3e72d2305d5b8bb138068391c68452b486.png"]},pE={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"xiaocao.png",format:"RGBA8888",size:{w:620,h:1396},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:9794bf62a2fcc400211ea56d3798a698:ce1644d0711bb1213b5dafde1cfd841e:1306e82edf5a2f970359d7e0596a5706$"},mE={frames:dE,animations:fE,meta:pE},gE="/assets/caocong.dd0e26c5.png",yE="/assets/caocong.5ca14a3b.gif",xE={"5e3b4c18753c3b6f9125bc6ca3d5f79c12.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"5e3b4c18753c3b6f9125bc6ca3d5f79c13.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"5e3b4c18753c3b6f9125bc6ca3d5f79c14.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"5e3b4c18753c3b6f9125bc6ca3d5f79c15.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}}},vE={"5e3b4c18753c3b6f9125bc6ca3d5f79c":["5e3b4c18753c3b6f9125bc6ca3d5f79c12.png","5e3b4c18753c3b6f9125bc6ca3d5f79c13.png","5e3b4c18753c3b6f9125bc6ca3d5f79c14.png","5e3b4c18753c3b6f9125bc6ca3d5f79c15.png"]},_E={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"caocong.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:725f09e743667c86ffd05d261aefae82:e67e53fe980a1bc635c2ea94cddc5e19:87d0a4e12fceb06a191c5ea53813c272$"},bE={frames:xE,animations:vE,meta:_E},wE="/assets/shizhong.79f27a9c.png",EE="/assets/shizhong.0aa81210.gif",TE={"568c24782fd06ec7702575a324caccf420.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"568c24782fd06ec7702575a324caccf456.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"568c24782fd06ec7702575a324caccf483.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"568c24782fd06ec7702575a324caccf4140.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}}},SE={"568c24782fd06ec7702575a324caccf":["568c24782fd06ec7702575a324caccf420.png","568c24782fd06ec7702575a324caccf456.png","568c24782fd06ec7702575a324caccf483.png","568c24782fd06ec7702575a324caccf4140.png"]},AE={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"shizhong.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:0f7ebb92717ca4a0c32bc24ee93e366f:8cc97a8cf8c50a04ab53188a41bf0b3a:5af8e19e330fdee4be63f82329d4eaf0$"},CE={frames:TE,animations:SE,meta:AE},IE="/assets/guo.2eb4ed8b.png",PE="/assets/guo.e25f0799.gif",RE={"2424c7ec7ae01964a42dd618c0ce5aa54.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"2424c7ec7ae01964a42dd618c0ce5aa521.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"2424c7ec7ae01964a42dd618c0ce5aa538.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"2424c7ec7ae01964a42dd618c0ce5aa562.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}}},ME={"2424c7ec7ae01964a42dd618c0ce5aa":["2424c7ec7ae01964a42dd618c0ce5aa54.png","2424c7ec7ae01964a42dd618c0ce5aa521.png","2424c7ec7ae01964a42dd618c0ce5aa538.png","2424c7ec7ae01964a42dd618c0ce5aa562.png"]},BE={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"guo.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:8ab514e07a689ae04f93d199ae5aaa8d:cb446c9205f2922bc5bfa005462be32c:c5b6fc1e57a2196df9831fdba28ffb22$"},DE={frames:RE,animations:ME,meta:BE},Dc="/assets/shafa.3378c86b.png",Fc="/assets/axi.701da703.png",Oc="/assets/bingxiang.8f384ae2.png",Lc="/assets/chugui.6b788982.png",Nc="/assets/shujia.5a2c168d.png",kc="/assets/topgui.f1b258d5.png",Uc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAA3CAYAAACVSbMgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOVklEQVRoga2aW4xk11WGv7X2Pqequrp72j2OY+OYxMbO1ZnENnYUHBJMEhsSUJSLkiCBlJAHROCJJ97gBSHEAzzwEiIBskSQg0xAKIpEIMEhwooJuZhggic3x9jjy3T3THfX7ey91+Lh1Kmu7unpGUFWa6uqTp06+99rr/Wvy275wqNfRcKUm152A6+47uWoKikl6roGoJTChQsXAAghcJKUUhARRARVJedMXdesra1hZogq09lUBr2+p1mDqhJiBAHHEFfcjFKclBIahaqq2NraQoIiM3OsJESEXohMJhNijKjqYtKdnR0A3P1EsMACrIhQSqGua1ZXV3F3MiKAB3HEQRBySog6Zkb0gFQVCIz29+n1ekybGSkVAGINmIaFJgaDAQAppYUm3R13v6Jmu/uWR3ddRCAVj1XA3BEBw0QqQSW44CIE3xvtymAwYGVtxc2BBjCn0kD0nFFxUspUvRozA0BVUVWapt2uUgqllBPBdosRkQVQESHnTAiBKgRKykgl8syL52791n89cf/2zs5Nht+mqpaNC/1B/cZSig37g8dvvunm33/1zbd978KL51hfW0MunN9i/dSAi/sT6rrPeDwmhECv1yPnjLuzvr7OZDJZ2PHlxMxwd1R18b7bJQCaTG+1z6P//pU3fP5LX/jc088/c0M96BND7WYGKoIKOTekpmFzuDF765t++oF33Xf/I9EDsre9jzNhakYV6oVTmBlN0xBjZHNzEzNDVU8Ee5xZ5JzZ3d3FzFhdXeU/n/zW6z718EOPjPP49MZLTjMejwGlChF3J5WMhHZnrTHKKJ3/8Hs/eOeb73rz05pzoSkZreICkJmRUqLf76OqTKdTVPVYmzw6cs4LLXdm0MkLe9tn/u0/vvHQOE9PDzbW2N2/SPFMVCFNZ8h05pISsX0C2RKhX51+5F+//MdJSh2nPiH2+tTZKXJ4K1NqWaKu66tigtbZW+2Lg3kmlSQWGf7TI1/8oyd/cPajF8f7IQ4qZpMptUSCVqRZIvT6lDQVDzUpC6EU+rFiRpGd6e57n3/u2YFWsYeIHNjVYl45Bs3JYsbCVDraq6qKGILvXbg4OXfunFKsvRYjJi03d0x0JVFXwb0cS0vLnHklacGBagvA3Sml0DQNOWfH9XN1qPdzzsxmacEsZobEgKgv5rnMfKIAAqjEE8FdDvDR+xeUFZQY22cO6t70zjvueOyB++9//NTaxgxzQqgIISAimNnCxk8SFRECTlOuvA1XXMBS8Gg1pwRRL6X4K3/i1p277rjrT9TZh5aTO7NZBI0TxN3R4IZbQUP1/wPaPXBusx1HiwQmo6lbditNOru/u7+lMqeplDA5sO+TgAKoW8YsE6qTwV4VG3BAWVVVIdImIv1+v/0ul61+v596VeUigsYDP7lSdATQgBNDoMl2KJ6fJJfbMlVwL4f4ejabtUlNyqjrMzHGMpvNaJrmkFNfjRNrkYhZTZTm0HZ0jtPZ09Uwg7ugGhdAu/wipUSoIu5lpcFu62mcIoK5U7vQYCiCBUHMUXMsCEVBDSrRpgg3xuXJuq3ojL4F4MdGo+PkcnbcPUNVfb5gP2qj7o4cec4yBnfnENgY46EfLzvM1eQFHbEv36uq1HV9CIC7L1bl7nQoW3DH06aIHAa7HEXMrL0hxkWUuZI9Ly+2ky617H5bSpnvlMyBz8EgFCuI6yG8y6YXj5Jxp5XO+KuqWoC9muS7qxC6z6WUNrSaEVvdiC+rc0k60EfFzNrnbG5uHlp1V850NwGMx2NyzleM38vlTBedVJXhcIiqsjdyCyF4d71blIjg5mhQsDlgP1BAKUWapglxWc3H2aW7M5vNgOO3eVmWk5JuoSEEBoNBx7l+1AkP5j8wseUqgzkjlVIkLoe6zk6Xr4UQFhR0NRzcmUtHX4tJ2+98zgzifqlizGyhWcdRUZibhrujRyfq+FEOVrQ0oQKKSLhkqEYkoEbBxaR4DkZBAhhFHMNV1iuX7zbi/extqjiyRLS5hl0Rc8DmJhQxDy31Ud4SlylFRA450XI53m5X54yXatgdtGCqgrq6iBSAikggOg5N04Qux3Wc6XTK6uoqs8l0PqFQ130sZRzn4sWLnFq/hpqQVPWwZrMVihvt2ry1F6C4MUsNLnbi6MxlOfqZGZQCZsQYZTKZ1E3T4O7UVcVkND5kcru7uxAUjYH19XX29vYIIXhuypcPBwVdSizygUdXIUIAs8uzgbsztYyiuLuoKChIECwqgri4aF3XZbUSkjULWiulEKpIMaM36LdcjBNDTa+qybNmtLYy/B/tSLpLNnKTwEFpDdtyObhuctkhrsQYJYSwIiI3ATcBp4C+u/eBOsZ4y5kzZ8ILzz3X1nbxINPryip3p6oqLBfEQV3SSn/46A3XXz+Jy8mLVkqTGgkSXKLgGB5cQi9IG21ao12mn/l7AQjF34/z5wFdxXFgEo1vB6MP9gMJ8q577rmHrz/xOFsXthgMBqTpjKrfI6jQpES/12MymVBpwHL2Mmsu/sIHfv43SD6WLgdIKTGR2b1PPfXULaWUXs65F0IwoIQQrKqqtExpc7tUIMxfV3ta/6HOV96VNFVVMRwOcXePUaWI8Mz2czz4lw+yc36Lfr/P7mifwXCl9ZWUWen1Ge3t+/r6xuz++97xu2981Zk/0GyIe+uVu7u78tef/7vzZ8+eXTEzUVUPIfjSe0SstwT0krSxSNDlMqV77Zoma0QmqaF/asiFvQuMdvfae2Ig27wD6eBNZmNjwz72kY/91fWnb/j10c7uXihOdIwnfvDtjz78t5/5vb3pxc0QAlWlbePMEi5GcSgZkEuLuqsJFF0v4nxo/VlG80WG+ULFifNFxrpi6kbV6/vG2qm/CYW9nDNa9YnPnnu2evjhhz9+7oXn18I1QzwXzNLyVh/E/LwcIC4vxy1ARJHZyRVsKIUUG5om+zSMvu2Nfd5jIbiAO3FlZcXvvffer1XDwStI/g/ufr27b4rIUERqMws5Z8k5H0I4B3wKCIABMyDOP0t3j2pbkocQJLo4MAF685xWlxcmFRhus2nz2dOnNh4axHq/jpEqBHJOSLak+3nyq1U1eGrF5auI3A68A7gbuMnN+tPptNc0jXYZE23c/bFul4EdWoqqReR5oA9EEdEQglRVJRqCzGH1lhZ4KOcc5wkx1jj+zkj8ZzXLzTQxHo/RGJDvfv879ac+8+l/iSv9M26m8wd0kU26KOTzBvBJW72k8UWl0YVwVSW5wUGslqPmtBb7pJJpmub82nD9oV/+4Id/e7U33B9NxqSUiCIi29vbm7ML3kvabvXRjvVyYrMsx31eZodlwCJC8AMFHCc2K6CKmZ++duOaj1zc3f2dwbWD/dXVVUQDcWNjw157++vyY9/8OivD3iXaOQTqCtXych56nBNq6W44dPng08agbZsmk/X19TIej4N425EMgA6HQ7vxxhtfrOu6zZZM8Ox4dihkMTH19k/MlwfqLA+PogQEdRDzxaAYngslihwz6EZKM4yCUxiPR73V4WBVEdQcCuj+/rjc+bo7f+6G9et+q5QkOTeIOFUVMLOIqmczL4IQVEyQgour4CqYQHYju0n2bio/lDp093qxEwce8QJeMpWGUSm+k80hRix4Sx29qp787Nt+5sFSCvWgj6uwPxkjUUh5FrwkXYmxLNtwl5h3Z19deD3OBK629XRE1jmSOKs4lJT89le/Zufuu+7ZmY6mjgRCXRGq2BZ74swmo9CV1B3g5Yr3anpVx4XpEzo9l+SjGkKgmc7wYv6u+9553x2vPfOl6f7IxZWUM1sXt+ivDkl+cACynFZ2TLF8OvMjktElYAF6VU1JmRWvvvm+B37x7Xe//o5/JBcXV9ZWTzErCelXdA4EB7X8/EiIULVx/7jm3tU03a5GtMvWoeW5fuyVD73nA+9+99sf+GQoTGejGdPxjDg/dnJvT/u6lma2Kx/m/ahEl4+DksIsJSajaXrbm97y8d/86K/d9JOvPfP31/TWX2x2pykEmbc0M2CEIIg47gX3srDj5UYJ/J8d7JIfxRhje1ypykyMXojELIx3x+Wl15w+/6H3fOB9O3u7px997CvvefzsNz6xt7fHZDJB4ly7KgeOZocBLke9q2nFX0lka2trGfmiidZ1EN2dzc1NSinsTyfhmXPPDp/87pPvf+rpH96/fWHrraPp5JpZmvVTSqAqlrOL47GuxIJLiBE3o47VlTXsSioZy4Xrr71u71fe/0s3v/T0dVsrgxVyNuLyars2Uef1y1pRVdaHq2X91lfuvurWV/6FkT89Go+rF7Zf+OCz587dvb29fW1xu7k06axZeUnBX/7f3/vOj+/PRmpOG8GO6Tcsi1liMBgwmyai6I6KZMwpTaKqq8Mtz85pOirq2j+Lc9sCbWbnHkRHGyurnFpZ/dPbXnbLJ49MG0Zp+oZPPPhnX9p5emclxkjQtjN+koi0Z7eT6YiU1lfANusqXFSADPGoJy83KKA1jYX9AaJ6kISa43aQ9i1OVQK5jtUzaTrbM7MVjYFpM0X15MaeBqV4pjfoE+pq6O5uZlR1DwRid5KyLMvZUwihPQIyw3wp4nC46da2LeddGJyijF21r/PDOdWIyslg2zrBcYMmZY+D3utNeGp/PHIJShwOh5f10i4q7e21VWimbf2J+6Fiyr39NxJHiaEtAvam+1aa8jWb5Z/KolVA8a64u5yIV1ErmtKg5s8NqsEXY4xcvLiFxvpwItwlJXD4EKT7Hxn0aBkmiB94jaNYSa15BOF7P/z+ZlHeHILcEpwncP3WiVDdCXX10mzl+mA8dvurX3OhpOzb29v0VwbHZ+1HWWB7e3veDs1HduEwa4gImBNE2oxfobfSi5WGEjVcOTK4kiwT5yX7bDxBvDBpZoiq/i8T6UgXt7jmswAAAABJRU5ErkJggg==",Gc="/assets/xishoupen.ca6bb815.png",zc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAIAAABK/LdUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAMIUlEQVRYhQXBV3dc13kA0O/0e26bhkIMCgESBEUqKrHlSEkUrzzmIX84L3nxylq2o1iyKkmABEkQBAaDKXduO/1kb3T55tXl+TmlGBFo2xYhRAlxkTIUUfTWRxsRAcIBSHBG5tyHRV89O37UdvW6b7F2RErJcKeMCUCZwASCcxR5TpGO0nQtY4wzttls0qygl5dvJqPB5//4h7ZuPcJlnjXLBWOlIq2jPSNUQIodd8EaZLEXDIXb2fV8dmOM+ddv/6iNB8qIdpwyhKLyVkVPCUkiEBt6ydKAfbAh+LZav7y8pIyQvBxFylcUHGUr7XE29BHvJlsDBNbDxz50yA84G3NMEGYI+P2MMcbTjIpiEV3vIZOZ0RpHXTA64nnAdOOhYlGoRZ6NAUlGIc3S11fvqDM2MrIG+NvtTUsoBp8y8tmk7D1edehyvbl1qiyYpII4dOepZCQrS3X1liASAH65vlGOtcxm3p0U5TCbrIM/v/k46/oo5ZfDtHWxwUBxnGgXraOMcYSxB4gISUonRfFwVE46+6qtz/sKE3Q2GJwMSsDwwTYXN7Ozk33ea8aYYIwAACUuosG2fC639gBua/PD5qYG+3A8OOVDVjLr4MXNjNHwL6NtQROqvXPWcIDc+enO+KRk/Wz23zoz1o6ofLpdHKWi782btbnqYW2dQgRFiD5Ea0gESuK4zP8d04XV3zXth3WTMPHVZO8w5dyoi/VmPe9n0ew/2PGAggs0CSARyiMcf3KY9fDrrHmxRploDgv0ZKtMsTxf1+/WugnRo3g8KU88rEJ0AhEcAMzvRyMByc+V+9B3K+93BulnYzFh6K7Tbyv3rqmymO2LwSnOEO5roajmtgsNtrCszOu6qXw9HGVfsuHWKGlc/GFW3ajQOb8t/ZNpXoaUxxjBBRcxZx7x18bM9GpF6oTET7Lyk/FEYHh9u3zV6oomeYpPOXmQcyk9dL6wGaUAKQiP4bKpAIX9Mn823hoAuZi3b5StrEmQ/Xx3cFLm1MH7vi54RikjQBimHuC2rm6tn0ryfG94JLJla79b9ncWMcYOqX0+PhpQPOvrRa12eQqUUGoxRFlbENh8Ptk5zKXq4X+aatX2wbqTYXI22UoRvV/Z2Tr8ZK6zg1MCHABscN6aiTPTfPDF9nhj4Od5/XrTViFsZ8mng+JI0pXC5xt4sWgnCUy3weGOdiF2yOxz+P323hSx67X68/2s9vyhRJ/uFuM0Xfb4Za1mqjZRD7I04VQhCyREsAmBxzsPEio/tJvLNr5rnET0qwl/NEx6Cz8vut9sZTe+FOXxYMhVjZSlGAOlCmPXU/Kn27uFqZNM/k4Wg0HeW/jLvJ53RludC/NoLPfT0ZjEa6+AAriAEDccLpbtR9VCdCdD+Wg8FgG9nC/fdN2akiFVZ+NsWiSJhL7FGiVUEsIj6yz6/m6mrT7IyydbO7xfv/wwv45cBSdj83y3PBpNvYG7bjUQaQjgbQgR6wDvlov3VTfMto4GsCXcoppfrP3S01TKwyQ8ZXsjJha+Wym9lSSYUdoapWPmKJEWf719mAl6cXN3HSgKWAb1OKcno13v7dXN/dLQC7saHo3SZMTCDZcSSHS2fbgzPsyS9ab95U4tHXjOD0txxMkuwcsovlvU71V7OkhPUxhGT4NBzLoUw+Myu3VmOb9DPjDOdnKyKxMI5PU8zHvoKCbSTyyNBExQw4RG7BGgSTrSPvlxVqlgHNWjhO7LoqByrdRfm+re+TQrC8SYjw3HIZG088YhbwB+vb9qZcITnke6x5h27ctV3VrnIyckoRHhxlkSTHDI+QC00yYA3PfrWXPLQyZSPkyHDMX7rn9vqhZ5RdCQQvSN62rIhy46izyVjBJGUgj/cfw0UhIIAEDuwJPcol0XI0GIAHgPxkWAkBOyIqwjlAmOIfzu4FA5xwgVCCgAAdAWOm8CxYRSFEKIWBw9YACh3+SU0w7Dj+9eRUa4RqCDQc5zNHcGKEeYx+CwUygG4EmkSaK04ezt9dVwa/Lx47VgHLRJRbJiGlkPNgJgoARRgmMgEVCgiIn7ruMU981ms9mgi9cv3r0+T7LUhjgaDVS7KQTzPuqIHKKUYYYCOONtACCeYsaE7vqD3f3V/aLuasDRRJ8owJhGjCxGjmHAiLqAjAsoaGuklIQQjIGKhF7+ci4FPZ0et9Y45yaTMliFU+mVC9YBwpjiIAKggCPoiLmgbxfLut1Um9X+9NBCwJxziwChgIP3LoTAgBCEKaKKI4xB9x2npO3V9c0tbcHtPjwRB1NJExcgAKAIOpgJ40mEALB2YDAkJEpwwjIgQImoqvVke/fh2fPOBB2RSpAHn4ArASeAQoAOiMZorIIgiGKHIVrjgkc0cWEUGQL+Xy9exslWdVftpcXzctDlsQrqzap61/ZSpJ+UxUnCZtYnAkfMnLbaR43gL7fX9z5ynSDwO0VyPB7mGF1vmlfd5hb5PyTZdGuMfSTgIoSl6ilyoKLOKOa81C05m2T/NImO+cv77rICC/K4yJ6P8kyghXY/NVcnbFJGEJxpYzmAT/KNig8LdTZJdxOyUJu/LuNso7cz+p/74xEmpO8umrrD6FkyGURJLepzCgjAeX02HJwWw7UJf7/pOq8lNZ8Oi4eDwgCc39d3i+aepV+Oi+juFepTIoODJLaf4/hkd2od+fXOvFnfA/NfHG4dppzo7mNI3i6729o93ho4pELSUceow7gA+HpvLyPiemX+b7NhOh7vlo9LNkRh0Ta/rKvrXguZDqLICVTexhgi9gTDwWg0BLTuwm/r9V2IO2XxJCX7nAULtzX81qyaGHOZHZS590trNRUkrxUaxd478+O6vazrIuff7MltljiP/t6qy95ZS3ckHeX8tBxgBJRIHkVvFYSgNf5Zhdv1SrPu4Yh+kYsSiQ8qnlf9bNlmSf0Po61pnmYiuJ7SkFLUmYxSg+Sf7993pDgcFV8VKcv89aa+rMMHHVj0T/Pi6TBNGbzt1p5x51z0gKkEgm+b/n1rHuTsbLBzIJCy9m/N4mWtALEHO8Nn43QHpevgZqbbRylHjHrhHFYaIDrxz9u7pzlRGH5b2fP13Dj3NMufpoM846vgXs03l33/x50sTUjUkRthA3S+OU7p852kDOlNFX5oVRXCbqSPCjHdTmKQb1f6p74rBZlmyIWWBkodoBHAvx0e7KXk46r9Xm3qJR4O+KOd8XGSeGVfrlaXpl87mxqKELERTPAoGobg8c54V8i6aa765nWtG++eDPPPhzl27vru/rZDax175A+ygUM2okCll9wkHDSj1XdVvFgb4vnpVD6SXET7a1W90ND2ZBL507Q43OGZxHc2OBdCbCDabeDzlb6o0W2/3Mr4t5NxjuFSLd+3qFNpA81RIZ7x5GDIvWohMkpyiRISvPj5g3/r+50i/WI4FhRuNv2HSi8McEE/yeijjO5x/M5QZSISJDoPhLWYvdysfqk22zz7ZntvmrCVbr/Xy3sfmROlg29GcW8wvAb/TrWPA1jXUGcrB1szokzovh0djUt2uZq/tTZCYNQeS3GQlwWTlVL/u2ze+6tv9g6SEFC1EYMiRQHWm7Ni8KxkC6u+qzbzzoKjexwfD/Jpnr4JdjHfvG/X46E8zkvAnGIUXQw5JNPd6Uq5d9crhxyzfJSQnYJzCTPb/LC4653grOgBcCIjxplIGGIo4q3hqOby++W8xaB9yCnfLwaTTFTe/Gk520SRGtxEOgQWMXMuUiApw5m0MJ/dX3EghGxpOMkSx9BMm2rdeu8ZTbKI+s06dxg0NB5tIsk86lurIvl1dpPgnIDdlnRScgjd+f39QntFBIOOMimCI9qgCAgIZVREbSOBx9PJWZJyDDyAJaF3duwTMRkRD9FGQoBL5DUMOdwQjCXDUsiMjYL/+snRUPlMEBqhNlC7vtxJnhJKIAbKkfVKsXEqOURGEPWmu51/GE0HmTJ87gKCDoMHnyFKfDQhOk5wIpzzaqYMilik66s3VtdXq9u97XGigS7BZ35x57DHkucjRnXsQ1SUIuuENzaXwpv6/HZedy2aXb+/uHxDg+MAdVe31ubFQKjYgrE0EkK4B2R9wAQx7lnAnfPKPPrs03VT66oSEQOElhDGiY9OG+O954QmiGEbIuPGW0QgxthrJ2X2//AycqMYKK21AAAAAElFTkSuQmCC",Hc="/assets/xiaoguizi.bc8dc76f.png",jc="/assets/yigui.d87e6579.png",Xc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAqCAYAAAA51uKRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAL70lEQVRYhZ1Ya4xd11X+1tr7nHNfc2fGnrFnPDZ2bOdRx2ODU+I4UyelpS00bqJYraqWIFWCEBEhVUgoSEjAH/gREKhCQgjxA5BS2qZq1FR1oCU0VpImriOw83Ds2E7i2pnE8/Cd8TzuPefsvdfix73nzp3xQAJrdDV3NOfs9e31/Naiubk5iAiYGd571Ot1xHEMVUUhRIT1RFW7/xMREBEajQapqjLzDe+tPbPQOzg4CADgdbV8RBERhBAgIl0FcRwT9aAgIhARVHXVZz2AHwlM7wuFBOdBChhjwMwQEagqgvOiQQCAet9fC6TA22s9+5FMgNUuAQBjLSSEtmWgALUPtta2HycYAKKqWgAtlBeWWgvm/+Sm3ptJCAATwERKVAYzBIo0z6gDPABgEaG1QHrB9Mr/K2ZUFUoAM0OJ/pWY/4iIIwUZVeUoiQvgQVUJaD9bBHVh5eJTyEd2042AAr957tzxM+fO3hQnydD+/ftr27ZsvcqWnsjz9AOApXN7obboWvestQ4XmRBCgDEGIQQAgGAlRqjzE0JoH0CEp350rPHN73z7wOjo6FQefPiX7z1536LLYG183QpLCIGAdoD3ZtMNFu7NJiLqZkSvybqxIQLvHIL3sNaCmXF16urtp149Hf3BHz527NDBQ99/8Mj9/1SJS62XXvzpXcwsXkL3/Y5CWptRhRF6xfYC6H2AmSmEoMYYgA2kYxXnHJaWlo6MjIxcL5fK51yeHU/i5MUvPXi0LAGR974UVJvGmlUxUrimAFgUvVXZFDrp2XVBRwikvRYqXBnHMUZHR3c3Gg06f+H89iRObkpbLYxtGvnu6PCmx0WkYUvxWtewqpKIoDfNizMLMY899lg30pkZ1lpYaxFUYI1p36IAyAQi+jKIUK3X3DPHjt194eKF2/fvHc+Y6MXgBbl3SPMclk37Th2jo5Ms6xW9crncdlOtVlvlJlWlZrOpXgJiG0FVybJR1XYNIaJ+E9nWL+7bf3xk0+Y3n3zyyaOT01e3jG0aobSZ6YbBQTTzDEYB7WjuKPbFn50wuKGQ2iRJVoFptVraarXA1mApzRBC4MhYqOqgEnbHcdzK8zwyCJicnBzJgsOrZ8+M12q136za8htpmr6VlEuRBc2tV2UB3FjtCssXPmRu179Wq4WlpSVESQyIQlUtRA8A2FGpVZebzWbfufNvHTx58sSnMojbfuvuN95/b3Jr89r88Mf3HfjPiYmJf6vUqsukeFFEgqou9QZyb8ErwBa6SVUhPoCNAQAsLi3COUepCWMxY4OK32mjpC9z4k6dfmPfqVOn7rHQ6GO7dl2YmJj4VhzHC865+s+vXDr8womXfmV+caFv7/j463cdOPyd0Q2DLjD8cu5/WrdYAAlaxFuNd+8bisV0dHYtE0IAEcF7D2MM0jyj5eXlalWrS5W+8r5rMx9MvPLa6YlTZ9/Y40jDxCcOPn/LzTtfHihtPJdlWS4iUqlUkOd5v4l4YPra7G0/Of7cgwuNa5u3Dg43D3/mc0+MjIzOWye/oKJ/jsSAfDuc18YMFSnNxiB3OWU+GxXVweX55sjLLz3/9fMXzu3dPDIydevePSfuuOOOHy/NN6oGOgPtv0gK7733RJQy8wYwqgMDdU8G296+en7iZy+8/GvvvHd5y+bRkebnJj791vZtOyJV/WNq+lebRjhJEmHilWwNKnDOgYwxzGQvXb70qROvnPzauSsX92zaMJjefefB/9ixfddJ0vhac6EpA5XalG81IZEXY8xVVV1SVUTG7syyNKr21a4kSTLRIvN8BJvPLEz91k9eOP7QuxevjI2MDsV3/tK47L95368KzHsSvAtBpRS3k4hc8CA2tNxaHH/6Bz/403cv//yWsbGxa3ceuPv7e27dddZnzapLM5v6kKuaawAWKqWkGRRpCEGMMZPiAwGyyxgz1VevL6rIOCm/LmkAV/WLQn54cl4+OP3aqaOnXjl+3+bBre6uQwdo78duH2PAU4c8UJpnxBFv+t5TT/3V/Pz8jiNHjnyrr69vKUJ5Nl+a3Xn17Ve/dPHN/xpPIoZzGRNrgEgIKl5VnwXw98pUT2z0jTRNnwPku6UkeThB/IDTSkbUSj5+z+HLAzdNfMWDb0ZYPvDMM88ffvPd1/c8+juPPlQtVX5owAoANo6sNhbm+y+cP7/3kUce+cuNgxsb07PTuwPn2WBJ+l84/vShxqUz1vglkLZ7l/ceBlUEkYei2BxVoNJqtVAul2+OrP2qc67W1Axq+hMKi5ieurj7y18fd2pL346Mf+ULX/j1U5f/8dLjM3Mzf202bj5RjSszAMDOOx6oDyxv2bLl8rPPPnt0rnFtQyUpzdST/kut+fQvNFWUbRmlqIZybRhUGkLUP4ZSvY5SvQ5NyhWu1pAMDML21ZAz11AqIerbiod/70/mfvnOz8jU9LKYeGDccwlA/PaZdy4NzczMxMPDw9OlOJ7rVmBDVhg8eeS++//uh88c++1//uYTjy62Fvu3bBi99MD9n/9bcrM2TedgkjriPENkE+R5E77TtwwREDwsFOo8LDNCCNg8PCgD2/fNy8/+vdLMryXf+Ie/+bPUR48GXRxevD4z9OCnv3iibmuf9953KZ4NIcAFbzZtHHr/N77y1ccn37+y89z5swdHNo6eVlUWkS5BAlZI2IdJ2sxgjNU4LsXMjHs/cXhyfkEukkmnt20dvb5j0/avreU11loLIgqttHWmVCoNbdo4NDd2zydPB4crjbnpTwJQIipIdqd1rE+oe6VaKkurmW0OCpSTEsZv2/O0UPIjCa5JRAvGGLRarWKaaIMp+lJkrGfQVZfls83lbEu10t/03osxBiSKQAJ0SLgLDpb/dy6/vLRg48SmzAxihWW9CYrXhA0xs3rvu9ShEDbGdE0lPqBSLntDPJXnOZVKpYUVa7RbvvL6o+5aiaxCJGS5eI3iEgC9qN6DJajLclhrUZCtrmVmZ2etMcZHUQTnHOr1GgY2DLrgSeKIThYPG2Mg2qYZxhhAA9psoADX+12QuybmFq43BbY/ywM1l7MzLm2h3l/GcqtFcShps9mEMcYMDg4GAGBmDqpq8jyHc64YxjWJE1hrA6QdG0GlO8b+T4uAXvHeI0t9IyDJ8hBLlsqs4QRLi8twwXOe5wAQGWO6prHOOY3jWMhwZAjOSyBLsUIB770puEjuHMqJgTgHVcKHwYlNDFD03qFD9y7s2XNbFMXVqz7NEMgzxzHEC5g5iEg3E2zHd2qIAkRhyCq0nbpGEawTGCUQLLI8oBTFoJDDGQBEK7St5zvZdhx6v+ySWw7+/lg6U6O0MZUql2xSCrFXFwgsItqblb2jigArhDklJCGi7ZnxUBuASKAIcBJACOCwehhdu3vJQwvw+e9K8JszF15LwBLZJAMRO5eD4+iGwcn20D9CDz8lQc6UvEMSQT2DgU5vsoishYNfNQet4rsEVJMyYpY+Fn/ZQ7cEE80pk4EGscZ09har+fCq6/VOgQmgTrzETAjMKEURIihSB1gy0GC6ytfMWyAQ5pcW4fK0Fhud9MQLXhhgKAFgshBa4cLrglllbm7apVZj96JLZXp+3gSbomwC8gCYKIbV1ool1nFVHg9p7sJ1hqYA5oK0tycGqnnwsMbcUMK7g1UnkpiIBAC8xN70b3v73gcePuhda48mteFEWlHmFUF1o1F+rgDTu9frrNXEheZnh0a2Xs6zTAFOoygC1KtqSNiUsk6IrhJqNBrdQua9p3q9rlEUwTvAxcQV5wQ2gieQlaAgAxAQIL39oD0KQ03u8sg5h74IaZ5GupwugwxgTQUhNI0gh7WDQSXrLhgHBgZWLNMzanYnwChaRh4qgsiTqCLTmEhyJWMoBCGLkhTVuZh7vPc+pMG7zGHKCCcwakwEQXuLYUgDG4PcCyzduCLpgmFm5Hm+EgNURdUAQFmZgCqgsGUAUDbQEALYdhaL1K7KUWKx1HRgSyiRFSDvNAnDoKABViGApbyrcxWYorx3m2Xn94dRhILTrMdtuv2rvaZTrBMgxfahF5AtDis2ld1R80P6j3Nu1SahaBvMTD0XuTFKC8X2xg3efwP0oy5oxFrLMgAAAABJRU5ErkJggg==",FE="/assets/shu.17bf9ded.png",OE="/assets/shu.a2e087f8.gif",LE={"f31b4a9dae7041e171ce5a56dda5d8a91.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"f31b4a9dae7041e171ce5a56dda5d8a92.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"f31b4a9dae7041e171ce5a56dda5d8a93.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}},"f31b4a9dae7041e171ce5a56dda5d8a94.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620},anchor:{x:.5,y:.5}}},NE={f31b4a9dae7041e171ce5a56dda5d8a:["f31b4a9dae7041e171ce5a56dda5d8a91.png","f31b4a9dae7041e171ce5a56dda5d8a92.png","f31b4a9dae7041e171ce5a56dda5d8a93.png","f31b4a9dae7041e171ce5a56dda5d8a94.png"]},kE={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"shu.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:8606dabc83be1929ae9e15f38f6b4816:87b6632b11a229b3421f0aa278d7ae9d:78d9ce5490c3fdb47b00af3f18e93e81$"},UE={frames:LE,animations:NE,meta:kE},GE="/assets/huapen.393f21a8.png",zE="/assets/huapen.0e627e97.gif",HE={"24afb299ff52c2481dfd0c991cb8d57a3.png":{frame:{x:0,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"24afb299ff52c2481dfd0c991cb8d57a21.png":{frame:{x:620,y:0,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"24afb299ff52c2481dfd0c991cb8d57a30.png":{frame:{x:0,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}},"24afb299ff52c2481dfd0c991cb8d57a50.png":{frame:{x:620,y:620,w:620,h:620},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:620,h:620},sourceSize:{w:620,h:620}}},jE={"24afb299ff52c2481dfd0c991cb8d57a":["24afb299ff52c2481dfd0c991cb8d57a3.png","24afb299ff52c2481dfd0c991cb8d57a21.png","24afb299ff52c2481dfd0c991cb8d57a30.png","24afb299ff52c2481dfd0c991cb8d57a50.png"]},XE={app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"huapen.png",format:"RGBA8888",size:{w:1240,h:1240},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:da773b61d24d93139f4f11e038f86f13:9845213ea2a2a358e6e4db74fa946728:323398429be66a633f7738713c0499c4$"},VE={frames:HE,animations:jE,meta:XE},Vc=new Array;let de,zs=0,Wc=0,Vi,Yc,Wi;const ns={init(t,e){const s=_e.initpardata(t,e);zs=s[4],Wc=s[5],console.log("\u5C4F\u5E55\u4F38\u7F29\u6BD4-x\uFF1A",zs,"y\uFF1A",Wc),typeof de<"u"&&de.destroy(),de=new wl({width:t,height:e,antialias:!0,backgroundColor:2719929,backgroundAlpha:.2,resolution:1})},testapi(){vn.getspritedata()},getPixiApp(){return de},getCanvas(){return de.view},getwr(){return zs},loadobj(t,e){_e.backgroundinit();const s=new it(U.from(GE),VE);s.parse();const i=new nt(s.animations["24afb299ff52c2481dfd0c991cb8d57a"]);i.animationSpeed=.05,i.loop=!0,i.gotoAndPlay(0);const n=new Ae(i,zE,"huapen",20,200,70,70),r=new it(U.from(FE),UE);r.parse();const o=new nt(r.animations.f31b4a9dae7041e171ce5a56dda5d8a);o.animationSpeed=.05,o.loop=!0,o.gotoAndPlay(0);const a=new Ae(o,OE,"shu",50,200,70,70),l=new it(U.from(IE),DE);l.parse();const h=new nt(l.animations["2424c7ec7ae01964a42dd618c0ce5aa"]);h.animationSpeed=.05,h.loop=!0,h.gotoAndPlay(0);const c=new Ae(h,PE,"guo",100,200,70,70),u=new it(U.from(wE),CE);u.parse();const d=new nt(u.animations["568c24782fd06ec7702575a324caccf"]);d.animationSpeed=.005,d.loop=!0,d.gotoAndPlay(0);const f=new Ae(d,EE,"shizhong",100,100,50,50),p=new it(U.from(cE),mE);p.parse();const m=new nt(p.animations["3e72d2305d5b8bb138068391c68452b"]);m.animationSpeed=.05,m.loop=!0,m.gotoAndPlay(0);const y=new Ae(m,uE,"xiaocao",250,400,100,50),x=new it(U.from(gE),bE);x.parse();const b=new nt(x.animations["5e3b4c18753c3b6f9125bc6ca3d5f79c"]);b.animationSpeed=.05,b.loop=!0,b.gotoAndPlay(0);const g=new Ae(b,yE,"caocong",450,100,100,100),_=new it(U.from(nE),hE);_.parse();const T=new nt(_.animations["3d6cb1337a4516bbd5d425f2f7a05b"]);T.animationSpeed=.05,T.loop=!0,T.gotoAndPlay(0);const k=new Ae(T,rE,"heye",350,400,100,100),I=new it(U.from(J1),iE);I.parse();const E=new nt(I.animations["2a4437fb90f7169cb29a9ad86cfee13f"]);E.animationSpeed=.05,E.loop=!0,E.gotoAndPlay(0);const G=new Ae(E,Q1,"hua",250,300,100,100),C=new it(U.from(W1),Z1);C.parse();const A=new nt(C.animations["0fce7ce5942b91467435bcbbeeae7cbe"]);A.animationSpeed=.01,A.loop=!0,A.gotoAndPlay(0);const O=new Ae(A,Y1,"yinghuashu",150,600,300,200),B=new it(U.from(G1),V1);B.parse();const P=new nt(B.animations["0fb2d1232966ba7925141896913d3a"]);P.animationSpeed=.05,P.loop=!0,P.gotoAndPlay(0);const oe=new Ae(P,z1,"luohua",150,600,90,90),Q=new it(U.from(F1),U1);Q.parse();const L=new nt(Q.animations["0ee4442ef715642a383c7e1055887d7d"]);L.animationSpeed=.01,L.loop=!0,L.gotoAndPlay(0);const Z=new Ae(L,O1,"wenduji",150,600,90,90),ue=new it(U.from(I1),D1);ue.parse();const F=new nt(ue.animations.fireplace_wps\u56FE\u7247);F.animationSpeed=.2,F.loop=!0,F.gotoAndPlay(0);const J=new Ae(F,P1,"fireplace",150,500,138,138);console.log("Spritesheet ready to use!");const re=new Ie(U.from(Dc)),me=new Ae(re,Dc,"shafa",300,700,200,100),be=new Ie(U.from(Nc)),Le=new Ae(be,Nc,"shujia",100,700,100,50),ve=new Ie(U.from(kc)),Ce=new Ae(ve,kc,"topgui",130,300,120,60),Ge=new Ie(U.from(Lc)),Me=new Ae(Ge,Lc,"chugui",450,700,100,100),Be=new Ie(U.from(jc)),Ee=new Ae(Be,jc,"yigui",100,300,80,120),v=new Ie(U.from(Fc)),w=new Ae(v,Fc,"axi",100,300,80,50),S=new Ie(U.from(Hc)),M=new Ae(S,Hc,"xiaoguizi",150,420,100,100),D=new Ie(U.from(Oc)),H=new Ae(D,Oc,"bingxiang",550,700,100,200);Wi=new Ie(U.from(Rc));const W=new Ae(Wi,Rc,"guizi",180,700,138,138),z=new Ie(U.from(Uc)),V=new Ae(z,Uc,"matong",300,100,50,50),N=new Ie(U.from(zc)),te=new Ae(N,zc,"chuanghu",300,100,60,60),$=new Ie(U.from(Xc)),se=new Ae($,Xc,"maojing",200,100,50,50),ae=new Ie(U.from(Gc)),he=new Ae(ae,Gc,"xishoupen",300,100,70,70);Wi.name="guizi",Wi.width=138*zs,Wi.height=138*zs,Vi=new Ie(U.from(Mc));const Se=new Ae(Vi,Mc,"xiaomihu",75,250,69,69);Vi.name="xiaomihu",Vi.width=69*zs,Vi.height=69*zs,Yc=new Ie(U.from(Bc));const Te=new Ae(Yc,Bc,"xiaosongshu",75,330,69,69);this.loadsp(Z),this.loadsp(J),this.loadsp(W),this.loadsp(Se),this.loadsp(Te),this.loadsp(oe),this.loadsp(O),this.loadsp(G),this.loadsp(k),this.loadsp(y),this.loadsp(g),this.loadsp(f),this.loadsp(c),this.loadsp(n),this.loadsp(a),this.loadsp(me),this.loadsp(Me),this.loadsp(H),this.loadsp(Le),this.loadsp(Ce),this.loadsp(M),this.loadsp(Ee),this.loadsp(w),this.loadsp(V),this.loadsp(se),this.loadsp(he),this.loadsp(te)},loadsp(t){_e.toloadsp(t),Vc.push(t),t.load()},loadeventlisten(){window.addEventListener("mousewheel",t=>{console.log("mousewheel");const e=t.wheelDelta>0?.1:-.1;de.stage.scale.x+e>=.1&&(de.stage.scale.x+=e,de.stage.scale.y+=e)})},tickinit(){de.ticker.add(t=>{_e.sprebackregister(de.stage.getChildByName("xiaomihu")),_e.sprebackregister(de.stage.getChildByName("xiaosongshu")),_e.sprebackregister(de.stage.getChildByName("guizi")),_e.sprebackregister(de.stage.getChildByName("fireplace")),_e.sprebackregister(de.stage.getChildByName("wenduji")),_e.sprebackregister(de.stage.getChildByName("luohua")),_e.sprebackregister(de.stage.getChildByName("yinghuashu")),_e.sprebackregister(de.stage.getChildByName("hua")),_e.sprebackregister(de.stage.getChildByName("heye")),_e.sprebackregister(de.stage.getChildByName("xiaocao")),_e.sprebackregister(de.stage.getChildByName("caocong")),_e.sprebackregister(de.stage.getChildByName("shizhong")),_e.sprebackregister(de.stage.getChildByName("guo")),_e.sprebackregister(de.stage.getChildByName("huapen")),_e.sprebackregister(de.stage.getChildByName("shu")),_e.sprebackregister(de.stage.getChildByName("chugui")),_e.sprebackregister(de.stage.getChildByName("shafa")),_e.sprebackregister(de.stage.getChildByName("bingxiang")),_e.sprebackregister(de.stage.getChildByName("shujia")),_e.sprebackregister(de.stage.getChildByName("topgui")),_e.sprebackregister(de.stage.getChildByName("yigui")),_e.sprebackregister(de.stage.getChildByName("xiaoguizi")),_e.sprebackregister(de.stage.getChildByName("axi")),_e.sprebackregister(de.stage.getChildByName("maojing")),_e.sprebackregister(de.stage.getChildByName("matong")),_e.sprebackregister(de.stage.getChildByName("xishoupen")),_e.sprebackregister(de.stage.getChildByName("chuanghu"))})},getloadsprite(){return Vc}},$c="/assets/musicopen.2e1d2e98.png",WE="/assets/musicclose.582dbf2a.png",qc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAByCAMAAACLFKgDAAABiVBMVEVALycAAABENClEMipSQDdTQThKOTBLOTFFMytFMyxHNC1FNCxINSw3LCxCLydHNC5CLydEMilHNi1GMyxDMilHNS1INyzdy7nRuqSOcmTax7TbyLXgzrzTwK/RvKXSvaj35tRbSUDfzbzUwKvWwa3MtZ7PuaPZxrPVwazYxbLXw6+Ib1/YxLDTvqrs2snfzbp/YVTp49Lcybd/YlTTv67SvqzOuKDey7jLs5zcyreCZFbs2sjfzrzNtZ/PuKKFbFzJsZnUwa+ReWiFaVqEZljIsJeMcGLKs5rWxLKHalzr5dTdy7jYxbO/qpn05NLGrZOLb2DGrpWRdmiPdWajinqgh3iJbV67pJSxmoqljX6Zf3Hr2cfn1cOUemvJtaSWfG3k3Mvm4M+IdmuNcmPv3sze1cXMvKy0oZOdg3Th2cjOuqjw383Gt6js59XQvKqtloaqkYJYRTzb0sHCsKCynY66qprHsqHi0cHWzLvEq5FdS0LNwbHQxLTNuKamkoSgjoHTyLju6tl9X1LhU1JcAAAAF3RSTlP2ABTf/vr48ejPkoREBfIx4rlenLRlLj4nQxkAAAjnSURBVHjaxNE7i4NAFIbhWc39fmPZajdmoyyBWFjIhOBgE6ZZZrDWSsQUphECIWny1/d4Yi5sP/j+gfPwHfKGab3ubESqaqDPuj3tJkFQ/72jN+u5UVl5val3hv07SJu0G5f4mDqLivo9HONLoz3RbiCt06rFhygR88oSSXSIa62OVoD6k1Z+PQmR2WEYbp/ZSts+g6t2JsTpmrcmfQAN27VrJLJo5VFKTdPzXNdlzLI+VGZZFmNwyPNME86yVZSJ6FprD9+INm3EJ5FsaCBlEOx2O9/3OUWbyijE4RQcDIrLdJOIU9yYaqSnX1KROf5ZBmDhCPFciMFMimKwDuQhjIMqkGffyUR60Xuk24wjEfGzhG04v/9M7cvwZ4+PcQ47yTMHRtzsknF9nyRLiR5KkYOaT8WhCUmUokguk2RfH5NRngrbLf6F8wCn1HwprTQBCUcqvubaIs1HZGA485DKhwfWKTVrhZUmWOkhkjScO8aAEGMBoKD0MOSg5ltpaEISK0UBgBYGeQWhBzmo+VEYmpCEov+grbl79axvmqXC/milg50GgTAIwI+xLeiRGom0Ziu4rCmBtLSQvRA1UEgaD956wVOf3/Xfrvw0HHfnCb7MjDIFWJR7bxjEmPzPv0dpfGtRJi36+xFjI9AmlwUhj9I8WYsyIZGsKN9gUAqDDR7QPFoLmAYRjJZiUJRCQcgDmgdLARMSQUVpNAZFiRxMe2Q7SuNYiDLJlrRIjpZEN6DDtSDscSwGi64VHTAoYRGAAu0BjmstQNKiAEARS8agRBfk++DRnFiIV0MhQsSapES+rytKxqAFQwXJvbSHCuIUWWgoL1nhEEGpFsnVUEVsMQnCHkqFGzafXx9zM3nv2iZ0pYgi0SRoOfOGxWAw4FBRNF2942szeV7zXd01BYkVCUYbNvNmyxEILaYKojHJ+orzsvqeG8q+5Lz6yUgcU1WR3mwShBeDgkjR13x7Ol7CezMJL8fTltc9dAQVwWbTIHUhvJigzZ6X7dklqzszWRH33Jb8l/36bWkchuMA/jJKXfMK9iCudciFQsh+ITSwQmm7/jlYuzHuOOQ44aYiKL52w3Rm0CisBjrQ7+Mv2Wdpmz+i9JXo9Znpl+hD0G6Cpi2BGoXYsRccohpIO1Ug/wjQmQKpD6wsyPIqdOwmvFqSohw5O9DZMaDLqOayGuGDf+d18zp/umMKPmyMKsnrCP84HsR+kuQOvw3kR8iUyFcV3WGGCtMdFXyXkJb1AGGUBpsp3g8zjxepaa1bxPODTr6cdbPMVUeD/m2C7KIP6MI9d5G3/61K8OC8m4CLao73nWxMTRlnlRZ5SI37WRD2Y0FAmJY6ICJ+eSJ+nNGxOTSL/UuroGjBIW9Y9/VocuCLCO86+fj95BG2CQpZGogGm9a6RgQpC3edlr7roS0LLYH0IMxzuvHYvhWi2QegGbIPQkYQ+gZ9g74MiEoAekIgCpxwkCcDUh5IgJ8OSHL5tE0JaNDAKzUQ935VA6caNOxeBiT7v76RnOq9bNjdXqoZWt8WXOrdftjzkCSbx8nfhMh+5yH7J0bl/D152BCwfmLseaZOeLKd3LtEpvpMbQfU69bBptcgbye/ZoHbRPrWYQfU517mOWUB1Xr1h4hGdyyB+mWb8Hq1uuZF6SvO8KDnZs6tV2kgisJG3708GNKDGjUmqC9jqcTMVh9Ka2UKJA3lWlMpIaUFaWm4GBMuOfrLnWJ1OFFEIRm63ggEVjvt3pvMt4pGfckaiguiRLlUGHoj25I5DZYadO8zQ9yvISZU8kFb6q4FzRZ+gxDKnOUuY0KVSGkuxJ5HoDsbhXIlc4Y6xITQveycKG0nmFqgGprQjT5XEO9KvbteIxlXm1AfBuLABkl6AYoQFRDvXsbusLrgr0NBsl1d7A0aXcumnyKNEHHt9my51r4iqZ2RBf1LkWroDt3lRAOlU0I85yF2fnwVFBCqHdUY96ghPQh0cbjQwGhhxG1iZH7kOnVjKc3JhBDP0cUfChyPgPUScZypE+WrBpgz2jgaLUPdUEOJ9KkFcRvhZojVH5V4Dp07rKoAjSEz1FsQtV7iaohV6GBqSjYztJX+xZRqBa6GWA/76ppSsSVAZ9fQsAHGjOM1xF4W3a9u7YVJDfm7hpy5Qrw8OoOhmvt16EOzbkDXDcRf6i2ayiSHuC9Z8QUdO+iPgwJqvGRMYzqzVXgbQrIF2krX3Y2hKPZA3NVSA1rTORdGVOmoZO4EojubzFc9cVerPvglxLt14KoG/VlP13uOI16R/qUPlox4N1dU6ihQmzk6lXhVl8wQp/GDNVfNm4qJH6aVlhjSvvEc0FCGjh9A/PFQTM7Rbqmm7RXJRVUo8BxhURgZAEZn7PYST6xUf6ZvX1Q7ZuH4/bIjhnxUanWJpBqWt5w6zJDTVsg8i+ixzf37R+8oZo75G4RwOKkRAKLZ3pSV6rHxo9/n12Ee4+P3XI8QQhejth0zEaRx+XPV9FVfqsXXAMavyvi/NoFzp+9KI5QtVCPLALXxRf85ETWhK28PsIz/fZucgQSZ8KR9e4RwTm6ZoG5cfetnXIRm+wLFfsr4IEjwO2rByIby8WRDtipA3EoC3RnboPqFV+VY+A+oxWEYJWE/uu3P4csj9QxdzJugLabupSeAan3MZLZ29sEoh3CdshydQsf0hahyrxQRaJpmn1A/n3EZx9qL6xwCmk7kh158M2aVbFgnEFd0o75O3OwHmg4jX6cSVn5rnQsj2zS7napM7/VYB5CvA1AcLl/ILwtHK5Qr2XyJfsHL5/TgmPZAcYewwdMxPZzffgEV/is2+GCLDaYZrEwferoD5z7lCec+3YVz9+HLT/nhy0+v4MtpBrxTh8CnLSSQuhhFqoImNx9VHr5OUxTnRtrCSnGc61Oa4lypC7wlkcB3544EvksigT9Dk9kzhybfZ5PQJIuVPuEQK2W6Git9+4TFSrfB2815g7cftsHbTRy8TWM0mTq6G4e3vQF+fCbhgReHt+9e/xVvv5WuePuPBwDcuX3z2pl08/adXw8A+A6/LLEPA0nWVQAAAABJRU5ErkJggg==",YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAByCAMAAACLFKgDAAABjFBMVEVALycAAABENClEMSpEMipSQDdTQThKOTBLOTFFMyxGMyxFNCxHNi1INSxCLydEMikvLy9INC5HNS5GNS1DMilJJCTdy7nWwq7QuqSIb1/PuKLezbzMtZ9bSUDdyrfSvaj35tTRvKXUwKvYxbLax7TVwa3YxLDfzruOcmTZxrPTvqrs2snbybbTwK/byLWHbl1/YVTezLqwmIjRvavOt6Cvl4exmYnZxrTp49LLs5vs2siFbFyReWjMtJ3Sv62EZ1nq5dTIsJe1no3VwrDJsZmMcWKBY1Wtloazm4uCZFbKsprFrJPUwa+2oI+0nIy4opHLt6a8p5aLb2H05NLGsaDGrpXhz7y6pJPg2MfNuafHuanItKKkjX7Ou6mZgHKJcGDYzr7Er52OdWWGaVvs59a/qpjBrJucg3OQdWaVfG2ji3yXfm6TemqiiXqLcmKIdmvv3syfh3fw383n1sXMvK1YRj3q2Melj3/h0sHl3c2wno/n1MHYwqyok4KzopSgj4LNwLHWy7p+YFN8XlAWyauVAAAAFnRSTlP2ABTm3/76+PHPmIRgRPK5BTCPM7QH06d/BAAADDtJREFUeNrE0ctqwkAUxvFpEu+Xaiu0aMamhW4al4FyArMIZOUsh9n4Egm5ISr66j2ZgzQvMPhfns33g8OeTM5ssvLYo5p7q8nMIYkBLZZjb9iv+cOq+0NvvFzcQc50NODZqdptHtTv4ZTxwWjqEMh5cXvZocxV8LBUXh6ynvvitKDF1K1vR6WKsGniTqHVuktNHBZKHW+1O10gaDnq3UpVnC8RgBC+70dRtMberbbGcAjnhACxvpwLVd56o9cn5owH2VHlW9BSap0kSZrugWgWE8gA2KcpDup2Gba5OmaDscNmHq9UsU3xSBbhCz/C1laLMBwSpEJSui1Uxb0ZmwyzUp0BOQlx6Gf2X0YfI1KCJDirMhtO2HP/mucXKcljOKT5tBqZDIlEUl7y/Np/Zl5dqTCSuvUI4pDmw2pkIpJoRVpGoapql835LohBdjx3zY/F7qaOSEIc7PicMb4JGtDkaTnoMZovqxkTiloSiTQ0wYYzA4qFTgGMhzhG820xYzIkEgGkWsQdULL/9yCHNG/W+qOlDlZchaEwAL+FDEPJJo7gjATMrREXCrUFQ0m1BUFEXLjQ93+Ee5KjjR0qzL0z80PhCDX9+h8RTUCyovNhDdodEv3yuXt+U2NNd5F+JSWH3QMICrIe5Hi/EjwXSVYEFT2CTikuDD0zh/5MfMh9fhsGRelMQhEuLT2tQfuTKch6UOP/SLwsU57v6tF9G7mozdmGhCKs6LRfg84pLsx6UON+P9mUy2r44/mM+dnIiyLvdWVWhEtLzw+gZC7Ier6BYW7M2HLRN2AoeHnrMnWFOSr4QN21aK4oWYNek70BvcPzrD3IYf+VwFVtrygLAj33VRRFXH9kWUoz84kyF0ggMk/2uwHtk9cH0FKQ9eDp/xwSXyspL1Pvwd3+9QIEHTAVhZkjMcTBIrIVfQKl64IoRc+XDYHLArJ4ujwqdCFN3bdTaT06ZpItg4CI0nVF6XOQ9cw/8IX4fddlfkAc4jh0kNgDkKQUekaKkDK/CH15UXCuFT0Dfbzs7MbMwtCzbXAcOx+nUsh8vB7hruMk4bdNZom+lOXlNnT9McsjwcXoExTppdmd7V4+PoFwY563FES2w1xGFpK6mf8tymrq6kpw9GBJQMmrsb5mNIY7QrfhgssOTl4q8jzc2SYIN4YF6SKehqh6Gno/cMIwJFkj+CwQUnM4RNdS6loMJSD6m44TsknwKFcOwYrszjZBdmPbnjBoKwCUTadiFrcVGObgjmwtcaz+8lq3LWoDQQCA/0UgCPslpRtKTNwEs4LFiCGJC140QapW26o5306vcFC4Kly5tn+8k80Zz9IUkpObL8YNJI8zs+s0bBVjsCShjKGgA0oQiJKa5QFl5efNuBVvYK9qtoLloM0RZ92yhG6hFCpEF7e7VXWspiDhk181l/A9JwhaSMkEodHAb/Hw/dZV61nwtBgSVXmJhJL0ELIKi+ZXUirqQFfPnkD8LMoBQlkgVZJoEhIEPQs16ZakskHI6rJjuaFOn0SEdqt6QGMQKgQq4X/Fh/8ETgJeju0V0w7Tx4nmyr0UtDCr/ggVA8FvlOxyoeggABlyZTe9bn73rKitHrPWh03YNQqBBKUR3G/XcoEINx0slHqO+3l43ax9DK0bCR8b0IdDYVAuAEJvg8+i5VaKxG+tcQ66PYKEMj+rA1vIC0Idz2EsCuWCGcoAEelKN0G0pEI+kGJ7omvtzLFRtIcyQDQwQVRtGfkypL4ZOKw+GakCLhZCFkidxSC93VNQHpDyacusSQMToXBk9BDqtTlolOtgVKWBxnYjeMjFQYLh85KVc5VM6dxYkU4L54dgTMhfoHgt6Wq+zaiQC/Ruw8I+QsU4WKC2TQl+DqI4XoNbhA7iIXas5soQMuYVxyAFQXbfW628Ph09AzXGfM1ORyKUEyRX5AYuBEL9OydizJK92Ql0dz+3GIucO0g7jERxxV4N1NtYbuQ4kRuuNHYEbUXG16xNLx6J2n31tUCE6hFbHx4fDyGzLOsJxCImmrC2ZpGp2i3P7ymvVDI+c4Qf983mMHDYCcTEw7DZ3MPVSlK6l84QxqVsUFn+tR5e1+Dtyzk7lqwCHri4Hq5/yR1hYerdhnI5ELI7Ujaos6vIP5u1Wq257793E5AYHYZ86SdMSDbhI9GIosuAiLK82z18Ilkg6caybqaJ6ONuy0FrPfFM43sS4SORP7MvAiJkvK3Xv9xLWSJlIbtHUe2bF3fOtx+px5UXiPCRCLZ+4xIgXL7VNK0+h+dmbbOuk4r23/fwMdynHqdLCaF8JIJh/636YhCh7a+aKGrayuCgTNEERGmceY4jke75xoszRITZe00TQfTVV3OInnlOI1G1fQGQsYo9GqRo0yNCjhxNJ4knHYn4H9pLS1aSvC+A4aYvDxLOFl2dROee00h0gR4iSvCHOLNrTRyIwvC/yCJCblI6LYxJT6TOhRLBoY0XseoSkOBHMK0aqxVy5dVe9J/vmRljMFZ2Y8rui4gZAj6ZOWfOmzmRhYq2AitaaJAzQXBOdM6jLBECNXxWDghgsLEESWcUWyKuHXISXoyz8znKeHoMQBIpS4QvsPWSaU/4RERP5Z0be/Fj16OQEeiBm7jT0zl6RaKMhxBaNzWUtET24+iWlgICs7cTE7MZEBhvLdQ6gGw157PQCj/qZ0Rvb+n8aOYiqZHDKRFO0ZyVAgLwt00RQEMKwBoiikLXgLRgjCRiOHHIKdH+83PyKnnwgZ6eFBBaIhtfhMxSS0acxLJkclVF+s/ERTw/sHqNqGlVZO7xU6L23d1hfoiHpf4AxDuPGEKlahnc26GM5GlVRswwEleJJ+i06X6HPJb47NxsN6iy3l374aF9hzyi6DylQMD6dkkg0BexhWotVa4Df7dEXPcpgD5OFIz4au66GZE40otbHwsGyik9HIEWMutpCaBgJgEax3c1vyUjfErYYmNJmPVKzmHUZ5A9h+F5hg5aDoj6YqOeXj9DcPtLZXyNpCM3rorreq8llytMxtNE3NRsDc2MiEh7mQPC4vGCB7b9q2sZ0BGGjNycCV4BiLxq7ORQEqmV2k+rJFjJ39slzdW5PJCwREg0ql8HBDBeq5qajCkh94FBSO0xlkMqlptRwyOA983kwHquw0UgECeevPdoC0fkFQXKTFkFhXEyZLy7dh2VVyhZaXHYIIDS/I0k2ow1uABkMlYLxouuOu6f3xYFykwZSgSIu4+au2QWKkTFtPZ1QlhQ14m+XEui1QDgKyBP84f9zkv30Atxez/uiwJlpkz9eRhaUpVU8u+rer27XfmU0J5ylEnwJRCnuFbHhpXtdrziQMqUpVIo8isbC1fL4QrXEFcu+KjIGyqqrJ0DocEXDRrsduIEuSNeGEiZsstSlHFkCcV7XMsD5N4hF4BsuzOvO4NFx7Z9o2gMKVNW+RNROnHH0LKyspYHEm+Jpq5T5syHTvEsk6bsb5XFVlbW8kAuHuTroKPoPWdFgaqGMGVXCTenDiN5ILNjjxy8ShtmRYFIrdWsXClV1nJpT4dzrh2Bbv4pkCxrFHIbIzO1/waERBtOckCglQSK283r1Y5qeSCtJBCfxa3rFc/4dwHFz+pYWOe1MuKpg1H9vPhaIOps0oNzUk7aUeD/fF7zDKhYr+PQWtC1bxOhjdf2JN0qC7fJjb5svnwn0G/m7V6FQRiMwvBdCC5ZVGwgxkqgHQo6hFYCnYIQCnZy8e/+5yIEIoUzlKTgewVnEYfvyXtVpWHuI/tlUELteaqKAlXlRT+oRbg9gFogjMKp0dsB70ryEJH01d/U3bCI2ABGwVyH2xNnJwr/RHdZh0fZJpGbA7gOBk28brU9AvunB6V0+4zcGgiaMPni0ixxo84hUk28GEmYC5MvjOI4FWaexpN/4zQbkZL9Go5RHGaDnFFZixDVkhLG96WYDWJYuU0i/tm/xFcAVnrQU48oBfQU4NwM4NyAOZyb7XEu4ssZ4MsBc6Ia8GUAvP8TBN5HJvCHeyTw2WDbRjGoNprwyZoDQ2gQbcVhKY0aXJuVQNu5igbTdq5Bt+ENuiXQcaC3BDpCtwTCNk3q0XfTpAzGpkk92KZJRuGB31ZqaQLfVjo4Nt6WgTfe1oI23g7Grcmwzdt1JWLSAwTESuqQNm8Dgejg2N4uCnIL4gAAfmY+hgECfMz88AMAAE9voRRQpVFIAAAAAElFTkSuQmCC",$E="/assets/furnbg.7331c313.png",qE=ol({__name:"FurniturnContein",props:{sp:null},setup(t){var i;const e=t;function s(n){console.log(n),n.changedTouches[0].pageX,console.log("\u89E6\u6478\u4E8B\u4EF6 \u70B9\u51FB\u4F4D\u7F6E\uFF1A","pagex:",n.changedTouches[0].pageX,"pagey",n.changedTouches[0].pageY),console.log("click"),console.log(e.sp),e.sp.setspedit(!0)}return li(()=>{console.log("onMounted",e.sp)}),new URL((i=e.sp)==null?void 0:i.url,import.meta.url),(n,r)=>{var o;return ei(),Tr("div",{class:"bg",style:Cs({backgroundImage:"url("+sn($E)+")"})},[Ei("div",{onTouchstart:s,class:"box",style:Cs({backgroundImage:"url("+((o=e.sp)==null?void 0:o.url)+")"})},null,36)],4)}}});const Ll=(t,e)=>{const s=t.__vccOpts||t;for(const[i,n]of e)s[i]=n;return s},KE=Ll(qE,[["__scopeId","data-v-774ab4c6"]]);function Kc(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Nl(t={},e={}){Object.keys(e).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:Kc(e[s])&&Kc(t[s])&&Object.keys(e[s]).length>0&&Nl(t[s],e[s])})}const Ff={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ft(){const t=typeof document<"u"?document:{};return Nl(t,Ff),t}const ZE={document:Ff,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ye(){const t=typeof window<"u"?window:{};return Nl(t,ZE),t}function JE(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(s){e.__proto__=s}})}class ws extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),JE(this))}}function An(t=[]){const e=[];return t.forEach(s=>{Array.isArray(s)?e.push(...An(s)):e.push(s)}),e}function Of(t,e){return Array.prototype.filter.call(t,e)}function QE(t){const e=[];for(let s=0;s<t.length;s+=1)e.indexOf(t[s])===-1&&e.push(t[s]);return e}function eT(t,e){if(typeof t!="string")return[t];const s=[],i=e.querySelectorAll(t);for(let n=0;n<i.length;n+=1)s.push(i[n]);return s}function K(t,e){const s=Ye(),i=ft();let n=[];if(!e&&t instanceof ws)return t;if(!t)return new ws(n);if(typeof t=="string"){const r=t.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){let o="div";r.indexOf("<li")===0&&(o="ul"),r.indexOf("<tr")===0&&(o="tbody"),(r.indexOf("<td")===0||r.indexOf("<th")===0)&&(o="tr"),r.indexOf("<tbody")===0&&(o="table"),r.indexOf("<option")===0&&(o="select");const a=i.createElement(o);a.innerHTML=r;for(let l=0;l<a.childNodes.length;l+=1)n.push(a.childNodes[l])}else n=eT(t.trim(),e||i)}else if(t.nodeType||t===s||t===i)n.push(t);else if(Array.isArray(t)){if(t instanceof ws)return t;n=t}return new ws(QE(n))}K.fn=ws.prototype;function tT(...t){const e=An(t.map(s=>s.split(" ")));return this.forEach(s=>{s.classList.add(...e)}),this}function sT(...t){const e=An(t.map(s=>s.split(" ")));return this.forEach(s=>{s.classList.remove(...e)}),this}function iT(...t){const e=An(t.map(s=>s.split(" ")));this.forEach(s=>{e.forEach(i=>{s.classList.toggle(i)})})}function nT(...t){const e=An(t.map(s=>s.split(" ")));return Of(this,s=>e.filter(i=>s.classList.contains(i)).length>0).length>0}function rT(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let s=0;s<this.length;s+=1)if(arguments.length===2)this[s].setAttribute(t,e);else for(const i in t)this[s][i]=t[i],this[s].setAttribute(i,t[i]);return this}function oT(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function aT(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function lT(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function hT(...t){let[e,s,i,n]=t;typeof t[1]=="function"&&([e,i,n]=t,s=void 0),n||(n=!1);function r(h){const c=h.target;if(!c)return;const u=h.target.dom7EventData||[];if(u.indexOf(h)<0&&u.unshift(h),K(c).is(s))i.apply(c,u);else{const d=K(c).parents();for(let f=0;f<d.length;f+=1)K(d[f]).is(s)&&i.apply(d[f],u)}}function o(h){const c=h&&h.target?h.target.dom7EventData||[]:[];c.indexOf(h)<0&&c.unshift(h),i.apply(this,c)}const a=e.split(" ");let l;for(let h=0;h<this.length;h+=1){const c=this[h];if(s)for(l=0;l<a.length;l+=1){const u=a[l];c.dom7LiveListeners||(c.dom7LiveListeners={}),c.dom7LiveListeners[u]||(c.dom7LiveListeners[u]=[]),c.dom7LiveListeners[u].push({listener:i,proxyListener:r}),c.addEventListener(u,r,n)}else for(l=0;l<a.length;l+=1){const u=a[l];c.dom7Listeners||(c.dom7Listeners={}),c.dom7Listeners[u]||(c.dom7Listeners[u]=[]),c.dom7Listeners[u].push({listener:i,proxyListener:o}),c.addEventListener(u,o,n)}}return this}function cT(...t){let[e,s,i,n]=t;typeof t[1]=="function"&&([e,i,n]=t,s=void 0),n||(n=!1);const r=e.split(" ");for(let o=0;o<r.length;o+=1){const a=r[o];for(let l=0;l<this.length;l+=1){const h=this[l];let c;if(!s&&h.dom7Listeners?c=h.dom7Listeners[a]:s&&h.dom7LiveListeners&&(c=h.dom7LiveListeners[a]),c&&c.length)for(let u=c.length-1;u>=0;u-=1){const d=c[u];i&&d.listener===i||i&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===i?(h.removeEventListener(a,d.proxyListener,n),c.splice(u,1)):i||(h.removeEventListener(a,d.proxyListener,n),c.splice(u,1))}}}return this}function uT(...t){const e=Ye(),s=t[0].split(" "),i=t[1];for(let n=0;n<s.length;n+=1){const r=s[n];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(r,{detail:i,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((h,c)=>c>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function dT(t){const e=this;function s(i){i.target===this&&(t.call(this,i),e.off("transitionend",s))}return t&&e.on("transitionend",s),this}function fT(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function pT(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function mT(){if(this.length>0){const t=Ye(),e=ft(),s=this[0],i=s.getBoundingClientRect(),n=e.body,r=s.clientTop||n.clientTop||0,o=s.clientLeft||n.clientLeft||0,a=s===t?t.scrollY:s.scrollTop,l=s===t?t.scrollX:s.scrollLeft;return{top:i.top+a-r,left:i.left+l-o}}return null}function gT(){const t=Ye();return this[0]?t.getComputedStyle(this[0],null):{}}function yT(t,e){const s=Ye();let i;if(arguments.length===1)if(typeof t=="string"){if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(i=0;i<this.length;i+=1)for(const n in t)this[i].style[n]=t[n];return this}if(arguments.length===2&&typeof t=="string"){for(i=0;i<this.length;i+=1)this[i].style[t]=e;return this}return this}function xT(t){return t?(this.forEach((e,s)=>{t.apply(e,[e,s])}),this):this}function vT(t){const e=Of(this,t);return K(e)}function _T(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function bT(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function wT(t){const e=Ye(),s=ft(),i=this[0];let n,r;if(!i||typeof t>"u")return!1;if(typeof t=="string"){if(i.matches)return i.matches(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);for(n=K(t),r=0;r<n.length;r+=1)if(n[r]===i)return!0;return!1}if(t===s)return i===s;if(t===e)return i===e;if(t.nodeType||t instanceof ws){for(n=t.nodeType?[t]:t,r=0;r<n.length;r+=1)if(n[r]===i)return!0;return!1}return!1}function ET(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function TT(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return K([]);if(t<0){const s=e+t;return s<0?K([]):K([this[s]])}return K([this[t]])}function ST(...t){let e;const s=ft();for(let i=0;i<t.length;i+=1){e=t[i];for(let n=0;n<this.length;n+=1)if(typeof e=="string"){const r=s.createElement("div");for(r.innerHTML=e;r.firstChild;)this[n].appendChild(r.firstChild)}else if(e instanceof ws)for(let r=0;r<e.length;r+=1)this[n].appendChild(e[r]);else this[n].appendChild(e)}return this}function AT(t){const e=ft();let s,i;for(s=0;s<this.length;s+=1)if(typeof t=="string"){const n=e.createElement("div");for(n.innerHTML=t,i=n.childNodes.length-1;i>=0;i-=1)this[s].insertBefore(n.childNodes[i],this[s].childNodes[0])}else if(t instanceof ws)for(i=0;i<t.length;i+=1)this[s].insertBefore(t[i],this[s].childNodes[0]);else this[s].insertBefore(t,this[s].childNodes[0]);return this}function CT(t){return this.length>0?t?this[0].nextElementSibling&&K(this[0].nextElementSibling).is(t)?K([this[0].nextElementSibling]):K([]):this[0].nextElementSibling?K([this[0].nextElementSibling]):K([]):K([])}function IT(t){const e=[];let s=this[0];if(!s)return K([]);for(;s.nextElementSibling;){const i=s.nextElementSibling;t?K(i).is(t)&&e.push(i):e.push(i),s=i}return K(e)}function PT(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&K(e.previousElementSibling).is(t)?K([e.previousElementSibling]):K([]):e.previousElementSibling?K([e.previousElementSibling]):K([])}return K([])}function RT(t){const e=[];let s=this[0];if(!s)return K([]);for(;s.previousElementSibling;){const i=s.previousElementSibling;t?K(i).is(t)&&e.push(i):e.push(i),s=i}return K(e)}function MT(t){const e=[];for(let s=0;s<this.length;s+=1)this[s].parentNode!==null&&(t?K(this[s].parentNode).is(t)&&e.push(this[s].parentNode):e.push(this[s].parentNode));return K(e)}function BT(t){const e=[];for(let s=0;s<this.length;s+=1){let i=this[s].parentNode;for(;i;)t?K(i).is(t)&&e.push(i):e.push(i),i=i.parentNode}return K(e)}function DT(t){let e=this;return typeof t>"u"?K([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function FT(t){const e=[];for(let s=0;s<this.length;s+=1){const i=this[s].querySelectorAll(t);for(let n=0;n<i.length;n+=1)e.push(i[n])}return K(e)}function OT(t){const e=[];for(let s=0;s<this.length;s+=1){const i=this[s].children;for(let n=0;n<i.length;n+=1)(!t||K(i[n]).is(t))&&e.push(i[n])}return K(e)}function LT(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const Zc={addClass:tT,removeClass:sT,hasClass:nT,toggleClass:iT,attr:rT,removeAttr:oT,transform:aT,transition:lT,on:hT,off:cT,trigger:uT,transitionEnd:dT,outerWidth:fT,outerHeight:pT,styles:gT,offset:mT,css:yT,each:xT,html:_T,text:bT,is:wT,index:ET,eq:TT,append:ST,prepend:AT,next:CT,nextAll:IT,prev:PT,prevAll:RT,parent:MT,parents:BT,closest:DT,find:FT,children:OT,filter:vT,remove:LT};Object.keys(Zc).forEach(t=>{Object.defineProperty(K.fn,t,{value:Zc[t],writable:!0})});function NT(t){const e=t;Object.keys(e).forEach(s=>{try{e[s]=null}catch{}try{delete e[s]}catch{}})}function ja(t,e=0){return setTimeout(t,e)}function _n(){return Date.now()}function kT(t){const e=Ye();let s;return e.getComputedStyle&&(s=e.getComputedStyle(t,null)),!s&&t.currentStyle&&(s=t.currentStyle),s||(s=t.style),s}function UT(t,e="x"){const s=Ye();let i,n,r;const o=kT(t);return s.WebKitCSSMatrix?(n=o.transform||o.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new s.WebKitCSSMatrix(n==="none"?"":n)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(s.WebKitCSSMatrix?n=r.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(s.WebKitCSSMatrix?n=r.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function nr(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function GT(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function ut(...t){const e=Object(t[0]),s=["__proto__","constructor","prototype"];for(let i=1;i<t.length;i+=1){const n=t[i];if(n!=null&&!GT(n)){const r=Object.keys(Object(n)).filter(o=>s.indexOf(o)<0);for(let o=0,a=r.length;o<a;o+=1){const l=r[o],h=Object.getOwnPropertyDescriptor(n,l);h!==void 0&&h.enumerable&&(nr(e[l])&&nr(n[l])?n[l].__swiper__?e[l]=n[l]:ut(e[l],n[l]):!nr(e[l])&&nr(n[l])?(e[l]={},n[l].__swiper__?e[l]=n[l]:ut(e[l],n[l])):e[l]=n[l])}}}return e}function rr(t,e,s){t.style.setProperty(e,s)}function Lf({swiper:t,targetPosition:e,side:s}){const i=Ye(),n=-t.translate;let r=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const l=e>n?"next":"prev",h=(u,d)=>l==="next"&&u>=d||l==="prev"&&u<=d,c=()=>{o=new Date().getTime(),r===null&&(r=o);const u=Math.max(Math.min((o-r)/a,1),0),d=.5-Math.cos(u*Math.PI)/2;let f=n+d*(e-n);if(h(f,e)&&(f=e),t.wrapperEl.scrollTo({[s]:f}),h(f,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[s]:f})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(c)};c()}let Yo;function zT(){const t=Ye(),e=ft();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let i=!1;try{const n=Object.defineProperty({},"passive",{get(){i=!0}});t.addEventListener("testPassiveListener",null,n)}catch{}return i}(),gestures:function(){return"ongesturestart"in t}()}}function Nf(){return Yo||(Yo=zT()),Yo}let $o;function HT({userAgent:t}={}){const e=Nf(),s=Ye(),i=s.navigator.platform,n=t||s.navigator.userAgent,r={ios:!1,android:!1},o=s.screen.width,a=s.screen.height,l=n.match(/(Android);?[\s\/]+([\d.]+)?/);let h=n.match(/(iPad).*OS\s([\d_]+)/);const c=n.match(/(iPod)(.*OS\s([\d_]+))?/),u=!h&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=i==="Win32";let f=i==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&f&&e.touch&&p.indexOf(`${o}x${a}`)>=0&&(h=n.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),f=!1),l&&!d&&(r.os="android",r.android=!0),(h||u||c)&&(r.os="ios",r.ios=!0),r}function jT(t={}){return $o||($o=HT(t)),$o}let qo;function XT(){const t=Ye();function e(){const s=t.navigator.userAgent.toLowerCase();return s.indexOf("safari")>=0&&s.indexOf("chrome")<0&&s.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function VT(){return qo||(qo=XT()),qo}function WT({swiper:t,on:e,emit:s}){const i=Ye();let n=null,r=null;const o=()=>{!t||t.destroyed||!t.initialized||(s("beforeResize"),s("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(n=new ResizeObserver(c=>{r=i.requestAnimationFrame(()=>{const{width:u,height:d}=t;let f=u,p=d;c.forEach(({contentBoxSize:m,contentRect:y,target:x})=>{x&&x!==t.el||(f=y?y.width:(m[0]||m).inlineSize,p=y?y.height:(m[0]||m).blockSize)}),(f!==u||p!==d)&&o()})}),n.observe(t.el))},l=()=>{r&&i.cancelAnimationFrame(r),n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null)},h=()=>{!t||t.destroyed||!t.initialized||s("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){a();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",h)}),e("destroy",()=>{l(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",h)})}function YT({swiper:t,extendParams:e,on:s,emit:i}){const n=[],r=Ye(),o=(h,c={})=>{const u=r.MutationObserver||r.WebkitMutationObserver,d=new u(f=>{if(f.length===1){i("observerUpdate",f[0]);return}const p=function(){i("observerUpdate",f[0])};r.requestAnimationFrame?r.requestAnimationFrame(p):r.setTimeout(p,0)});d.observe(h,{attributes:typeof c.attributes>"u"?!0:c.attributes,childList:typeof c.childList>"u"?!0:c.childList,characterData:typeof c.characterData>"u"?!0:c.characterData}),n.push(d)},a=()=>{if(!!t.params.observer){if(t.params.observeParents){const h=t.$el.parents();for(let c=0;c<h.length;c+=1)o(h[c])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{n.forEach(h=>{h.disconnect()}),n.splice(0,n.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",a),s("destroy",l)}const $T={on(t,e,s){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=s?"unshift":"push";return t.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][n](e)}),i},once(t,e,s){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(...r){i.off(t,n),n.__emitterProxy&&delete n.__emitterProxy,e.apply(i,r)}return n.__emitterProxy=e,i.on(t,n,s)},onAny(t,e){const s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;const i=e?"unshift":"push";return s.eventsAnyListeners.indexOf(t)<0&&s.eventsAnyListeners[i](t),s},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const s=e.eventsAnyListeners.indexOf(t);return s>=0&&e.eventsAnyListeners.splice(s,1),e},off(t,e){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?s.eventsListeners[i]=[]:s.eventsListeners[i]&&s.eventsListeners[i].forEach((n,r)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&s.eventsListeners[i].splice(r,1)})}),s},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let s,i,n;return typeof t[0]=="string"||Array.isArray(t[0])?(s=t[0],i=t.slice(1,t.length),n=e):(s=t[0].events,i=t[0].data,n=t[0].context||e),i.unshift(n),(Array.isArray(s)?s:s.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(n,[o,...i])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(n,i)})}),e}};function qT(){const t=this;let e,s;const i=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?s=t.params.height:s=i[0].clientHeight,!(e===0&&t.isHorizontal()||s===0&&t.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),s=s-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(s)&&(s=0),Object.assign(t,{width:e,height:s,size:t.isHorizontal()?e:s}))}function KT(){const t=this;function e(C){return t.isHorizontal()?C:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[C]}function s(C,A){return parseFloat(C.getPropertyValue(e(A))||0)}const i=t.params,{$wrapperEl:n,size:r,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&i.virtual.enabled,h=l?t.virtual.slides.length:t.slides.length,c=n.children(`.${t.params.slideClass}`),u=l?t.virtual.slides.length:c.length;let d=[];const f=[],p=[];let m=i.slidesOffsetBefore;typeof m=="function"&&(m=i.slidesOffsetBefore.call(t));let y=i.slidesOffsetAfter;typeof y=="function"&&(y=i.slidesOffsetAfter.call(t));const x=t.snapGrid.length,b=t.slidesGrid.length;let g=i.spaceBetween,_=-m,T=0,k=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0&&(g=parseFloat(g.replace("%",""))/100*r),t.virtualSize=-g,o?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(rr(t.wrapperEl,"--swiper-centered-offset-before",""),rr(t.wrapperEl,"--swiper-centered-offset-after",""));const I=i.grid&&i.grid.rows>1&&t.grid;I&&t.grid.initSlides(u);let E;const G=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(C=>typeof i.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<u;C+=1){E=0;const A=c.eq(C);if(I&&t.grid.updateSlide(C,A,u,e),A.css("display")!=="none"){if(i.slidesPerView==="auto"){G&&(c[C].style[e("width")]="");const O=getComputedStyle(A[0]),B=A[0].style.transform,P=A[0].style.webkitTransform;if(B&&(A[0].style.transform="none"),P&&(A[0].style.webkitTransform="none"),i.roundLengths)E=t.isHorizontal()?A.outerWidth(!0):A.outerHeight(!0);else{const oe=s(O,"width"),Q=s(O,"padding-left"),L=s(O,"padding-right"),Z=s(O,"margin-left"),ue=s(O,"margin-right"),F=O.getPropertyValue("box-sizing");if(F&&F==="border-box")E=oe+Z+ue;else{const{clientWidth:J,offsetWidth:re}=A[0];E=oe+Q+L+Z+ue+(re-J)}}B&&(A[0].style.transform=B),P&&(A[0].style.webkitTransform=P),i.roundLengths&&(E=Math.floor(E))}else E=(r-(i.slidesPerView-1)*g)/i.slidesPerView,i.roundLengths&&(E=Math.floor(E)),c[C]&&(c[C].style[e("width")]=`${E}px`);c[C]&&(c[C].swiperSlideSize=E),p.push(E),i.centeredSlides?(_=_+E/2+T/2+g,T===0&&C!==0&&(_=_-r/2-g),C===0&&(_=_-r/2-g),Math.abs(_)<1/1e3&&(_=0),i.roundLengths&&(_=Math.floor(_)),k%i.slidesPerGroup===0&&d.push(_),f.push(_)):(i.roundLengths&&(_=Math.floor(_)),(k-Math.min(t.params.slidesPerGroupSkip,k))%t.params.slidesPerGroup===0&&d.push(_),f.push(_),_=_+E+g),t.virtualSize+=E+g,T=E,k+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,o&&a&&(i.effect==="slide"||i.effect==="coverflow")&&n.css({width:`${t.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&n.css({[e("width")]:`${t.virtualSize+i.spaceBetween}px`}),I&&t.grid.updateWrapperSize(E,d,e),!i.centeredSlides){const C=[];for(let A=0;A<d.length;A+=1){let O=d[A];i.roundLengths&&(O=Math.floor(O)),d[A]<=t.virtualSize-r&&C.push(O)}d=C,Math.floor(t.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-r)}if(d.length===0&&(d=[0]),i.spaceBetween!==0){const C=t.isHorizontal()&&o?"marginLeft":e("marginRight");c.filter((A,O)=>i.cssMode?O!==c.length-1:!0).css({[C]:`${g}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let C=0;p.forEach(O=>{C+=O+(i.spaceBetween?i.spaceBetween:0)}),C-=i.spaceBetween;const A=C-r;d=d.map(O=>O<0?-m:O>A?A+y:O)}if(i.centerInsufficientSlides){let C=0;if(p.forEach(A=>{C+=A+(i.spaceBetween?i.spaceBetween:0)}),C-=i.spaceBetween,C<r){const A=(r-C)/2;d.forEach((O,B)=>{d[B]=O-A}),f.forEach((O,B)=>{f[B]=O+A})}}if(Object.assign(t,{slides:c,snapGrid:d,slidesGrid:f,slidesSizesGrid:p}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){rr(t.wrapperEl,"--swiper-centered-offset-before",`${-d[0]}px`),rr(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const C=-t.snapGrid[0],A=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+C),t.slidesGrid=t.slidesGrid.map(O=>O+A)}if(u!==h&&t.emit("slidesLengthChange"),d.length!==x&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==b&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const C=`${i.containerModifierClass}backface-hidden`,A=t.$el.hasClass(C);u<=i.maxBackfaceHiddenSlides?A||t.$el.addClass(C):A&&t.$el.removeClass(C)}}function ZT(t){const e=this,s=[],i=e.virtual&&e.params.virtual.enabled;let n=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||K([])).each(a=>{s.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!i)break;s.push(o(a))}else s.push(o(e.activeIndex));for(r=0;r<s.length;r+=1)if(typeof s[r]<"u"){const a=s[r].offsetHeight;n=a>n?a:n}(n||n===0)&&e.$wrapperEl.css("height",`${n}px`)}function JT(){const t=this,e=t.slides;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop}function QT(t=this&&this.translate||0){const e=this,s=e.params,{slides:i,rtlTranslate:n,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;n&&(o=t),i.removeClass(s.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<i.length;a+=1){const l=i[a];let h=l.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(h-=i[0].swiperSlideOffset);const c=(o+(s.centeredSlides?e.minTranslate():0)-h)/(l.swiperSlideSize+s.spaceBetween),u=(o-r[0]+(s.centeredSlides?e.minTranslate():0)-h)/(l.swiperSlideSize+s.spaceBetween),d=-(o-h),f=d+e.slidesSizesGrid[a];(d>=0&&d<e.size-1||f>1&&f<=e.size||d<=0&&f>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),i.eq(a).addClass(s.slideVisibleClass)),l.progress=n?-c:c,l.originalProgress=n?-u:u}e.visibleSlides=K(e.visibleSlides)}function eS(t){const e=this;if(typeof t>"u"){const h=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*h||0}const s=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:r,isEnd:o}=e;const a=r,l=o;i===0?(n=0,r=!0,o=!0):(n=(t-e.minTranslate())/i,r=n<=0,o=n>=1),Object.assign(e,{progress:n,isBeginning:r,isEnd:o}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&e.updateSlidesProgress(t),r&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!r||l&&!o)&&e.emit("fromEdge"),e.emit("progress",n)}function tS(){const t=this,{slides:e,params:s,$wrapperEl:i,activeIndex:n,realIndex:r}=t,o=t.virtual&&s.virtual.enabled;e.removeClass(`${s.slideActiveClass} ${s.slideNextClass} ${s.slidePrevClass} ${s.slideDuplicateActiveClass} ${s.slideDuplicateNextClass} ${s.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${s.slideClass}[data-swiper-slide-index="${n}"]`):a=e.eq(n),a.addClass(s.slideActiveClass),s.loop&&(a.hasClass(s.slideDuplicateClass)?i.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${r}"]`).addClass(s.slideDuplicateActiveClass):i.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${r}"]`).addClass(s.slideDuplicateActiveClass));let l=a.nextAll(`.${s.slideClass}`).eq(0).addClass(s.slideNextClass);s.loop&&l.length===0&&(l=e.eq(0),l.addClass(s.slideNextClass));let h=a.prevAll(`.${s.slideClass}`).eq(0).addClass(s.slidePrevClass);s.loop&&h.length===0&&(h=e.eq(-1),h.addClass(s.slidePrevClass)),s.loop&&(l.hasClass(s.slideDuplicateClass)?i.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass):i.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass),h.hasClass(s.slideDuplicateClass)?i.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass):i.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass)),t.emitSlidesClasses()}function sS(t){const e=this,s=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:i,snapGrid:n,params:r,activeIndex:o,realIndex:a,snapIndex:l}=e;let h=t,c;if(typeof h>"u"){for(let d=0;d<i.length;d+=1)typeof i[d+1]<"u"?s>=i[d]&&s<i[d+1]-(i[d+1]-i[d])/2?h=d:s>=i[d]&&s<i[d+1]&&(h=d+1):s>=i[d]&&(h=d);r.normalizeSlideIndex&&(h<0||typeof h>"u")&&(h=0)}if(n.indexOf(s)>=0)c=n.indexOf(s);else{const d=Math.min(r.slidesPerGroupSkip,h);c=d+Math.floor((h-d)/r.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),h===o){c!==l&&(e.snapIndex=c,e.emit("snapIndexChange"));return}const u=parseInt(e.slides.eq(h).attr("data-swiper-slide-index")||h,10);Object.assign(e,{snapIndex:c,realIndex:u,previousIndex:o,activeIndex:h}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==u&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function iS(t){const e=this,s=e.params,i=K(t).closest(`.${s.slideClass}`)[0];let n=!1,r;if(i){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===i){n=!0,r=o;break}}if(i&&n)e.clickedSlide=i,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(K(i).attr("data-swiper-slide-index"),10):e.clickedIndex=r;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}s.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const nS={updateSize:qT,updateSlides:KT,updateAutoHeight:ZT,updateSlidesOffset:JT,updateSlidesProgress:QT,updateProgress:eS,updateSlidesClasses:tS,updateActiveIndex:sS,updateClickedSlide:iS};function rS(t=this.isHorizontal()?"x":"y"){const e=this,{params:s,rtlTranslate:i,translate:n,$wrapperEl:r}=e;if(s.virtualTranslate)return i?-n:n;if(s.cssMode)return n;let o=UT(r[0],t);return i&&(o=-o),o||0}function oS(t,e){const s=this,{rtlTranslate:i,params:n,$wrapperEl:r,wrapperEl:o,progress:a}=s;let l=0,h=0;const c=0;s.isHorizontal()?l=i?-t:t:h=t,n.roundLengths&&(l=Math.floor(l),h=Math.floor(h)),n.cssMode?o[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-l:-h:n.virtualTranslate||r.transform(`translate3d(${l}px, ${h}px, ${c}px)`),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?l:h;let u;const d=s.maxTranslate()-s.minTranslate();d===0?u=0:u=(t-s.minTranslate())/d,u!==a&&s.updateProgress(t),s.emit("setTranslate",s.translate,e)}function aS(){return-this.snapGrid[0]}function lS(){return-this.snapGrid[this.snapGrid.length-1]}function hS(t=0,e=this.params.speed,s=!0,i=!0,n){const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),h=r.maxTranslate();let c;if(i&&t>l?c=l:i&&t<h?c=h:c=t,r.updateProgress(c),o.cssMode){const u=r.isHorizontal();if(e===0)a[u?"scrollLeft":"scrollTop"]=-c;else{if(!r.support.smoothScroll)return Lf({swiper:r,targetPosition:-c,side:u?"left":"top"}),!0;a.scrollTo({[u?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(d){!r||r.destroyed||d.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,s&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}const cS={getTranslate:rS,setTranslate:oS,minTranslate:aS,maxTranslate:lS,translateTo:hS};function uS(t,e){const s=this;s.params.cssMode||s.$wrapperEl.transition(t),s.emit("setTransition",t,e)}function kf({swiper:t,runCallbacks:e,direction:s,step:i}){const{activeIndex:n,previousIndex:r}=t;let o=s;if(o||(n>r?o="next":n<r?o="prev":o="reset"),t.emit(`transition${i}`),e&&n!==r){if(o==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),o==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function dS(t=!0,e){const s=this,{params:i}=s;i.cssMode||(i.autoHeight&&s.updateAutoHeight(),kf({swiper:s,runCallbacks:t,direction:e,step:"Start"}))}function fS(t=!0,e){const s=this,{params:i}=s;s.animating=!1,!i.cssMode&&(s.setTransition(0),kf({swiper:s,runCallbacks:t,direction:e,step:"End"}))}const pS={setTransition:uS,transitionStart:dS,transitionEnd:fS};function mS(t=0,e=this.params.speed,s=!0,i,n){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const g=parseInt(t,10);if(!isFinite(g))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=g}const r=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:h,previousIndex:c,activeIndex:u,rtlTranslate:d,wrapperEl:f,enabled:p}=r;if(r.animating&&a.preventInteractionOnTransition||!p&&!i&&!n)return!1;const m=Math.min(r.params.slidesPerGroupSkip,o);let y=m+Math.floor((o-m)/r.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const x=-l[y];if(a.normalizeSlideIndex)for(let g=0;g<h.length;g+=1){const _=-Math.floor(x*100),T=Math.floor(h[g]*100),k=Math.floor(h[g+1]*100);typeof h[g+1]<"u"?_>=T&&_<k-(k-T)/2?o=g:_>=T&&_<k&&(o=g+1):_>=T&&(o=g)}if(r.initialized&&o!==u&&(!r.allowSlideNext&&x<r.translate&&x<r.minTranslate()||!r.allowSlidePrev&&x>r.translate&&x>r.maxTranslate()&&(u||0)!==o))return!1;o!==(c||0)&&s&&r.emit("beforeSlideChangeStart"),r.updateProgress(x);let b;if(o>u?b="next":o<u?b="prev":b="reset",d&&-x===r.translate||!d&&x===r.translate)return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(x),b!=="reset"&&(r.transitionStart(s,b),r.transitionEnd(s,b)),!1;if(a.cssMode){const g=r.isHorizontal(),_=d?x:-x;if(e===0){const T=r.virtual&&r.params.virtual.enabled;T&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),f[g?"scrollLeft":"scrollTop"]=_,T&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._swiperImmediateVirtual=!1})}else{if(!r.support.smoothScroll)return Lf({swiper:r,targetPosition:_,side:g?"left":"top"}),!0;f.scrollTo({[g?"left":"top"]:_,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(x),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(s,b),e===0?r.transitionEnd(s,b):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(_){!r||r.destroyed||_.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(s,b))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd)),!0}function gS(t=0,e=this.params.speed,s=!0,i){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const n=this;let r=t;return n.params.loop&&(r+=n.loopedSlides),n.slideTo(r,e,s,i)}function yS(t=this.params.speed,e=!0,s){const i=this,{animating:n,enabled:r,params:o}=i;if(!r)return i;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(n&&o.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return o.rewind&&i.isEnd?i.slideTo(0,t,e,s):i.slideTo(i.activeIndex+l,t,e,s)}function xS(t=this.params.speed,e=!0,s){const i=this,{params:n,animating:r,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:h}=i;if(!h)return i;if(n.loop){if(r&&n.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}const c=l?i.translate:-i.translate;function u(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const d=u(c),f=o.map(y=>u(y));let p=o[f.indexOf(d)-1];if(typeof p>"u"&&n.cssMode){let y;o.forEach((x,b)=>{d>=x&&(y=b)}),typeof y<"u"&&(p=o[y>0?y-1:y])}let m=0;if(typeof p<"u"&&(m=a.indexOf(p),m<0&&(m=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(m=m-i.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),n.rewind&&i.isBeginning){const y=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(y,t,e,s)}return i.slideTo(m,t,e,s)}function vS(t=this.params.speed,e=!0,s){const i=this;return i.slideTo(i.activeIndex,t,e,s)}function _S(t=this.params.speed,e=!0,s,i=.5){const n=this;let r=n.activeIndex;const o=Math.min(n.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[a]){const h=n.snapGrid[a],c=n.snapGrid[a+1];l-h>(c-h)*i&&(r+=n.params.slidesPerGroup)}else{const h=n.snapGrid[a-1],c=n.snapGrid[a];l-h<=(c-h)*i&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,t,e,s)}function bS(){const t=this,{params:e,$wrapperEl:s}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let n=t.clickedIndex,r;if(e.loop){if(t.animating)return;r=parseInt(K(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?n<t.loopedSlides-i/2||n>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),n=s.children(`.${e.slideClass}[data-swiper-slide-index="${r}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),ja(()=>{t.slideTo(n)})):t.slideTo(n):n>t.slides.length-i?(t.loopFix(),n=s.children(`.${e.slideClass}[data-swiper-slide-index="${r}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),ja(()=>{t.slideTo(n)})):t.slideTo(n)}else t.slideTo(n)}const wS={slideTo:mS,slideToLoop:gS,slideNext:yS,slidePrev:xS,slideReset:vS,slideToClosest:_S,slideToClickedSlide:bS};function ES(){const t=this,e=ft(),{params:s,$wrapperEl:i}=t,n=i.children().length>0?K(i.children()[0].parentNode):i;n.children(`.${s.slideClass}.${s.slideDuplicateClass}`).remove();let r=n.children(`.${s.slideClass}`);if(s.loopFillGroupWithBlank){const l=s.slidesPerGroup-r.length%s.slidesPerGroup;if(l!==s.slidesPerGroup){for(let h=0;h<l;h+=1){const c=K(e.createElement("div")).addClass(`${s.slideClass} ${s.slideBlankClass}`);n.append(c)}r=n.children(`.${s.slideClass}`)}}s.slidesPerView==="auto"&&!s.loopedSlides&&(s.loopedSlides=r.length),t.loopedSlides=Math.ceil(parseFloat(s.loopedSlides||s.slidesPerView,10)),t.loopedSlides+=s.loopAdditionalSlides,t.loopedSlides>r.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=r.length);const o=[],a=[];r.each((l,h)=>{K(l).attr("data-swiper-slide-index",h)});for(let l=0;l<t.loopedSlides;l+=1){const h=l-Math.floor(l/r.length)*r.length;a.push(r.eq(h)[0]),o.unshift(r.eq(r.length-h-1)[0])}for(let l=0;l<a.length;l+=1)n.append(K(a[l].cloneNode(!0)).addClass(s.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)n.prepend(K(o[l].cloneNode(!0)).addClass(s.slideDuplicateClass))}function TS(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:s,loopedSlides:i,allowSlidePrev:n,allowSlideNext:r,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const c=-o[e]-t.getTranslate();e<i?(l=s.length-i*3+e,l+=i,t.slideTo(l,0,!1,!0)&&c!==0&&t.setTranslate((a?-t.translate:t.translate)-c)):e>=s.length-i&&(l=-s.length+e+i,l+=i,t.slideTo(l,0,!1,!0)&&c!==0&&t.setTranslate((a?-t.translate:t.translate)-c)),t.allowSlidePrev=n,t.allowSlideNext=r,t.emit("loopFix")}function SS(){const t=this,{$wrapperEl:e,params:s,slides:i}=t;e.children(`.${s.slideClass}.${s.slideDuplicateClass},.${s.slideClass}.${s.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}const AS={loopCreate:ES,loopFix:TS,loopDestroy:SS};function CS(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const s=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;s.style.cursor="move",s.style.cursor=t?"grabbing":"grab"}function IS(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const PS={setGrabCursor:CS,unsetGrabCursor:IS};function RS(t,e=this){function s(i){if(!i||i===ft()||i===Ye())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(t);return!n&&!i.getRootNode?null:n||s(i.getRootNode().host)}return s(e)}function MS(t){const e=this,s=ft(),i=Ye(),n=e.touchEventsData,{params:r,touches:o,enabled:a}=e;if(!a||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let h=K(l.target);if(r.touchEventsTarget==="wrapper"&&!h.closest(e.wrapperEl).length||(n.isTouchEvent=l.type==="touchstart",!n.isTouchEvent&&"which"in l&&l.which===3)||!n.isTouchEvent&&"button"in l&&l.button>0||n.isTouched&&n.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=t.composedPath?t.composedPath():t.path;c&&l.target&&l.target.shadowRoot&&u&&(h=K(u[0]));const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(l.target&&l.target.shadowRoot);if(r.noSwiping&&(f?RS(d,h[0]):h.closest(d)[0])){e.allowClick=!0;return}if(r.swipeHandler&&!h.closest(r.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const p=o.currentX,m=o.currentY,y=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,x=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(y&&(p<=x||p>=i.innerWidth-x))if(y==="prevent")t.preventDefault();else return;if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=m,n.touchStartTime=_n(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1),l.type!=="touchstart"){let b=!0;h.is(n.focusableElements)&&(b=!1,h[0].nodeName==="SELECT"&&(n.isTouched=!1)),s.activeElement&&K(s.activeElement).is(n.focusableElements)&&s.activeElement!==h[0]&&s.activeElement.blur();const g=b&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||g)&&!h[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function BS(t){const e=ft(),s=this,i=s.touchEventsData,{params:n,touches:r,rtlTranslate:o,enabled:a}=s;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",l);return}if(i.isTouchEvent&&l.type!=="touchmove")return;const h=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),c=l.type==="touchmove"?h.pageX:l.pageX,u=l.type==="touchmove"?h.pageY:l.pageY;if(l.preventedByNestedSwiper){r.startX=c,r.startY=u;return}if(!s.allowTouchMove){K(l.target).is(i.focusableElements)||(s.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:c,startY:u,currentX:c,currentY:u}),i.touchStartTime=_n());return}if(i.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop){if(s.isVertical()){if(u<r.startY&&s.translate<=s.maxTranslate()||u>r.startY&&s.translate>=s.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(c<r.startX&&s.translate<=s.maxTranslate()||c>r.startX&&s.translate>=s.minTranslate())return}if(i.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&K(l.target).is(i.focusableElements)){i.isMoved=!0,s.allowClick=!1;return}if(i.allowTouchCallbacks&&s.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;r.currentX=c,r.currentY=u;const d=r.currentX-r.startX,f=r.currentY-r.startY;if(s.params.threshold&&Math.sqrt(d**2+f**2)<s.params.threshold)return;if(typeof i.isScrolling>"u"){let x;s.isHorizontal()&&r.currentY===r.startY||s.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:d*d+f*f>=25&&(x=Math.atan2(Math.abs(f),Math.abs(d))*180/Math.PI,i.isScrolling=s.isHorizontal()?x>n.touchAngle:90-x>n.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling){i.isTouched=!1;return}if(!i.startMoving)return;s.allowClick=!1,!n.cssMode&&l.cancelable&&l.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&l.stopPropagation(),i.isMoved||(n.loop&&!n.cssMode&&s.loopFix(),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating&&s.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,n.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",l)),s.emit("sliderMove",l),i.isMoved=!0;let p=s.isHorizontal()?d:f;r.diff=p,p*=n.touchRatio,o&&(p=-p),s.swipeDirection=p>0?"prev":"next",i.currentTranslate=p+i.startTranslate;let m=!0,y=n.resistanceRatio;if(n.touchReleaseOnEdges&&(y=0),p>0&&i.currentTranslate>s.minTranslate()?(m=!1,n.resistance&&(i.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+i.startTranslate+p)**y)):p<0&&i.currentTranslate<s.maxTranslate()&&(m=!1,n.resistance&&(i.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-i.startTranslate-p)**y)),m&&(l.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(p)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=s.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&s.freeMode||n.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&n.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function DS(t){const e=this,s=e.touchEventsData,{params:i,touches:n,rtlTranslate:r,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),s.allowTouchCallbacks&&e.emit("touchEnd",l),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&i.grabCursor&&e.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}i.grabCursor&&s.isMoved&&s.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=_n(),c=h-s.touchStartTime;if(e.allowClick){const b=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(b&&b[0]||l.target),e.emit("tap click",l),c<300&&h-s.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(s.lastClickTime=_n(),ja(()=>{e.destroyed||(e.allowClick=!0)}),!s.isTouched||!s.isMoved||!e.swipeDirection||n.diff===0||s.currentTranslate===s.startTranslate){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let u;if(i.followFinger?u=r?e.translate:-e.translate:u=-s.currentTranslate,i.cssMode)return;if(e.params.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:u});return}let d=0,f=e.slidesSizesGrid[0];for(let b=0;b<o.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){const g=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof o[b+g]<"u"?u>=o[b]&&u<o[b+g]&&(d=b,f=o[b+g]-o[b]):u>=o[b]&&(d=b,f=o[o.length-1]-o[o.length-2])}let p=null,m=null;i.rewind&&(e.isBeginning?m=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(p=0));const y=(u-o[d])/f,x=d<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(c>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?p:d+x):e.slideTo(d)),e.swipeDirection==="prev"&&(y>1-i.longSwipesRatio?e.slideTo(d+x):m!==null&&y<0&&Math.abs(y)>i.longSwipesRatio?e.slideTo(m):e.slideTo(d))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(d+x):e.slideTo(d):(e.swipeDirection==="next"&&e.slideTo(p!==null?p:d+x),e.swipeDirection==="prev"&&e.slideTo(m!==null?m:d))}}function Jc(){const t=this,{params:e,el:s}=t;if(s&&s.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:r}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=n,t.allowSlideNext=i,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function FS(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function OS(){const t=this,{wrapperEl:e,rtlTranslate:s,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let n;const r=t.maxTranslate()-t.minTranslate();r===0?n=0:n=(t.translate-t.minTranslate())/r,n!==t.progress&&t.updateProgress(s?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let Qc=!1;function LS(){}const Uf=(t,e)=>{const s=ft(),{params:i,touchEvents:n,el:r,wrapperEl:o,device:a,support:l}=t,h=!!i.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;if(!l.touch)r[c](n.start,t.onTouchStart,!1),s[c](n.move,t.onTouchMove,h),s[c](n.end,t.onTouchEnd,!1);else{const d=n.start==="touchstart"&&l.passiveListener&&i.passiveListeners?{passive:!0,capture:!1}:!1;r[c](n.start,t.onTouchStart,d),r[c](n.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:h}:h),r[c](n.end,t.onTouchEnd,d),n.cancel&&r[c](n.cancel,t.onTouchEnd,d)}(i.preventClicks||i.preventClicksPropagation)&&r[c]("click",t.onClick,!0),i.cssMode&&o[c]("scroll",t.onScroll),i.updateOnWindowResize?t[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Jc,!0):t[u]("observerUpdate",Jc,!0)};function NS(){const t=this,e=ft(),{params:s,support:i}=t;t.onTouchStart=MS.bind(t),t.onTouchMove=BS.bind(t),t.onTouchEnd=DS.bind(t),s.cssMode&&(t.onScroll=OS.bind(t)),t.onClick=FS.bind(t),i.touch&&!Qc&&(e.addEventListener("touchstart",LS),Qc=!0),Uf(t,"on")}function kS(){Uf(this,"off")}const US={attachEvents:NS,detachEvents:kS},eu=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function GS(){const t=this,{activeIndex:e,initialized:s,loopedSlides:i=0,params:n,$el:r}=t,o=n.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const h=(a in o?o[a]:void 0)||t.originalParams,c=eu(t,n),u=eu(t,h),d=n.enabled;c&&!u?(r.removeClass(`${n.containerModifierClass}grid ${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(r.addClass(`${n.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&n.grid.fill==="column")&&r.addClass(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{const x=n[y]&&n[y].enabled,b=h[y]&&h[y].enabled;x&&!b&&t[y].disable(),!x&&b&&t[y].enable()});const f=h.direction&&h.direction!==n.direction,p=n.loop&&(h.slidesPerView!==n.slidesPerView||f);f&&s&&t.changeDirection(),ut(t.params,h);const m=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!m?t.disable():!d&&m&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",h),p&&s&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-i+t.loopedSlides,0,!1)),t.emit("breakpoint",h)}function zS(t,e="window",s){if(!t||e==="container"&&!s)return;let i=!1;const n=Ye(),r=e==="window"?n.innerHeight:s.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:h}=o[a];e==="window"?n.matchMedia(`(min-width: ${h}px)`).matches&&(i=l):h<=s.clientWidth&&(i=l)}return i||"max"}const HS={setBreakpoint:GS,getBreakpoint:zS};function jS(t,e){const s=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&s.push(e+n)}):typeof i=="string"&&s.push(e+i)}),s}function XS(){const t=this,{classNames:e,params:s,rtl:i,$el:n,device:r,support:o}=t,a=jS(["initialized",s.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:i},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);e.push(...a),n.addClass([...e].join(" ")),t.emitContainerClasses()}function VS(){const t=this,{$el:e,classNames:s}=t;e.removeClass(s.join(" ")),t.emitContainerClasses()}const WS={addClasses:XS,removeClasses:VS};function YS(t,e,s,i,n,r){const o=Ye();let a;function l(){r&&r()}!K(t).parent("picture")[0]&&(!t.complete||!n)&&e?(a=new o.Image,a.onload=l,a.onerror=l,i&&(a.sizes=i),s&&(a.srcset=s),e&&(a.src=e)):l()}function $S(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let s=0;s<t.imagesToLoad.length;s+=1){const i=t.imagesToLoad[s];t.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}const qS={loadImage:YS,preloadImages:$S};function KS(){const t=this,{isLocked:e,params:s}=t,{slidesOffsetBefore:i}=s;if(i){const n=t.slides.length-1,r=t.slidesGrid[n]+t.slidesSizesGrid[n]+i*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;s.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),s.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const ZS={checkOverflow:KS},tu={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function JS(t,e){return function(i={}){const n=Object.keys(i)[0],r=i[n];if(typeof r!="object"||r===null){ut(e,i);return}if(["navigation","pagination","scrollbar"].indexOf(n)>=0&&t[n]===!0&&(t[n]={auto:!0}),!(n in t&&"enabled"in r)){ut(e,i);return}t[n]===!0&&(t[n]={enabled:!0}),typeof t[n]=="object"&&!("enabled"in t[n])&&(t[n].enabled=!0),t[n]||(t[n]={enabled:!1}),ut(e,i)}}const Ko={eventsEmitter:$T,update:nS,translate:cS,transition:pS,slide:wS,loop:AS,grabCursor:PS,events:US,breakpoints:HS,checkOverflow:ZS,classes:WS,images:qS},Zo={};class rt{constructor(...e){let s,i;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[s,i]=e,i||(i={}),i=ut({},i),s&&!i.el&&(i.el=s),i.el&&K(i.el).length>1){const a=[];return K(i.el).each(l=>{const h=ut({},i,{el:l});a.push(new rt(h))}),a}const n=this;n.__swiper__=!0,n.support=Nf(),n.device=jT({userAgent:i.userAgent}),n.browser=VT(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],i.modules&&Array.isArray(i.modules)&&n.modules.push(...i.modules);const r={};n.modules.forEach(a=>{a({swiper:n,extendParams:JS(i,r),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});const o=ut({},tu,r);return n.params=ut({},o,Zo,i),n.originalParams=ut({},n.params),n.passedParams=ut({},i),n.params&&n.params.on&&Object.keys(n.params.on).forEach(a=>{n.on(a,n.params.on[a])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),n.$=K,Object.assign(n,{enabled:n.params.enabled,el:s,classNames:[],slides:K(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return n.params.direction==="horizontal"},isVertical(){return n.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],h=["pointerdown","pointermove","pointerup"];return n.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},n.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},n.support.touch||!n.params.simulateTouch?n.touchEventsTouch:n.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:_n(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,s){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),o=(i.maxTranslate()-n)*e+n;i.translateTo(o,typeof s>"u"?0:s),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const s=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",s.join(" "))}getSlideClasses(e){const s=this;return s.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const s=[];e.slides.each(i=>{const n=e.getSlideClasses(i);s.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",s)}slidesPerViewDynamic(e="current",s=!1){const i=this,{params:n,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:h}=i;let c=1;if(n.centeredSlides){let u=r[h].swiperSlideSize,d;for(let f=h+1;f<r.length;f+=1)r[f]&&!d&&(u+=r[f].swiperSlideSize,c+=1,u>l&&(d=!0));for(let f=h-1;f>=0;f-=1)r[f]&&!d&&(u+=r[f].swiperSlideSize,c+=1,u>l&&(d=!0))}else if(e==="current")for(let u=h+1;u<r.length;u+=1)(s?o[u]+a[u]-o[h]<l:o[u]-o[h]<l)&&(c+=1);else for(let u=h-1;u>=0;u-=1)o[h]-o[u]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:s,params:i}=e;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;e.params.freeMode&&e.params.freeMode.enabled?(n(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?r=e.slideTo(e.slides.length-1,0,!1,!0):r=e.slideTo(e.activeIndex,0,!1,!0),r||n()),i.watchOverflow&&s!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,s=!0){const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.$el.removeClass(`${i.params.containerModifierClass}${n}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),s&&i.update()),i}changeLanguageDirection(e){const s=this;s.rtl&&e==="rtl"||!s.rtl&&e==="ltr"||(s.rtl=e==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.$el.addClass(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.$el.removeClass(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(e){const s=this;if(s.mounted)return!0;const i=K(e||s.params.el);if(e=i[0],!e)return!1;e.swiper=s;const n=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=K(e.shadowRoot.querySelector(n()));return a.children=l=>i.children(l),a}return i.children?i.children(n()):K(i).children(n())})();if(o.length===0&&s.params.createElements){const l=ft().createElement("div");o=K(l),l.className=s.params.wrapperClass,i.append(l),i.children(`.${s.params.slideClass}`).each(h=>{o.append(h)})}return Object.assign(s,{$el:i,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||i.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const s=this;return s.initialized||s.mount(e)===!1||(s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.params.loop&&s.loopCreate(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.preloadImages&&s.preloadImages(),s.params.loop?s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.attachEvents(),s.initialized=!0,s.emit("init"),s.emit("afterInit")),s}destroy(e=!0,s=!0){const i=this,{params:n,$el:r,$wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),s&&(i.removeClasses(),r.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.$el[0].swiper=null,NT(i)),i.destroyed=!0),null}static extendDefaults(e){ut(Zo,e)}static get extendedDefaults(){return Zo}static get defaults(){return tu}static installModule(e){rt.prototype.__modules__||(rt.prototype.__modules__=[]);const s=rt.prototype.__modules__;typeof e=="function"&&s.indexOf(e)<0&&s.push(e)}static use(e){return Array.isArray(e)?(e.forEach(s=>rt.installModule(s)),rt):(rt.installModule(e),rt)}}Object.keys(Ko).forEach(t=>{Object.keys(Ko[t]).forEach(e=>{rt.prototype[e]=Ko[t][e]})});rt.use([WT,YT]);function ai(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Es(t,e){const s=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>s.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:ai(e[i])&&ai(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:Es(t[i],e[i]):t[i]=e[i]})}function Gf(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function zf(t={}){return t.pagination&&typeof t.pagination.el>"u"}function Hf(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function jf(t=""){const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),s=[];return e.forEach(i=>{s.indexOf(i)<0&&s.push(i)}),s.join(" ")}const Xf=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function su(t={},e=!0){const s={on:{}},i={},n={};Es(s,rt.defaults),Es(s,rt.extendedDefaults),s._emitClasses=!0,s.init=!1;const r={},o=Xf.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ai(t[l])?(s[l]={},n[l]={},Es(s[l],t[l]),Es(n[l],t[l])):(s[l]=t[l],n[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?i[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{s[l]===!0&&(s[l]={}),s[l]===!1&&delete s[l]}),{params:s,passedParams:n,rest:r,events:i}}function QS({el:t,nextEl:e,prevEl:s,paginationEl:i,scrollbarEl:n,swiper:r},o){Gf(o)&&e&&s&&(r.params.navigation.nextEl=e,r.originalParams.navigation.nextEl=e,r.params.navigation.prevEl=s,r.originalParams.navigation.prevEl=s),zf(o)&&i&&(r.params.pagination.el=i,r.originalParams.pagination.el=i),Hf(o)&&n&&(r.params.scrollbar.el=n,r.originalParams.scrollbar.el=n),r.init(t)}const Vf=(t,e)=>{let s=e.slidesPerView;if(e.breakpoints){const n=rt.prototype.getBreakpoint(e.breakpoints),r=n in e.breakpoints?e.breakpoints[n]:void 0;r&&r.slidesPerView&&(s=r.slidesPerView)}let i=Math.ceil(parseFloat(e.loopedSlides||s,10));return i+=e.loopAdditionalSlides,i>t.length&&e.loopedSlidesLimit&&(i=t.length),i};function eA(t,e,s){const i=e.map((l,h)=>(l.props||(l.props={}),l.props.swiperRef=t,l.props["data-swiper-slide-index"]=h,l));function n(l,h,c){return l.props||(l.props={}),Pt(l.type,{...l.props,key:`${l.key}-duplicate-${h}-${c}`,class:`${l.props.className||""} ${s.slideDuplicateClass} ${l.props.class||""}`},l.children)}if(s.loopFillGroupWithBlank){const l=s.slidesPerGroup-i.length%s.slidesPerGroup;if(l!==s.slidesPerGroup)for(let h=0;h<l;h+=1){const c=Pt("div",{class:`${s.slideClass} ${s.slideBlankClass}`});i.push(c)}}s.slidesPerView==="auto"&&!s.loopedSlides&&(s.loopedSlides=i.length);const r=Vf(i,s),o=[],a=[];for(let l=0;l<r;l+=1){const h=l-Math.floor(l/i.length)*i.length;a.push(n(i[h],l,"append")),o.unshift(n(i[i.length-h-1],l,"prepend"))}return t.value&&(t.value.loopedSlides=r),[...o,...i,...a]}function tA(t,e,s,i,n){const r=[];if(!e)return r;const o=l=>{r.indexOf(l)<0&&r.push(l)};if(s&&i){const l=i.map(n),h=s.map(n);l.join("")!==h.join("")&&o("children"),i.length!==s.length&&o("children")}return Xf.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ai(t[l])&&ai(e[l])){const h=Object.keys(t[l]),c=Object.keys(e[l]);h.length!==c.length?o(l):(h.forEach(u=>{t[l][u]!==e[l][u]&&o(l)}),c.forEach(u=>{t[l][u]!==e[l][u]&&o(l)}))}else t[l]!==e[l]&&o(l)}),r}function Jo(t,e,s){t===void 0&&(t={});const i=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,a)=>{!Array.isArray(o)||o.forEach(l=>{const h=typeof l.type=="symbol";a==="default"&&(a="container-end"),h&&l.children?r(l.children,"default"):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?i.push(l):n[a]&&n[a].push(l)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const a=t[o]();r(a,o)}),s.value=e.value,e.value=i,{slides:i,slots:n}}function sA({swiper:t,slides:e,passedParams:s,changedParams:i,nextEl:n,prevEl:r,scrollbarEl:o,paginationEl:a}){const l=i.filter(T=>T!=="children"&&T!=="direction"),{params:h,pagination:c,navigation:u,scrollbar:d,virtual:f,thumbs:p}=t;let m,y,x,b,g;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&h.thumbs&&!h.thumbs.swiper&&(m=!0),i.includes("controller")&&s.controller&&s.controller.control&&h.controller&&!h.controller.control&&(y=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||a)&&(h.pagination||h.pagination===!1)&&c&&!c.el&&(x=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||o)&&(h.scrollbar||h.scrollbar===!1)&&d&&!d.el&&(b=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||r)&&(s.navigation.nextEl||n)&&(h.navigation||h.navigation===!1)&&u&&!u.prevEl&&!u.nextEl&&(g=!0);const _=T=>{!t[T]||(t[T].destroy(),T==="navigation"?(h[T].prevEl=void 0,h[T].nextEl=void 0,t[T].prevEl=void 0,t[T].nextEl=void 0):(h[T].el=void 0,t[T].el=void 0))};l.forEach(T=>{if(ai(h[T])&&ai(s[T]))Es(h[T],s[T]);else{const k=s[T];(k===!0||k===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?k===!1&&_(T):h[T]=s[T]}}),l.includes("controller")&&!y&&t.controller&&t.controller.control&&h.controller&&h.controller.control&&(t.controller.control=h.controller.control),i.includes("children")&&e&&f&&h.virtual.enabled?(f.slides=e,f.update(!0)):i.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),m&&p.init()&&p.update(!0),y&&(t.controller.control=h.controller.control),x&&(a&&(h.pagination.el=a),c.init(),c.render(),c.update()),b&&(o&&(h.scrollbar.el=o),d.init(),d.updateSize(),d.setTranslate()),g&&(n&&(h.navigation.nextEl=n),r&&(h.navigation.prevEl=r),u.init(),u.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&t.changeDirection(s.direction,!1),t.update()}function iA(t,e,s){if(!s)return null;const i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${s.offset}px`}:{top:`${s.offset}px`};return e.filter((n,r)=>r>=s.from&&r<=s.to).map(n=>(n.props||(n.props={}),n.props.style||(n.props.style={}),n.props.swiperRef=t,n.props.style=i,Pt(n.type,{...n.props},n.children)))}const nA=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())},rA={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:Number,default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},preloadImages:{type:Boolean,default:void 0},updateOnImagesReady:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopedSlides:{type:Number,default:void 0},loopedSlidesLimit:{type:Boolean,default:!0},loopFillGroupWithBlank:{type:Boolean,default:void 0},loopPreventsSlide:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideDuplicateActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideDuplicateClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slideDuplicateNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},slideDuplicatePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},lazy:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","imagesReady","init","keyPress","lazyImageLoad","lazyImageReady","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:s,emit:i}=e;const{tag:n,wrapperTag:r}=t,o=ze("swiper"),a=ze(null),l=ze(!1),h=ze(!1),c=ze(null),u=ze(null),d=ze(null),f={value:[]},p={value:[]},m=ze(null),y=ze(null),x=ze(null),b=ze(null),{params:g,passedParams:_}=su(t,!1);Jo(s,f,p),d.value=_,p.value=f.value;const T=()=>{Jo(s,f,p),l.value=!0};if(g.onAny=function(I){for(var E=arguments.length,G=new Array(E>1?E-1:0),C=1;C<E;C++)G[C-1]=arguments[C];i(I,...G)},Object.assign(g.on,{_beforeBreakpoint:T,_containerClasses(I,E){o.value=E}}),u.value=new rt(g),u.value.loopCreate=()=>{},u.value.loopDestroy=()=>{},g.loop&&(u.value.loopedSlides=Vf(f.value,g)),u.value.virtual&&u.value.params.virtual.enabled){u.value.virtual.slides=f.value;const I={cache:!1,slides:f.value,renderExternal:E=>{a.value=E},renderExternalUpdate:!1};Es(u.value.params.virtual,I),Es(u.value.originalParams.virtual,I)}al(()=>{!h.value&&u.value&&(u.value.emitSlidesClasses(),h.value=!0);const{passedParams:I}=su(t,!1),E=tA(I,d.value,f.value,p.value,G=>G.props&&G.props.key);d.value=I,(E.length||l.value)&&u.value&&!u.value.destroyed&&sA({swiper:u.value,slides:f.value,passedParams:I,changedParams:E,nextEl:m.value,prevEl:y.value,scrollbarEl:b.value,paginationEl:x.value}),l.value=!1}),rl("swiper",u),lr(a,()=>{Au(()=>{nA(u.value)})}),li(()=>{!c.value||(QS({el:c.value,nextEl:m.value,prevEl:y.value,paginationEl:x.value,scrollbarEl:b.value,swiper:u.value},g),i("swiper",u.value))}),Vr(()=>{u.value&&!u.value.destroyed&&u.value.destroy(!0,!1)});function k(I){return g.virtual?iA(u,I,a.value):!g.loop||u.value&&u.value.destroyed?(I.forEach(E=>{E.props||(E.props={}),E.props.swiperRef=u}),I):eA(u,I,g)}return()=>{const{slides:I,slots:E}=Jo(s,f,p);return Pt(n,{ref:c,class:jf(o.value)},[E["container-start"],Pt(r,{class:"swiper-wrapper"},[E["wrapper-start"],k(I),E["wrapper-end"]]),Gf(t)&&[Pt("div",{ref:y,class:"swiper-button-prev"}),Pt("div",{ref:m,class:"swiper-button-next"})],Hf(t)&&Pt("div",{ref:b,class:"swiper-scrollbar"}),zf(t)&&Pt("div",{ref:x,class:"swiper-pagination"}),E["container-end"]])}}},oA={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},zoom:{type:Boolean,default:void 0},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:s}=e,i=!1;const{swiperRef:n}=t,r=ze(null),o=ze("swiper-slide");function a(h,c,u){c===r.value&&(o.value=u)}li(()=>{!n||!n.value||(n.value.on("_slideClass",a),i=!0)}),Nu(()=>{i||!n||!n.value||(n.value.on("_slideClass",a),i=!0)}),al(()=>{!r.value||!n||!n.value||n.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide")}),Vr(()=>{!n||!n.value||n.value.off("_slideClass",a)});const l=Zu(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0||o.value.indexOf("swiper-slide-duplicate-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isDuplicate:o.value.indexOf("swiper-slide-duplicate")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0||o.value.indexOf("swiper-slide-duplicate-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0||o.value.indexOf("swiper-slide-duplicate-next")>=0}));return rl("swiperSlide",l),()=>Pt(t.tag,{class:jf(`${o.value}`),ref:r,"data-swiper-slide-index":t.virtualIndex},t.zoom?Pt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},s.default&&s.default(l.value)):s.default&&s.default(l.value))}};const aA=ol({__name:"BagBox",props:{msg:null,splist:null},setup(t){ze(0);const e=ze(1),s=ze(1);return li(()=>{e.value=window.screen.width,s.value=window.screen.height,console.log(e.value),console.log("onBagMounted")}),(i,n)=>(ei(),Tr("div",{style:Cs("width:70px;height:"+s.value+"px"),class:"wrapper"},[ot(sn(rA),{spaceBetween:2,slidesPerView:s.value/60,freeMode:!0,loop:!1,direction:"vertical",class:"content"},{default:na(()=>[(ei(!0),Tr(It,null,pm(t.splist,r=>(ei(),cl(sn(oA),{key:r.name},{default:na(()=>[ot(KE,{sp:r},null,8,["sp"])]),_:2},1024))),128))]),_:1},8,["slidesPerView"])],4))}});const lA=Ll(aA,[["__scopeId","data-v-60c12723"]]),hA={class:"root"},cA=ol({__name:"App",setup(t){const e=ze(null);let s;const i=ze(!0),n=ze(!0),r=ze($c),o=ze(qc),a=()=>{i.value=!i.value,r.value=i.value?$c:WE,console.log(i.value),i.value==!1?console.log("music close"):console.log("music open")},l=()=>{if(console.log(n.value),n.value=!n.value,o.value=n.value?qc:YE,n.value)for(let h=0;h<s.length;h++)s[h].setspedit(!1),console.log("\u5173\u95ED\u7CBE\u7075\u7F16\u8F91\u72B6\u6001\uFF1A",s[h]),s[h].sprite.interactive=!1,vn.updatasprite(s[h])};return li(async()=>{var d;let h=window.screen.width,c=window.screen.height;h>c?console.log("\u6A2A\u5C4F"):console.log("\u7AD6\u5C4F"),await ns.init(window.screen.width,window.screen.height);const u=ns.getCanvas();(d=e.value)==null||d.appendChild(u),ns.loadobj(window.screen.width,window.screen.height),ns.tickinit(),ns.loadeventlisten(),s=ns.getloadsprite(),console.log("load sprite",s)}),(h,c)=>(ei(),Tr("div",hA,[Ei("div",{class:"main-canvas",ref_key:"canvas",ref:e},null,512),Ei("div",{class:Lr(["setfurniture",{openfurn:n.value,closefurn:!n.value}]),style:Cs({backgroundImage:"url("+o.value+")"}),onClick:l},null,6),Ei("div",{ref:"music",style:Cs({backgroundImage:"url("+r.value+")"}),class:"setmusicbuttom",onClick:a},null,4),n.value?Lm("",!0):(ei(),cl(lA,{key:0,msg:"asd",splist:sn(s)},null,8,["splist"]))]))}});const uA=Ll(cA,[["__scopeId","data-v-56ccc29c"]]),dA=gg(uA);dA.mount("#app");
